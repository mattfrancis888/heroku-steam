{"version":3,"sources":["actions/types.tsx","browserHistory.tsx","windowDimensions.tsx","webpack:///./src/constants.ts?85ee","components/FeaturedCarousel.tsx","components/SpecialOfferCarousel.tsx","components/CommunityCarousel.tsx","reducers/authReducer.tsx","reducers/gamesReducer.tsx","reducers/discountedGamesReducer.tsx","reducers/gameInfoReducer.tsx","reducers/errorReducer.tsx","reducers/gameInfoReviewsReducer.tsx","reducers/profileReducer.tsx","reducers/index.tsx","Root.tsx","actions/axiosConfig.tsx","actions/auth.tsx","actions/games.tsx","components/Loading.tsx","components/Searchbar.tsx","useComponentVisible.tsx","components/CartAndSearchbar.tsx","components/Home.tsx","components/Header.tsx","components/GameInfoCarousel.tsx","components/WriteReview.tsx","img/defaultAvatar.png","components/EditReview.tsx","components/GameInfo.tsx","components/Cart.tsx","components/RegisterForm.tsx","components/Register.tsx","components/SignInForm.tsx","img/joinPc.png","components/SignIn.tsx","components/EditProfileForm.tsx","components/requireAuth.tsx","components/Profile.tsx","actions/profile.tsx","components/Search.tsx","components/Routes.tsx","components/App.tsx","index.tsx"],"names":["ActionTypes","createBrowserHistory","getWindowDimensions","window","width","innerWidth","height","innerHeight","useWindowDimensions","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","SERVER_ERROR_MESSAGE","ACCESS_TOKEN","LG_SCREEN_SIZE","FeaturedCarousel","props","displayImage","setDisplayImage","autoPlay","setAutoPlay","transition","useTransition","from","opacity","enter","leave","config","duration","renderPrice","content","parseFloat","discount_percentage","className","price","toFixed","price_after_discount","renderScreenshotsForGame","gameId","gameForSlide","_","filter","game_id","length","screenshots","map","screenshot","index","src","onMouseEnter","e","alt","onMouseLeave","naturalSlideWidth","naturalSlideHeight","totalSlides","visibleSlides","infinite","step","isPlaying","interval","onClick","history","push","onLoad","anime","targets","value","easing","style","item","img","cover_url","title","SpecialOfferCarousel","specialofferContent","chunk","contents","videosFromSteam","CommunityCarousel","setStyle","playsInline","muted","loop","type","about","AUTH_STATE","authenticated","errorMessage","authReducer","state","action","AUTH_USER","payload","token","AUTH_ERROR","gamesReducer","FETCH_GAMES","FETCH_GAMES_BY_KEYWORD","data","FETCH_GAMES_DISCOUNTED","GameInfoReducer","FETCH_GAME_INFO","erorrReducer","GAME_ERROR","gameInfoReviewsReducer","FETCH_GAME_INFO_REVIEWS","POST_REVIEW","EDIT_REVIEW","DELETE_REVIEW","ProfileReducer","FETCH_PROFILE","EDIT_PROFILE","combineReducers","authStatus","games","gamesBaseInfoReducer","discountedGames","discountedGamesReducer","gameInfo","gameInfoReducer","gameInfoReviews","profile","profileReducer","errors","errorReducer","form","formReducer","store","createStore","reducers","Cookies","get","composeWithDevTools","applyMiddleware","reduxThunk","provider","initialState","children","axiosConfig","axios","create","withCredentials","interceptors","request","use","headers","error","Promise","reject","response","originalRequest","status","_retry","post","then","res","dispatch","validateToken","url","catch","signOut","a","auth","alert","path","retriedCalling","fetchGames","fetchDiscountedGames","fetchGamesByKeyword","queryPath","Loading","color","timeout","connect","initialIsVisible","isComponentVisible","setIsComponentVisible","ref","useRef","handleClickOutside","event","current","contains","target","document","useComponentVisible","searchBarInputRef","searchTerm","setSearchTerm","dataSet","delayDebounceFn","setTimeout","fetchMyAPI","clearTimeout","Fragment","autoFocus","data-testid","placeholder","name","onChange","onKeyDown","key","preventDefault","autoComplete","game","renderSearchPreview","CartAndSearchbar","localCart","localStorage","getItem","JSON","parse","hoverData","setHoverData","specialsTabClicked","setSpecialsTabClicked","renderGenresForGameText","filteredContent","genres","genre","renderGenresForGameTag","renderChartGames","contentToRender","onMouseOver","renderChartGamePreview","specialTabsHoverData","carouselSplit","pathname","search","renderContent","GameInfoCarousel","imageClicked","setImageClicked","renderError","touched","renderTextArea","input","label","meta","placeHolder","reduxForm","validate","formValues","opinion","onSubmit","handleSubmit","Field","component","recommend","onRecommendorNot","enableReinitialize","onDelete","fetchGameInfo","fetchGameInfoReviews","postReview","editReview","patch","deleteReview","delete","cart","setCart","parsedLocalCart","itemEls","Array","match","params","email","jwt_decode","subject","reviews","setRecommend","renderWriteReview","onSubmitPostReview","renderEditReview","onSubmitEditReview","onSubmitDeleteReview","initialValues","renderThumbIconForReview","recommendObj","updatedObj","Object","assign","scrollIntoView","behavior","editedReviewIndex","findIndex","moment","release_date","format","cartCopy","find","cartItem","stringCart","stringify","setItem","addItem","review","element","avatar_url","defaultAvatar","onError","username","Cart","cartString","removeItem","reduce","acc","curr","console","log","clear","renderTextInput","renderPasswordInput","password","signUp","onSubmitRegister","signIn","onSubmitSignIn","joinPc","renderAutoFocusTextInput","renderFieldSectionLayout","useLocation","openFileExplorer","listingImage","setListingImage","cloudinaryImage","setCloudinaryImage","renderImageUpload","optionValues","accept","display","renderImageUploadPreview","click","renderImage","backgroundImage","backgroundPosition","backgroundSize","backgroundColor","withRef","URL","createObjectURL","files","change","hoc","ChildComponent","ComposedComponent","this","shouldNavigateAway","location","Component","fetchProfile","editProfile","cloudinaryPublicId","existingCloudinaryImagePath","cloudinaryImagePath","image","FileList","formData","FormData","append","put","imagePathResponse","keys","requireAuth","onSubmitEditProfile","split","pop","imagePreview","queryValues","queryString","q","undefined","specials","Routes","exact","Home","GameInfo","SignIn","Register","Profile","Search","App","listen","scrollTo","ReactDOM","render","StrictMode","Root","getElementById"],"mappings":"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","file":"static/js/main.49705d3f.chunk.js","sourcesContent":["import { AuthUserAction, AuthErrorAction } from \"../actions\";\r\n\r\nexport enum ActionTypes {\r\n    AUTH_USER,\r\n    AUTH_ERROR,\r\n    FETCH_GAMES,\r\n    FETCH_GAMES_DISCOUNTED,\r\n    FETCH_GAME_INFO,\r\n    FETCH_GAME_INFO_REVIEWS,\r\n    POST_REVIEW,\r\n    EDIT_REVIEW,\r\n    DELETE_REVIEW,\r\n    FETCH_PROFILE,\r\n    EDIT_PROFILE,\r\n    FETCH_GAMES_BY_KEYWORD,\r\n    ADD_TO_CART,\r\n    GAME_ERROR,\r\n}\r\nexport type AuthActions = AuthUserAction | AuthErrorAction;\r\n","import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory();\r\n","import React from \"react\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst getWindowDimensions = () => {\r\n    const { innerWidth: width, innerHeight: height } = window;\r\n    return {\r\n        width,\r\n        height,\r\n    };\r\n};\r\n\r\nconst useWindowDimensions = () => {\r\n    const [windowDimensions, setWindowDimensions] = useState(\r\n        getWindowDimensions()\r\n    );\r\n\r\n    useEffect(() => {\r\n        function handleResize() {\r\n            setWindowDimensions(getWindowDimensions());\r\n        }\r\n\r\n        window.addEventListener(\"resize\", handleResize);\r\n        return () => window.removeEventListener(\"resize\", handleResize);\r\n    }, []);\r\n\r\n    return windowDimensions;\r\n};\r\nexport default useWindowDimensions;\r\n","export const SERVER_ERROR_MESSAGE =\r\n    \"Uh oh...something went wrong. Check your internet connection and try again.\";\r\nexport const ACCESS_TOKEN = \"ACCESS_TOKEN\";\r\nexport const SM_SCREEN_SIZE = 520;\r\nexport const MED_SCREEN_SIZE = 768;\r\nexport const LG_SCREEN_SIZE = 992;\r\nexport const XL_SCREEN_SIZE = 1200;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport {\r\n    CarouselProvider,\r\n    Slider,\r\n    Slide,\r\n    DotGroup,\r\n    ButtonBack,\r\n    ButtonNext,\r\n} from \"pure-react-carousel\";\r\nimport \"pure-react-carousel/dist/react-carousel.es.css\";\r\nimport { RiArrowRightSLine, RiArrowLeftSLine } from \"react-icons/ri\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport history from \"../browserHistory\";\r\nimport useWindowDimensions from \"../windowDimensions\";\r\nimport { FeaturedCarouselProps } from \"./Home\";\r\nimport anime from \"animejs/lib/anime.es.js\";\r\nimport { LG_SCREEN_SIZE, MED_SCREEN_SIZE } from \"../constants\";\r\nimport { Game } from \"../actions\";\r\nimport _ from \"lodash\";\r\nimport { useTransition, animated, useSpring } from \"react-spring\";\r\n\r\nconst FeaturedCarousel: React.FC<FeaturedCarouselProps> = (props) => {\r\n    const { width } = useWindowDimensions();\r\n    const [displayImage, setDisplayImage] = useState(\"\");\r\n    const [autoPlay, setAutoPlay] = useState(false);\r\n\r\n    const transition = useTransition(displayImage, {\r\n        from: {\r\n            opacity: 0,\r\n        },\r\n        enter: {\r\n            opacity: 1,\r\n        },\r\n        leave: {\r\n            opacity: 1,\r\n        },\r\n\r\n        config: {\r\n            duration: 1000,\r\n        },\r\n    });\r\n\r\n    const renderPrice = (content: Game) => {\r\n        if (parseFloat(content.discount_percentage) > 0) {\r\n            return (\r\n                <div className=\"featuredAdjustedPriceWrap\">\r\n                    <div className=\"featuredDiscount\">\r\n                        <p>-{parseFloat(content.discount_percentage) * 100}%</p>\r\n                    </div>\r\n                    <div className=\"featuredPriceStrikedAndPriceWrap\">\r\n                        <p className=\"featuredOrigPriceStriked\">\r\n                            ${parseFloat(content.price).toFixed(2)}\r\n                        </p>\r\n                        <p className=\"featuredGamePrice\">\r\n                            $\r\n                            {parseFloat(content.price_after_discount).toFixed(\r\n                                2\r\n                            )}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            //no discount\r\n            return (\r\n                <div className=\"featuredGamePriceInnerWrap\">\r\n                    <p className=\"featuredGamePrice\">\r\n                        ${parseFloat(content.price).toFixed(2)}\r\n                    </p>\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    //Duplicate of the one in Home, just in case we want to customize it\r\n    const renderScreenshotsForGame = (gameId: number) => {\r\n        let gameForSlide = _.filter(props.content, {\r\n            game_id: gameId,\r\n        });\r\n        let maxScreenshotToShow = 4;\r\n        if (gameForSlide.length > 0)\r\n            return gameForSlide[0].screenshots.map((screenshot, index) => {\r\n                if (index < maxScreenshotToShow)\r\n                    return (\r\n                        <img\r\n                            key={index}\r\n                            src={screenshot}\r\n                            onMouseEnter={(e) => {\r\n                                setDisplayImage(screenshot);\r\n                            }}\r\n                            // onMouseLeave={(e) => {\r\n                            //     setDisplayImage(\"\");\r\n                            // }}\r\n                            alt=\"preview\"\r\n                        ></img>\r\n                    );\r\n            });\r\n    };\r\n\r\n    const renderSlides = () => {\r\n        return props.content.map((content, index) => {\r\n            return (\r\n                <Slide\r\n                    index={index}\r\n                    key={index}\r\n                    onClick={() => {\r\n                        history.push(`game/${content.game_id}`);\r\n                    }}\r\n                    className=\"test\"\r\n                >\r\n                    {/* <LazyLoad> */}\r\n                    <div\r\n                        className={`featuredContainerCarousel featuredAnime${index}`}\r\n                        onLoad={() => {\r\n                            anime({\r\n                                targets: `.featuredAnime${index}`,\r\n                                // Properties\r\n                                // Animation Parameters\r\n\r\n                                opacity: [\r\n                                    {\r\n                                        value: [0, 1],\r\n                                        duration: 0,\r\n                                        easing: \"easeOutQuad\",\r\n                                    },\r\n                                ],\r\n                            });\r\n                        }}\r\n                    >\r\n                        <div className=\"featuredCarouselSectionWrap\">\r\n                            <div className=\"featuredCarouselImageSection\">\r\n                                {transition((style, item) => {\r\n                                    return (\r\n                                        <animated.img\r\n                                            style={style}\r\n                                            src={\r\n                                                displayImage === \"\"\r\n                                                    ? content.cover_url\r\n                                                    : displayImage\r\n                                            }\r\n                                            alt=\"game cover\"\r\n                                        ></animated.img>\r\n                                    );\r\n                                })}\r\n                                <div className=\"featuredCarouselGamePrice\">\r\n                                    {renderPrice(content)}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"featuredCarouselScreenshotSection\">\r\n                                <h1 className=\"featuredCarouselGameTitle\">\r\n                                    {content.title}\r\n                                </h1>\r\n                                <div\r\n                                    className=\"featuredCarouselGameScreenshotsWrap\"\r\n                                    onMouseLeave={(e) => {\r\n                                        setDisplayImage(\"\");\r\n                                    }}\r\n                                >\r\n                                    {renderScreenshotsForGame(content.game_id)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {/* </LazyLoad> */}\r\n                </Slide>\r\n            );\r\n        });\r\n    };\r\n\r\n    const renderCarousel = (): JSX.Element | JSX.Element[] => {\r\n        return (\r\n            <div\r\n                onMouseEnter={(e) => {\r\n                    setAutoPlay(false);\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                    setAutoPlay(true);\r\n                }}\r\n            >\r\n                <CarouselProvider\r\n                    naturalSlideWidth={100}\r\n                    naturalSlideHeight={width < LG_SCREEN_SIZE ? 45 : 31}\r\n                    // totalSlides={props.content.length}\r\n                    totalSlides={props.content.length}\r\n                    className=\"gameCarouselWrap\"\r\n                    visibleSlides={1}\r\n                    infinite={true}\r\n                    step={1}\r\n                    isPlaying={autoPlay}\r\n                    // isPlaying={false}\r\n                    interval={5000}\r\n                >\r\n                    <div className=\"sliderAndButtonWrap\">\r\n                        <Slider>{renderSlides()}</Slider>\r\n\r\n                        <ButtonBack\r\n                            className={`gameBackButton ${\r\n                                width < LG_SCREEN_SIZE\r\n                                    ? \"hideFeaturedCarouselButton\"\r\n                                    : \"\"\r\n                            }`}\r\n                            onClick={() => {\r\n                                setDisplayImage(\"\");\r\n                            }}\r\n                        >\r\n                            <RiArrowLeftSLine />\r\n                        </ButtonBack>\r\n\r\n                        <ButtonNext\r\n                            className={`gameNextButton ${\r\n                                width < LG_SCREEN_SIZE\r\n                                    ? \"hideFeaturedCarouselButton\"\r\n                                    : \"\"\r\n                            }`}\r\n                            onClick={() => {\r\n                                setDisplayImage(\"\");\r\n                            }}\r\n                        >\r\n                            <RiArrowRightSLine />\r\n                        </ButtonNext>\r\n\r\n                        <div\r\n                            className={`showButtonsForSmallScreensWrap ${\r\n                                width > LG_SCREEN_SIZE\r\n                                    ? \"hideFeaturedCarouselButtonsWrap\"\r\n                                    : \"\"\r\n                            }`}\r\n                        >\r\n                            <ButtonBack className=\"gameBackButton\">\r\n                                <RiArrowLeftSLine />\r\n                            </ButtonBack>\r\n                            <ButtonNext className=\"gameNextButton\">\r\n                                <RiArrowRightSLine />\r\n                            </ButtonNext>\r\n                        </div>\r\n                    </div>\r\n                    <div\r\n                        className={`carouselDotGroupWrap ${\r\n                            width < LG_SCREEN_SIZE ? \"hideCarouselDotGroup\" : \"\"\r\n                        }`}\r\n                    >\r\n                        <DotGroup></DotGroup>\r\n                    </div>\r\n                </CarouselProvider>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return <div>{renderCarousel()}</div>;\r\n};\r\n\r\nexport default FeaturedCarousel;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    CarouselProvider,\r\n    Slider,\r\n    Slide,\r\n    DotGroup,\r\n    ButtonBack,\r\n    ButtonNext,\r\n} from \"pure-react-carousel\";\r\nimport \"pure-react-carousel/dist/react-carousel.es.css\";\r\nimport { RiArrowRightSLine, RiArrowLeftSLine } from \"react-icons/ri\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useWindowDimensions from \"../windowDimensions\";\r\nimport { SpecialOfferCarouselProps } from \"./Home\";\r\nimport anime from \"animejs/lib/anime.es.js\";\r\nimport { LG_SCREEN_SIZE, SM_SCREEN_SIZE, MED_SCREEN_SIZE } from \"../constants\";\r\nimport _ from \"lodash\";\r\nimport history from \"../browserHistory\";\r\n\r\nconst SpecialOfferCarousel: React.FC<SpecialOfferCarouselProps> = (props) => {\r\n    const { width } = useWindowDimensions();\r\n    const specialofferContent = _.chunk(props.content, 6);\r\n    // console.log(specialofferContent);\r\n    const renderSlides = () => {\r\n        return specialofferContent.map((contents, index) => {\r\n            return (\r\n                <Slide index={index} key={index}>\r\n                    <LazyLoad>\r\n                        <div\r\n                            className={`specialOfferContainerCarousel specialAnime${index}`}\r\n                            onLoad={() => {\r\n                                anime({\r\n                                    targets: `.specialAnime${index}`,\r\n                                    // Properties\r\n                                    // Animation Parameters\r\n\r\n                                    opacity: [\r\n                                        {\r\n                                            value: [0, 1],\r\n                                            duration: 250,\r\n                                            easing: \"easeOutQuad\",\r\n                                        },\r\n                                    ],\r\n                                });\r\n                            }}\r\n                        >\r\n                            <div className=\"specialOfferCarouselSectionContainer\">\r\n                                {contents.map((content, index) => {\r\n                                    return (\r\n                                        <div\r\n                                            onClick={() => {\r\n                                                history.push(\r\n                                                    `game/${content.game_id}`\r\n                                                );\r\n                                            }}\r\n                                            className=\"specialOfferGameContainer\"\r\n                                            key={index}\r\n                                        >\r\n                                            <img\r\n                                                src={content.cover_url}\r\n                                                alt=\"game\"\r\n                                            ></img>\r\n                                            <div className=\"specialOfferGameTextWrap\">\r\n                                                <div className=\"highlightedGamePriceWrap\">\r\n                                                    <div className=\"discountGamePrice\">\r\n                                                        -\r\n                                                        {parseFloat(\r\n                                                            content.discount_percentage\r\n                                                        ) * 100}\r\n                                                        %\r\n                                                    </div>\r\n                                                    <div className=\"adjustedPriceWrap\">\r\n                                                        <p className=\"gameOrigPrice\">\r\n                                                            $\r\n                                                            {parseFloat(\r\n                                                                content.price\r\n                                                            ).toFixed(2)}\r\n                                                        </p>\r\n                                                        <p className=\"gameAdjustedPrice\">\r\n                                                            $\r\n                                                            {parseFloat(\r\n                                                                content.price_after_discount\r\n                                                            ).toFixed(2)}\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </LazyLoad>\r\n                </Slide>\r\n            );\r\n        });\r\n    };\r\n    const renderHeight = () => {\r\n        if (width < SM_SCREEN_SIZE) {\r\n            return 78;\r\n        } else if (width < MED_SCREEN_SIZE) {\r\n            return 76;\r\n        } else if (width < LG_SCREEN_SIZE) {\r\n            return 33;\r\n        } else if (width >= LG_SCREEN_SIZE) {\r\n            return 30;\r\n        } else return 1;\r\n    };\r\n    const renderCarousel = (): JSX.Element | JSX.Element[] => {\r\n        return (\r\n            <div\r\n                onMouseEnter={(e) => {\r\n                    // setStyle({ opacity: \"1\" });\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                    // setStyle({ opacity: \"0\" });\r\n                }}\r\n            >\r\n                <CarouselProvider\r\n                    naturalSlideWidth={100}\r\n                    naturalSlideHeight={renderHeight()}\r\n                    totalSlides={specialofferContent.length}\r\n                    className=\"gameCarouselWrap\"\r\n                    visibleSlides={1}\r\n                    infinite={true}\r\n                    step={1}\r\n                    isPlaying={false}\r\n                    interval={5000}\r\n                >\r\n                    <div className=\"sliderAndButtonWrap\">\r\n                        <Slider>{renderSlides()}</Slider>\r\n\r\n                        <ButtonBack\r\n                            className={`gameBackButton ${\r\n                                width < LG_SCREEN_SIZE\r\n                                    ? \"hideFeaturedCarouselButton\"\r\n                                    : \"\"\r\n                            }`}\r\n                        >\r\n                            <RiArrowLeftSLine />\r\n                        </ButtonBack>\r\n                        <ButtonNext\r\n                            className={`gameNextButton ${\r\n                                width < LG_SCREEN_SIZE\r\n                                    ? \"hideFeaturedCarouselButton\"\r\n                                    : \"\"\r\n                            }`}\r\n                        >\r\n                            <RiArrowRightSLine />\r\n                        </ButtonNext>\r\n\r\n                        <div\r\n                            className={`showButtonsForSmallScreensWrap ${\r\n                                width > LG_SCREEN_SIZE\r\n                                    ? \"hideFeaturedCarouselButtonsWrap\"\r\n                                    : \"\"\r\n                            }`}\r\n                        >\r\n                            <ButtonBack className=\"gameBackButton\">\r\n                                <RiArrowLeftSLine />\r\n                            </ButtonBack>\r\n                            <ButtonNext className=\"gameNextButton\">\r\n                                <RiArrowRightSLine />\r\n                            </ButtonNext>\r\n                        </div>\r\n                    </div>\r\n                    <div\r\n                        className={`carouselDotGroupWrap ${\r\n                            width < LG_SCREEN_SIZE ? \"hideCarouselDotGroup\" : \"\"\r\n                        }`}\r\n                    >\r\n                        <DotGroup></DotGroup>\r\n                    </div>\r\n                </CarouselProvider>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return <div>{renderCarousel()}</div>;\r\n};\r\n\r\nexport default SpecialOfferCarousel;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    CarouselProvider,\r\n    Slider,\r\n    Slide,\r\n    DotGroup,\r\n    ButtonBack,\r\n    ButtonNext,\r\n} from \"pure-react-carousel\";\r\nimport \"pure-react-carousel/dist/react-carousel.es.css\";\r\nimport { RiArrowRightSLine, RiArrowLeftSLine } from \"react-icons/ri\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useWindowDimensions from \"../windowDimensions\";\r\nimport { CommunityCarouelProps } from \"./Home\";\r\nimport anime from \"animejs/lib/anime.es.js\";\r\nimport history from \"../browserHistory\";\r\nimport {\r\n    LG_SCREEN_SIZE,\r\n    XL_SCREEN_SIZE,\r\n    MED_SCREEN_SIZE,\r\n    SM_SCREEN_SIZE,\r\n} from \"../constants\";\r\nimport { Game } from \"../actions\";\r\nconst videosFromSteam = [\r\n    \"https://cdn.akamai.steamstatic.com/steam/apps/256767815/movie480.webm?t=1583175736\",\r\n    \"https://cdn.cloudflare.steamstatic.com/steam/apps/81958/movie480.webm?t=1554409259\",\r\n    \"https://cdn.cloudflare.steamstatic.com/steam/apps/256694830/movie480.webm?t=1561485484\",\r\n    \"https://cdn.akamai.steamstatic.com/steam/apps/2028471/movie480.webm?t=1447357639\",\r\n];\r\nconst CommunityCarousel: React.FC<CommunityCarouelProps> = (props) => {\r\n    const { width } = useWindowDimensions();\r\n    const [style, setStyle] = useState({ opacity: \"1\" });\r\n\r\n    const renderPrice = (content: Game) => {\r\n        if (parseFloat(content.discount_percentage) > 0) {\r\n            return (\r\n                <div className=\"communityAdjustedPriceWrap\">\r\n                    <div className=\"communityDiscount\">\r\n                        -{parseFloat(content.discount_percentage) * 100}%\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"communityOrigPriceStriked\">\r\n                            ${parseFloat(content.price).toFixed(2)}\r\n                        </p>\r\n                        <p className=\"communityGamePrice\">\r\n                            $\r\n                            {parseFloat(content.price_after_discount).toFixed(\r\n                                2\r\n                            )}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            //no discount\r\n            return (\r\n                <p className=\"chartGamePrice\">\r\n                    ${parseFloat(content.price).toFixed(2)}\r\n                </p>\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderSlides = () => {\r\n        return props.content.map((content, index) => {\r\n            return (\r\n                <Slide\r\n                    index={index}\r\n                    key={index}\r\n                    onClick={() => {\r\n                        history.push(`/game/${content.game_id}`);\r\n                    }}\r\n                >\r\n                    <LazyLoad>\r\n                        <div\r\n                            key={index}\r\n                            className={`communityContainerCarousel communityAnime${index}`}\r\n                            onLoad={() => {\r\n                                anime({\r\n                                    targets: `.communityAnime${index}`,\r\n                                    // Properties\r\n                                    // Animation Parameters\r\n\r\n                                    opacity: [\r\n                                        {\r\n                                            value: [0, 1],\r\n                                            duration: 250,\r\n                                            easing: \"easeOutQuad\",\r\n                                        },\r\n                                    ],\r\n                                });\r\n                            }}\r\n                        >\r\n                            <div className=\"communityCarouselSectionWrap\">\r\n                                <div\r\n                                    className=\"communityCarouselImageSection\"\r\n                                    onMouseEnter={(e) => {\r\n                                        setStyle({ opacity: \"1\" });\r\n                                    }}\r\n                                    onMouseLeave={(e) => {\r\n                                        setStyle({ opacity: \"0\" });\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        src={content.cover_url}\r\n                                        alt=\"game\"\r\n                                    ></img>\r\n\r\n                                    <video\r\n                                        className=\"communityCarouselVid\"\r\n                                        autoPlay={true}\r\n                                        playsInline={false}\r\n                                        muted={true}\r\n                                        loop={true}\r\n                                        style={style}\r\n                                    >\r\n                                        {/* <source\r\n                                            src=\"  https://cdn.cloudflare.steamstatic.com/steam/apps/256820708/movie480_vp9.webm?t=1612810771\"\r\n                                            type=\"video/mp4\"\r\n                                        /> */}\r\n                                        <source\r\n                                            src={videosFromSteam[index]}\r\n                                            type=\"video/mp4\"\r\n                                        />\r\n                                    </video>\r\n                                    <div className=\"communityPrice\">\r\n                                        {renderPrice(content)}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"communityCarouselAboutSection\">\r\n                                    <p className=\"communityCarouselGameAbout\">\r\n                                        {content.about}\r\n                                    </p>\r\n\r\n                                    <p className=\"communityCarouselVisitGame\">\r\n                                        Visit Game Page\r\n                                    </p>\r\n\r\n                                    {/* <div className=\"communityUserInfoWrap\">\r\n                                        <img\r\n                                            className=\"communityAvatar\"\r\n                                            src=\"https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/avatars/fd/fdfd938f7eae06151877fc2e14e6d70806463c8c.jpg\"\r\n                                            alt=\"avatar\"\r\n                                        ></img>\r\n                                        <p className=\"communityUsername\">\r\n                                            Username of user\r\n                                        </p>\r\n                                    </div> */}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </LazyLoad>\r\n                </Slide>\r\n            );\r\n        });\r\n    };\r\n\r\n    const renderCarousel = (): JSX.Element | JSX.Element[] => {\r\n        return (\r\n            <div\r\n                onMouseEnter={(e) => {\r\n                    // setStyle({ opacity: \"1\" });\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                    // setStyle({ opacity: \"0\" });\r\n                }}\r\n            >\r\n                <CarouselProvider\r\n                    naturalSlideWidth={100}\r\n                    naturalSlideHeight={width < LG_SCREEN_SIZE ? 45 : 31}\r\n                    totalSlides={props.content.length}\r\n                    className=\"gameCarouselWrap\"\r\n                    visibleSlides={1}\r\n                    infinite={true}\r\n                    step={1}\r\n                    // isPlaying={true}\r\n                    interval={5000}\r\n                >\r\n                    <div className=\"sliderAndButtonWrap\">\r\n                        <Slider>{renderSlides()}</Slider>\r\n\r\n                        <ButtonBack\r\n                            className={`gameBackButton ${\r\n                                width < LG_SCREEN_SIZE\r\n                                    ? \"hideCommunityCarouselButton\"\r\n                                    : \"\"\r\n                            }`}\r\n                        >\r\n                            <RiArrowLeftSLine />\r\n                        </ButtonBack>\r\n                        <ButtonNext\r\n                            className={`gameNextButton ${\r\n                                width < LG_SCREEN_SIZE\r\n                                    ? \"hideCommunityCarouselButton\"\r\n                                    : \"\"\r\n                            }`}\r\n                        >\r\n                            <RiArrowRightSLine />\r\n                        </ButtonNext>\r\n\r\n                        <div\r\n                            className={`showButtonsForSmallScreensWrap ${\r\n                                width > LG_SCREEN_SIZE\r\n                                    ? \"hideCommunityCarouselButtonsWrap\"\r\n                                    : \"\"\r\n                            }`}\r\n                        >\r\n                            <ButtonBack className=\"gameBackButton\">\r\n                                <RiArrowLeftSLine />\r\n                            </ButtonBack>\r\n                            <ButtonNext className=\"gameNextButton\">\r\n                                <RiArrowRightSLine />\r\n                            </ButtonNext>\r\n                        </div>\r\n                    </div>\r\n                    <div\r\n                        className={`carouselDotGroupWrap ${\r\n                            width < LG_SCREEN_SIZE ? \"hideCarouselDotGroup\" : \"\"\r\n                        }`}\r\n                    >\r\n                        <DotGroup></DotGroup>\r\n                    </div>\r\n                </CarouselProvider>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return <div>{renderCarousel()}</div>;\r\n};\r\n\r\nexport default CommunityCarousel;\r\n","import { ActionTypes, AuthActions } from \"../actions\";\r\n\r\nexport interface AuthStateResponse {\r\n    authenticated?: string | null;\r\n    errorMessage?: string;\r\n}\r\n\r\nexport const AUTH_STATE: AuthStateResponse = {\r\n    authenticated: \"\",\r\n    errorMessage: \"\",\r\n};\r\nconst authReducer = (\r\n    state: AuthStateResponse = AUTH_STATE,\r\n    action: AuthActions\r\n) => {\r\n    switch (action.type) {\r\n        case ActionTypes.AUTH_USER:\r\n            return {\r\n                ...state,\r\n                authenticated: action.payload.token,\r\n                errorMessage: \"\",\r\n            };\r\n        case ActionTypes.AUTH_ERROR:\r\n            return {\r\n                ...state,\r\n                authenticated: \"\",\r\n                errorMessage: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default authReducer;\r\n","import {\r\n    ActionTypes,\r\n    FetchGamesAction,\r\n    FetchGamesByKeywordAction,\r\n    FetchGamesResponse,\r\n} from \"../actions\";\r\n\r\nexport interface GamesStateResponse {\r\n    data?: FetchGamesResponse;\r\n}\r\n\r\nconst gamesReducer = (\r\n    state: GamesStateResponse = {},\r\n    action: FetchGamesAction | FetchGamesByKeywordAction\r\n) => {\r\n    switch (action.type) {\r\n        case ActionTypes.FETCH_GAMES:\r\n            return { ...state, data: action.payload };\r\n        case ActionTypes.FETCH_GAMES_BY_KEYWORD:\r\n            return { ...state, data: action.payload };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default gamesReducer;\r\n","import {\r\n    ActionTypes,\r\n    FetchDiscountedGamesAction,\r\n    FetchGamesResponse,\r\n} from \"../actions\";\r\n\r\nexport interface DiscountedGamesStateResponse {\r\n    data?: FetchGamesResponse;\r\n}\r\n\r\nconst gamesReducer = (\r\n    state: DiscountedGamesStateResponse = {},\r\n    action: FetchDiscountedGamesAction\r\n) => {\r\n    switch (action.type) {\r\n        case ActionTypes.FETCH_GAMES_DISCOUNTED:\r\n            return { ...state, data: action.payload };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default gamesReducer;\r\n","import {\r\n    ActionTypes,\r\n    FetchGameInfoAction,\r\n    FetchGameInfoResponse,\r\n} from \"../actions\";\r\n\r\nexport interface GameInfoStateResponse {\r\n    data?: FetchGameInfoResponse;\r\n}\r\n\r\nconst GameInfoReducer = (\r\n    state: GameInfoStateResponse = {},\r\n    action: FetchGameInfoAction\r\n) => {\r\n    switch (action.type) {\r\n        case ActionTypes.FETCH_GAME_INFO:\r\n            return { ...state, data: action.payload };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default GameInfoReducer;\r\n","import { ActionTypes, ServerError, GamesErrorAction } from \"../actions\";\r\n// import {\r\n//     Media,\r\n// } from \"../actions\";\r\n\r\nexport interface ErrorStateResponse {\r\n    data?: ServerError;\r\n}\r\n\r\nconst erorrReducer = (\r\n    state: ErrorStateResponse = {},\r\n    action: GamesErrorAction\r\n) => {\r\n    switch (action.type) {\r\n        case ActionTypes.GAME_ERROR:\r\n            return { ...state, data: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default erorrReducer;\r\n","import {\r\n    ActionTypes,\r\n    EditReviewAction,\r\n    FetchGameInfoReviewsAction,\r\n    ReviewsResponse,\r\n    PostReviewAction,\r\n    DeleteReviewAction,\r\n} from \"../actions\";\r\n\r\nexport interface GameInfoReviewsStateResponse {\r\n    data?: ReviewsResponse;\r\n}\r\n\r\nconst gameInfoReviewsReducer = (\r\n    state: GameInfoReviewsStateResponse = {},\r\n    action:\r\n        | FetchGameInfoReviewsAction\r\n        | PostReviewAction\r\n        | EditReviewAction\r\n        | DeleteReviewAction\r\n) => {\r\n    switch (action.type) {\r\n        case ActionTypes.FETCH_GAME_INFO_REVIEWS:\r\n            return { ...state, data: action.payload };\r\n        case ActionTypes.POST_REVIEW:\r\n            return { ...state, data: action.payload };\r\n        case ActionTypes.EDIT_REVIEW:\r\n            return { ...state, data: action.payload };\r\n        case ActionTypes.DELETE_REVIEW:\r\n            return { ...state, data: action.payload };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default gameInfoReviewsReducer;\r\n","import {\r\n    ActionTypes,\r\n    FetchProfileAction,\r\n    EditProfileAction,\r\n    ProfileResponse,\r\n} from \"../actions\";\r\n\r\nexport interface ProfileStateResponse {\r\n    data?: ProfileResponse;\r\n}\r\n\r\nconst ProfileReducer = (\r\n    state: ProfileStateResponse = {},\r\n    action: FetchProfileAction | EditProfileAction\r\n) => {\r\n    switch (action.type) {\r\n        case ActionTypes.FETCH_PROFILE:\r\n            return { ...state, data: action.payload };\r\n        case ActionTypes.EDIT_PROFILE:\r\n            return { ...state, data: action.payload };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default ProfileReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer, FormStateMap } from \"redux-form\";\r\n\r\nimport authReducer, { AuthStateResponse } from \"./authReducer\";\r\nimport gamesBaseInfoReducer, { GamesStateResponse } from \"./gamesReducer\";\r\nimport discountedGamesReducer, {\r\n    DiscountedGamesStateResponse,\r\n} from \"./discountedGamesReducer\";\r\nimport gameInfoReducer, { GameInfoStateResponse } from \"./gameInfoReducer\";\r\nimport errorReducer, { ErrorStateResponse } from \"./errorReducer\";\r\nimport gameInfoReviewsReducer, {\r\n    GameInfoReviewsStateResponse,\r\n} from \"./gameInfoReviewsReducer\";\r\nimport profileReducer, { ProfileStateResponse } from \"./profileReducer\";\r\nexport interface StoreState {\r\n    authStatus: AuthStateResponse;\r\n    games: GamesStateResponse;\r\n    discountedGames: DiscountedGamesStateResponse;\r\n    // search: SearchStateResponse;\r\n    gameInfo: GameInfoStateResponse;\r\n    gameInfoReviews: GameInfoReviewsStateResponse;\r\n    profile: ProfileStateResponse;\r\n    errors: ErrorStateResponse;\r\n    form: FormStateMap;\r\n}\r\nexport default combineReducers<StoreState>({\r\n    authStatus: authReducer,\r\n    games: gamesBaseInfoReducer,\r\n    discountedGames: discountedGamesReducer,\r\n    // search: searchReducer,\r\n    gameInfo: gameInfoReducer,\r\n    gameInfoReviews: gameInfoReviewsReducer,\r\n    profile: profileReducer,\r\n    errors: errorReducer,\r\n    form: formReducer,\r\n});\r\n","//THIS FILE IS USED FOR CORE RE-USABILITY; SPECIFICALLY FOR JEST/ENZYME TESTING\r\nimport React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport reducers from \"./reducers\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport reduxThunk from \"redux-thunk\";\r\nimport Cookies from \"js-cookie\";\r\nimport { ACCESS_TOKEN } from \"./constants\";\r\nexport const store = createStore(\r\n    reducers,\r\n    { authStatus: { authenticated: Cookies.get(ACCESS_TOKEN) } },\r\n    //if our inital state (authStauts) has a token from local storage, keep them logged in\r\n    composeWithDevTools(applyMiddleware(reduxThunk))\r\n);\r\n\r\ninterface IProps {\r\n    initialState?: {};\r\n    //Optional property so that not every file has to use initialState (initialState is used for testing)\r\n    children: any;\r\n    // any other props that come into the component\r\n}\r\nconst provider = ({ initialState = {}, children }: IProps) => {\r\n    // const store = createStore(\r\n    //     reducers,\r\n    //     { authStatus: { authenticated: Cookies.get(\"ACCESS_TOKEN\") } },\r\n    //     //if our inital state (authStauts) has a token from local storage, keep them logged in\r\n    //     composeWithDevTools(applyMiddleware(reduxThunk))\r\n    // );\r\n\r\n    return <Provider store={store}>{children}</Provider>;\r\n};\r\nexport default provider;\r\n","import axios from \"axios\";\r\n//Used for onine JSON-store database\r\nimport Cookies from \"js-cookie\";\r\nimport { store } from \"../Root\";\r\nimport { validateToken } from \"./auth\";\r\nimport { ACCESS_TOKEN } from \"../constants\";\r\n\r\nconst axiosConfig = axios.create({\r\n    // .. where we make our configurations\r\n    withCredentials: true, //Without it cookies will not be sent! Also, needs to be first in axios.create(..)!!\r\n    //As mentioned in:\r\n    //https://stackoverflow.com/questions/43002444/make-axios-send-cookies-in-its-requests-automatically\r\n    // baseURL: \"http://localhost:5000/\",\r\n});\r\n\r\n//Followed article below for axios interceptors:\r\n//https://medium.com/swlh/handling-access-and-refresh-tokens-using-axios-interceptors-3970b601a5da\r\n\r\n//Executes before axios request\r\naxiosConfig.interceptors.request.use(\r\n    (config) => {\r\n        //Create Authorizaiton header for our axios requests\r\n        //Note: this won't affect /token because we are using the http-only cookie not authorization header :) (look at backend)\r\n        const token = Cookies.get(ACCESS_TOKEN);\r\n        //This is needed for our requireAuth hoc for protected routes.\r\n\r\n        //Flow -> Route that uses requireAuth will call validateToken action creator -> validateToken will call the\r\n        //protected routes that is setted up in the API with passport's jwtlogin\r\n        if (token) {\r\n            config.headers[\"authorization\"] = token;\r\n        }\r\n        return config;\r\n    },\r\n    (error) => {\r\n        Promise.reject(error);\r\n    }\r\n);\r\n\r\n//Axios calls response interceptors after it sends the request and receives a response.\r\naxiosConfig.interceptors.response.use(\r\n    //If we have a response from our recent http call\r\n    (response) => {\r\n        return response;\r\n    },\r\n    (error) => {\r\n        //Catches 403 error from our axios request\r\n        // throw error; //Throw error to action creator so it can be caught\r\n        const originalRequest = error.config;\r\n\r\n        //If my refresh token is not valid then my endpoint(/token) will come with 401 status code and\r\n        // If we do not handle it then it will go in an infinite loop.\r\n        // here is my condition to stop going in an infinite loop,\r\n\r\n        //But in this project, our refresh token will not expire to make things simpler :)\r\n        // if (error.response.status === 401 && originalRequest.url === \"/token\") {\r\n        //     return Promise.reject(error);\r\n        // }\r\n        // if (error.response) {\r\n        //Above if block is used so that the app won't crash  in localhost when the backend server is not running and we are testing\r\n        //an axios request (i.e calling an axios request and seeing if a loading component triggers)\r\n        if (error.response.status === 403 && !originalRequest._retry) {\r\n            //ALL 403 errors are because of invalid tokens\r\n            originalRequest._retry = true;\r\n            axiosConfig\r\n                .post(\"/api/token\")\r\n                .then((res) => {\r\n                    //Call original request again so that we can use the new access token on the original request\r\n                    //We give the new access token by giving it at axios.interceptors.request\r\n                    //return auth(originalRequest);\r\n                    store.dispatch(\r\n                        validateToken(\r\n                            `/api/${originalRequest.url}`,\r\n                            originalRequest._retry\r\n                        ) as any\r\n                    );\r\n\r\n                    //flow:\r\n                    //click on post-ad - > validate token in HOC ->  if post-ad with expired token -> returns 403 -> refrsh token is called\r\n                    //use ACCESS token in Authorization header (via axios interceptor response) -> trigger post-ad again with store.dispatch(validateToken(..))\r\n                })\r\n                .catch((error) => {\r\n                    return Promise.reject(error);\r\n                });\r\n        }\r\n    }\r\n    // }\r\n);\r\n\r\nexport default axiosConfig;\r\n","import { ActionTypes } from \"./types\";\r\nimport auth from \"./axiosConfig\";\r\nimport { Dispatch } from \"redux\";\r\nimport history from \"../browserHistory\";\r\n\r\nexport interface JWTType {\r\n    token: string;\r\n    refreshToken?: string;\r\n    //our api could also return the refresh token, but it dosent matter\r\n}\r\nexport interface AuthUserAction {\r\n    type: ActionTypes.AUTH_USER;\r\n    payload: JWTType;\r\n}\r\nexport interface AuthErrorAction {\r\n    type: ActionTypes.AUTH_ERROR;\r\n    payload: string;\r\n}\r\n\r\nexport const signUp = (formValues: any) => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await auth.post<JWTType>(\"/api/signup\", formValues);\r\n        dispatch<AuthUserAction>({\r\n            type: ActionTypes.AUTH_USER,\r\n            payload: response.data,\r\n        });\r\n        history.push(\"/\");\r\n    } catch (err) {\r\n        dispatch<AuthErrorAction>({\r\n            type: ActionTypes.AUTH_ERROR,\r\n            payload: \"- Email is in use\",\r\n        });\r\n    }\r\n};\r\nexport const signIn = (formValues: any) => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await auth.post<JWTType>(\"/api/signin\", formValues);\r\n        dispatch<AuthUserAction>({\r\n            type: ActionTypes.AUTH_USER,\r\n            payload: response.data,\r\n        });\r\n        history.push(\"/\");\r\n    } catch (err) {\r\n        // if (err.message === \"Network Error\") {\r\n        //     console.log(\"check error\", err);\r\n        // }\r\n\r\n        dispatch<AuthErrorAction>({\r\n            type: ActionTypes.AUTH_ERROR,\r\n            payload: \"- Invalid login credentials\",\r\n        });\r\n    }\r\n};\r\n\r\nexport const signOut = () => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await auth.post<JWTType>(\"/api/signout\");\r\n        dispatch<AuthUserAction>({\r\n            type: ActionTypes.AUTH_USER,\r\n            payload: response.data,\r\n        });\r\n        history.push(\"/\");\r\n        alert(\"Signed out succesfully\");\r\n    } catch (err) {\r\n        alert(\"Signed out failed, try again\");\r\n    }\r\n};\r\n\r\nexport const validateToken = (path: string, retriedCalling: boolean) => async (\r\n    dispatch: Dispatch\r\n) => {\r\n    try {\r\n        const response = await auth.post<JWTType>(\r\n            path,\r\n            {}\r\n            // { headers: { Authorization: cookieService.getAccessToken() } } //assigned in axios' interceptors.request\r\n        );\r\n        //Ensures that our current access token is the newest one; if a new access token is given,\r\n        //we will update our current access token\r\n\r\n        //requireAuth HOC relies on the dispatch below\r\n        dispatch<AuthUserAction>({\r\n            type: ActionTypes.AUTH_USER,\r\n            payload: response.data,\r\n        });\r\n    } catch (err) {\r\n        if (retriedCalling === true) {\r\n            // If it fails again with the new access token (might be a forged token)\r\n            // Invalid token, kick our users out from a certain resource only accecible to signed in users\r\n            // dispatch<AuthErrorAction>({\r\n            //     type: ActionTypes.AUTH_ERROR,\r\n            //     payload: \"\",\r\n            // });\r\n\r\n            //Log them out\r\n            dispatch(signOut() as any);\r\n        }\r\n    }\r\n};\r\n","import { ActionTypes } from \"./types\";\r\nimport axios from \"./axiosConfig\";\r\nimport { Dispatch } from \"redux\";\r\n\r\nimport { SERVER_ERROR_MESSAGE } from \"../constants\";\r\nimport history from \"../browserHistory\";\r\nimport { IPostAndEditReview } from \"../components/GameInfo\";\r\n\r\nexport interface ServerError {\r\n    error: string;\r\n}\r\n\r\nexport interface FetchGamesAction {\r\n    type: ActionTypes.FETCH_GAMES;\r\n    payload: FetchGamesResponse;\r\n}\r\n\r\nexport interface FetchDiscountedGamesAction {\r\n    type: ActionTypes.FETCH_GAMES_DISCOUNTED;\r\n    payload: FetchGamesResponse;\r\n}\r\n\r\nexport interface FetchGamesByKeywordAction {\r\n    type: ActionTypes.FETCH_GAMES_BY_KEYWORD;\r\n    payload: FetchGamesResponse;\r\n}\r\n\r\nexport interface FetchGameInfoAction {\r\n    type: ActionTypes.FETCH_GAME_INFO;\r\n    payload: FetchGameInfoResponse;\r\n}\r\n\r\nexport interface FetchGameInfoReviewsAction {\r\n    type: ActionTypes.FETCH_GAME_INFO_REVIEWS;\r\n    payload: ReviewsResponse;\r\n}\r\n\r\nexport interface PostReviewAction {\r\n    type: ActionTypes.POST_REVIEW;\r\n    payload: ReviewsResponse;\r\n}\r\n\r\nexport interface EditReviewAction {\r\n    type: ActionTypes.EDIT_REVIEW;\r\n    payload: ReviewsResponse;\r\n}\r\n\r\nexport interface DeleteReviewAction {\r\n    type: ActionTypes.DELETE_REVIEW;\r\n    payload: ReviewsResponse;\r\n}\r\n\r\nexport interface GamesErrorAction {\r\n    type: ActionTypes.GAME_ERROR;\r\n    payload: ServerError;\r\n}\r\n\r\nexport interface Game {\r\n    game_id: number;\r\n    title: string;\r\n    cover_url: string;\r\n    release_date: string;\r\n    about: string;\r\n    genres: string[];\r\n    screenshots: string[];\r\n    price: string;\r\n    discount_percentage: string;\r\n    price_after_discount: string;\r\n}\r\nexport interface Reviewer {\r\n    game_id: number;\r\n    username: string;\r\n    avatar_url: string;\r\n    recommend: boolean;\r\n    opinion: string;\r\n}\r\n\r\nexport interface FetchGamesResponse {\r\n    games: Game[];\r\n}\r\n\r\nexport interface FetchGameInfoResponse {\r\n    games: Game[];\r\n}\r\n\r\nexport interface ReviewsResponse {\r\n    reviews: Reviewer[];\r\n}\r\n\r\nexport const fetchGames = () => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await axios.get<FetchGamesResponse>(`/api/games`);\r\n        dispatch<FetchGamesAction>({\r\n            type: ActionTypes.FETCH_GAMES,\r\n            payload: response.data,\r\n        });\r\n    } catch (error) {\r\n        dispatch<GamesErrorAction>({\r\n            type: ActionTypes.GAME_ERROR,\r\n            payload: { error: SERVER_ERROR_MESSAGE },\r\n        });\r\n    }\r\n};\r\n\r\nexport const fetchDiscountedGames = () => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await axios.get<FetchGamesResponse>(\r\n            `/api/games-discounted`\r\n        );\r\n        dispatch<FetchDiscountedGamesAction>({\r\n            type: ActionTypes.FETCH_GAMES_DISCOUNTED,\r\n            payload: response.data,\r\n        });\r\n    } catch (error) {\r\n        dispatch<GamesErrorAction>({\r\n            type: ActionTypes.GAME_ERROR,\r\n            payload: { error: SERVER_ERROR_MESSAGE },\r\n        });\r\n    }\r\n};\r\n\r\nexport const fetchGamesByKeyword = (queryPath: string | string[]) => async (\r\n    dispatch: Dispatch\r\n) => {\r\n    try {\r\n        const response = await axios.get<FetchGamesResponse>(\r\n            `/api/search?q=${queryPath}`\r\n        );\r\n        dispatch<FetchGamesByKeywordAction>({\r\n            type: ActionTypes.FETCH_GAMES_BY_KEYWORD,\r\n            payload: response.data,\r\n        });\r\n    } catch (error) {\r\n        dispatch<GamesErrorAction>({\r\n            type: ActionTypes.GAME_ERROR,\r\n            payload: { error: SERVER_ERROR_MESSAGE },\r\n        });\r\n    }\r\n};\r\n\r\nexport const fetchGameInfo = (gameId: number) => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await axios.get<FetchGameInfoResponse>(\r\n            `/api/game-info/${gameId}`\r\n        );\r\n        dispatch<FetchGameInfoAction>({\r\n            type: ActionTypes.FETCH_GAME_INFO,\r\n            payload: response.data,\r\n        });\r\n    } catch (error) {\r\n        dispatch<GamesErrorAction>({\r\n            type: ActionTypes.GAME_ERROR,\r\n            payload: { error: SERVER_ERROR_MESSAGE },\r\n        });\r\n    }\r\n};\r\n\r\nexport const fetchGameInfoReviews = (gameId: number) => async (\r\n    dispatch: Dispatch\r\n) => {\r\n    try {\r\n        const response = await axios.get<ReviewsResponse>(\r\n            `/api/reviews/${gameId}`\r\n        );\r\n        dispatch<FetchGameInfoReviewsAction>({\r\n            type: ActionTypes.FETCH_GAME_INFO_REVIEWS,\r\n            payload: response.data,\r\n        });\r\n    } catch (error) {\r\n        dispatch<GamesErrorAction>({\r\n            type: ActionTypes.GAME_ERROR,\r\n            payload: { error: SERVER_ERROR_MESSAGE },\r\n        });\r\n    }\r\n};\r\n\r\nexport const postReview = (\r\n    formValues: IPostAndEditReview,\r\n    gameId: number\r\n) => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await axios.post<ReviewsResponse>(\r\n            `/api/review/${gameId}`,\r\n            formValues\r\n        );\r\n        dispatch<PostReviewAction>({\r\n            type: ActionTypes.POST_REVIEW,\r\n            payload: response.data,\r\n        });\r\n    } catch (error) {\r\n        dispatch<GamesErrorAction>({\r\n            type: ActionTypes.GAME_ERROR,\r\n            payload: { error: SERVER_ERROR_MESSAGE },\r\n        });\r\n    }\r\n};\r\n\r\nexport const editReview = (\r\n    formValues: IPostAndEditReview,\r\n    gameId: number\r\n) => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await axios.patch<ReviewsResponse>(\r\n            `/api/edit/${gameId}`,\r\n            formValues\r\n        );\r\n        dispatch<EditReviewAction>({\r\n            type: ActionTypes.EDIT_REVIEW,\r\n            payload: response.data,\r\n        });\r\n        // alert(\"Success! You have edited your review.\");\r\n    } catch (error) {\r\n        dispatch<GamesErrorAction>({\r\n            type: ActionTypes.GAME_ERROR,\r\n            payload: { error: SERVER_ERROR_MESSAGE },\r\n        });\r\n    }\r\n};\r\n\r\nexport const deleteReview = (gameId: number) => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await axios.delete<ReviewsResponse>(\r\n            `/api/delete/${gameId}`\r\n        );\r\n        dispatch<DeleteReviewAction>({\r\n            type: ActionTypes.DELETE_REVIEW,\r\n            payload: response.data,\r\n        });\r\n        alert(\"Success! You have deleted your review.\");\r\n    } catch (error) {\r\n        dispatch<GamesErrorAction>({\r\n            type: ActionTypes.GAME_ERROR,\r\n            payload: { error: SERVER_ERROR_MESSAGE },\r\n        });\r\n    }\r\n};\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport useWindowDimensions from \"../windowDimensions\";\r\nimport { MED_SCREEN_SIZE } from \"../constants\";\r\nconst Loading = (): JSX.Element => {\r\n    const { width } = useWindowDimensions();\r\n    return (\r\n        <Loader\r\n            type=\"ThreeDots\"\r\n            color=\"white\"\r\n            height={width < MED_SCREEN_SIZE ? 50 : 75}\r\n            width={width < MED_SCREEN_SIZE ? 50 : 75}\r\n            timeout={30000} //will show for 30 secs\r\n        />\r\n    );\r\n};\r\nexport default Loading;\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport history from \"../browserHistory\";\r\nimport { AiOutlineSearch } from \"react-icons/ai\";\r\nimport { fetchGamesByKeyword } from \"../actions\";\r\nimport anime from \"animejs/lib/anime.es.js\";\r\nimport { connect } from \"react-redux\";\r\nimport { StoreState } from \"../reducers\";\r\nimport axios from \"../actions/axiosConfig\";\r\nimport { Game } from \"../actions\";\r\nimport useComponentVisible from \"../useComponentVisible\";\r\n\r\ninterface SearchbarProps {\r\n    fetchGamesByKeyword?(searchKeyword: string): void;\r\n}\r\n\r\nconst Searchbar: React.FC<SearchbarProps> = (props) => {\r\n    //Detect click outside of component:\r\n    // https://stackoverflow.com/questions/32553158/detect-click-outside-react-component\r\n    const {\r\n        ref,\r\n        isComponentVisible,\r\n        setIsComponentVisible,\r\n    } = useComponentVisible(true);\r\n    const searchBarInputRef = useRef<HTMLInputElement>(null);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const [data, dataSet] = useState<any>(null);\r\n    useEffect(() => {\r\n        async function fetchMyAPI() {\r\n            let response = await axios.get(`/api/search?q=${searchTerm}`);\r\n            // console.log(\"matt\", response.data);\r\n            dataSet(response.data);\r\n        }\r\n\r\n        const delayDebounceFn = setTimeout(() => {\r\n            // Send Axios request here\r\n            if (props.fetchGamesByKeyword) {\r\n                if (searchTerm === \"\") {\r\n                    // history.push(\"/search\");\r\n                } else {\r\n                    fetchMyAPI();\r\n                    // history.push(`/search?q=${searchTerm}`);\r\n                }\r\n            }\r\n        }, 550);\r\n\r\n        return () => clearTimeout(delayDebounceFn);\r\n    }, [searchTerm]);\r\n\r\n    const handleKeyDown = (event: any) => {\r\n        //https://stackoverflow.com/questions/31272207/to-call-onchange-event-after-pressing-enter-key\r\n        if (event.key === \"Enter\") {\r\n            event.preventDefault();\r\n\r\n            if (searchTerm === \"\") {\r\n                history.push(\"/search\");\r\n            } else {\r\n                if (props.fetchGamesByKeyword)\r\n                    props.fetchGamesByKeyword(searchTerm);\r\n                history.push(`/search?q=${searchTerm}`);\r\n            }\r\n        }\r\n    };\r\n    const renderSearchPreview = () => {\r\n        if (data) {\r\n            if (data.games) {\r\n                if (data.games.length > 0) {\r\n                    return data.games.map((game: Game, index: number) => {\r\n                        return (\r\n                            <div\r\n                                className={`matchRow`}\r\n                                onClick={() =>\r\n                                    history.push(`/game/${game.game_id}`)\r\n                                }\r\n                            >\r\n                                <img\r\n                                    className={`matchRowImage matchRowImage${index}`}\r\n                                    src={game.cover_url}\r\n                                    onLoad={() => {\r\n                                        anime({\r\n                                            targets: `.matchRowImage${index}`,\r\n                                            // Properties\r\n                                            // Animation Parameters\r\n                                            opacity: [\"0\", \"1\"],\r\n\r\n                                            duration: 750,\r\n                                            easing: \"easeOutQuad\",\r\n                                        });\r\n                                    }}\r\n                                    alt=\"game\"\r\n                                ></img>\r\n                                <div className=\"matchTextWrap\">\r\n                                    <p className=\"matchTitle\">{game.title}</p>\r\n                                    <p className=\"matchPrice\">\r\n                                        $\r\n                                        {parseFloat(\r\n                                            game.price_after_discount\r\n                                        ).toFixed(2)}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return (\r\n        <React.Fragment>\r\n            <form className={\"searchBarForm\"}>\r\n                <input\r\n                    autoFocus={false}\r\n                    data-testid=\"searchBarInput\"\r\n                    className=\"searchBarInput\"\r\n                    type=\"search\"\r\n                    placeholder=\"Search games\"\r\n                    name=\"search\"\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    onKeyDown={handleKeyDown}\r\n                    autoComplete=\"off\"\r\n                    ref={searchBarInputRef}\r\n                    onClick={() => setIsComponentVisible(true)}\r\n                />\r\n                <AiOutlineSearch\r\n                    className=\"searchBarIcons\"\r\n                    data-testid=\"searchIcon\"\r\n                    onClick={() => {\r\n                        history.push(`/search?q=${searchTerm}`);\r\n                    }}\r\n                />\r\n                <div\r\n                    className={`matchContainer ${\r\n                        isComponentVisible ? \"\" : \"hideMatchContainer\"\r\n                    }`}\r\n                    ref={ref}\r\n                >\r\n                    {renderSearchPreview()}\r\n                </div>\r\n            </form>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => {\r\n    return {\r\n        // search: state.search,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchGamesByKeyword })(Searchbar);\r\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\nexport default function useComponentVisible(initialIsVisible: boolean) {\r\n    const [isComponentVisible, setIsComponentVisible] = useState(\r\n        initialIsVisible\r\n    );\r\n    const ref = useRef(null);\r\n\r\n    const handleClickOutside = (event: any) => {\r\n        //@ts-ignore\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n            setIsComponentVisible(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"click\", handleClickOutside, true);\r\n        return () => {\r\n            document.removeEventListener(\"click\", handleClickOutside, true);\r\n        };\r\n    });\r\n\r\n    return { ref, isComponentVisible, setIsComponentVisible };\r\n}\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport Searchbar from \"./Searchbar\";\r\nimport history from \"../browserHistory\";\r\nconst CartAndSearchbar: React.FC<{}> = () => {\r\n    let [cart, setCart] = useState<[]>([]);\r\n    let localCart = localStorage.getItem(\"cart\");\r\n\r\n    const addItem = (item: any) => {\r\n        //create a copy of our cart state, avoid overwritting existing state\r\n        let cartCopy: any = [...cart];\r\n\r\n        //assuming we have an ID field in our item\r\n        let { game_id } = item;\r\n\r\n        //look for item in cart array\r\n        let existingItem = cartCopy.find(\r\n            (cartItem: any) => cartItem.game_id === game_id\r\n        );\r\n\r\n        //if item already exists\r\n        console.log(existingItem);\r\n        if (existingItem) {\r\n        } else {\r\n            //if item doesn't exist, simply add it\r\n            cartCopy.push(item);\r\n        }\r\n\r\n        //update app state\r\n        setCart(cartCopy);\r\n\r\n        //make cart a string and store in local space\r\n        let stringCart = JSON.stringify(cartCopy);\r\n        localStorage.setItem(\"cart\", stringCart);\r\n    };\r\n    return (\r\n        <div className=\"cartAndSearchWrap\">\r\n            <button\r\n                className=\"cart\"\r\n                onClick={() => {\r\n                    history.push(\"/cart\");\r\n                }}\r\n            >{`Cart(${\r\n                localCart !== null ? JSON.parse(localCart).length : \"0\"\r\n            })`}</button>\r\n            <Searchbar />\r\n        </div>\r\n    );\r\n};\r\nexport default CartAndSearchbar;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Router } from \"react-router-dom\";\r\nimport history from \"../browserHistory\";\r\nimport Routes from \"./Routes\";\r\nimport FeaturedCarousel from \"./FeaturedCarousel\";\r\nimport SpecialOfferCarousel from \"./SpecialOfferCarousel\";\r\nimport CommunityCarousel from \"./CommunityCarousel\";\r\nimport _ from \"lodash\";\r\nimport { fetchGames, fetchDiscountedGames, Game } from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { StoreState } from \"../reducers\";\r\nimport { GamesStateResponse } from \"../reducers/gamesReducer\";\r\nimport { ErrorStateResponse } from \"reducers/errorReducer\";\r\nimport { LG_SCREEN_SIZE, MED_SCREEN_SIZE } from \"../constants\";\r\nimport Loading from \"./Loading\";\r\nimport useWindowDimensions from \"../windowDimensions\";\r\nimport Searchbar from \"./Searchbar\";\r\nimport CartAndSearchbar from \"./CartAndSearchbar\";\r\nimport anime from \"animejs/lib/anime.es.js\";\r\nexport interface FeaturedCarouselProps {\r\n    content: Game[];\r\n}\r\nexport interface SpecialOfferCarouselProps {\r\n    content: Game[];\r\n}\r\nexport interface CommunityCarouelProps {\r\n    content: Game[];\r\n}\r\n\r\ninterface HomeProps {\r\n    games: GamesStateResponse;\r\n    discountedGames: GamesStateResponse;\r\n    errors: ErrorStateResponse;\r\n    fetchGames(): void;\r\n    fetchDiscountedGames(): void;\r\n}\r\n\r\nconst Home: React.FC<HomeProps> = (props) => {\r\n    let localCart = localStorage.getItem(\"cart\");\r\n    const [hoverData, setHoverData] = useState(-9); //We can also switch this ot 1 since our first game has a game_id of 1\r\n    const [specialsTabClicked, setSpecialsTabClicked] = useState(false);\r\n    useEffect(() => {\r\n        props.fetchGames();\r\n        props.fetchDiscountedGames();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (props.games.data)\r\n            if (props.games.data.games.length > 0)\r\n                //Get game id of first game\r\n                setHoverData(props.games.data.games[0].game_id);\r\n    }, [props.games.data]);\r\n\r\n    const { width } = useWindowDimensions();\r\n\r\n    const renderGenresForGameText = (gameId: number) => {\r\n        let filteredContent = _.filter(props.games.data?.games, {\r\n            game_id: gameId,\r\n        });\r\n        if (filteredContent.length === 0)\r\n            filteredContent = _.filter(props.discountedGames.data?.games, {\r\n                game_id: gameId,\r\n            });\r\n        if (filteredContent.length > 0)\r\n            return filteredContent.map((content, index) => {\r\n                return content.genres.map((genre, index) => {\r\n                    if (content.genres.length === index + 1) {\r\n                        return ` ${genre}`;\r\n                    }\r\n                    return ` ${genre},`;\r\n                });\r\n            });\r\n    };\r\n\r\n    const renderGenresForGameTag = (gameId: number) => {\r\n        let filteredContent = _.filter(props.games.data?.games, {\r\n            game_id: gameId,\r\n        });\r\n\r\n        if (filteredContent.length === 0)\r\n            filteredContent = _.filter(props.discountedGames.data?.games, {\r\n                game_id: gameId,\r\n            });\r\n\r\n        if (filteredContent.length > 0)\r\n            return filteredContent.map((content, index) => {\r\n                return content.genres.map((genre, index) => {\r\n                    return (\r\n                        <p key={index} className=\"chartGamePreviewGenres\">\r\n                            {genre}\r\n                        </p>\r\n                    );\r\n                });\r\n            });\r\n    };\r\n\r\n    const renderScreenshotsForGame = (gameId: number) => {\r\n        let game = _.filter(props.games.data?.games, {\r\n            game_id: gameId,\r\n        });\r\n        if (game.length === 0)\r\n            game = _.filter(props.discountedGames.data?.games, {\r\n                game_id: gameId,\r\n            });\r\n        let maxScreenshotToShow = 4;\r\n\r\n        if (game.length > 0)\r\n            return game[0].screenshots.map((screenshot, index) => {\r\n                if (index < maxScreenshotToShow)\r\n                    return (\r\n                        <img\r\n                            className={`gameChartScreenshotPreview gameChartScreenshotPreview${index}`}\r\n                            key={index}\r\n                            onLoad={() => {\r\n                                anime({\r\n                                    targets: `.gameChartScreenshotPreview${index}`,\r\n                                    opacity: [\r\n                                        {\r\n                                            value: [0, 1],\r\n                                            duration: 250,\r\n                                            easing: \"easeOutQuad\",\r\n                                        },\r\n                                    ],\r\n                                });\r\n                            }}\r\n                            src={screenshot}\r\n                            alt=\"preview\"\r\n                        ></img>\r\n                    );\r\n            });\r\n    };\r\n\r\n    const renderPrice = (content: Game) => {\r\n        if (parseFloat(content.discount_percentage) > 0) {\r\n            return (\r\n                <div className=\"chartAdjustedPriceWrap\">\r\n                    <div className=\"chartDiscount\">\r\n                        -{parseFloat(content.discount_percentage) * 100}%\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"chartOrigPriceStriked\">\r\n                            ${parseFloat(content.price).toFixed(2)}\r\n                        </p>\r\n                        <p className=\"chartGamePrice\">\r\n                            $\r\n                            {parseFloat(content.price_after_discount).toFixed(\r\n                                2\r\n                            )}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            //no discount\r\n            return (\r\n                <p className=\"chartGamePrice\">\r\n                    ${parseFloat(content.price).toFixed(2)}\r\n                </p>\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderChartGames = () => {\r\n        let contentToRender = props.games.data?.games;\r\n        if (specialsTabClicked === true) {\r\n            contentToRender = props.discountedGames.data?.games;\r\n        }\r\n        if (contentToRender)\r\n            return contentToRender.map((content, index) => {\r\n                if (index < 11) {\r\n                    return (\r\n                        <div\r\n                            onClick={() => {\r\n                                history.push(`game/${content.game_id}`);\r\n                            }}\r\n                            key={index}\r\n                            className={`chartGameContainer ${\r\n                                hoverData === content.game_id\r\n                                    ? \"chartGameContainerToggled\"\r\n                                    : \"\"\r\n                            }`}\r\n                            onMouseOver={() => {\r\n                                setHoverData(content.game_id);\r\n                            }}\r\n                        >\r\n                            <div\r\n                                className={`chartGameImage chartGameImage${index}`}\r\n                                onLoad={() => {\r\n                                    anime({\r\n                                        targets: `.chartGameImage${index}`,\r\n                                        // Properties\r\n                                        // Animation Parameters\r\n\r\n                                        opacity: [\r\n                                            {\r\n                                                value: [0, 1],\r\n                                                duration: 250,\r\n                                                easing: \"easeOutQuad\",\r\n                                            },\r\n                                        ],\r\n                                    });\r\n                                }}\r\n                            >\r\n                                <img src={content.cover_url} alt=\"game\"></img>\r\n                            </div>\r\n                            <div className=\"chartGameInfo\">\r\n                                <div className=\"chartGameGenreAndTitle\">\r\n                                    <p className=\"chartGameTitle\">\r\n                                        {content.title}\r\n                                    </p>\r\n                                    <p className=\"chartGameGenres\">\r\n                                        {renderGenresForGameText(\r\n                                            content.game_id\r\n                                        )}\r\n                                    </p>\r\n                                </div>\r\n                                {renderPrice(content)}\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                }\r\n            });\r\n    };\r\n\r\n    const renderContent = () => {\r\n        if (props.errors.data?.error) {\r\n            return (\r\n                <div className=\"serverErrorContainer\">\r\n                    <h3 className=\"serverErrorText\">\r\n                        {props.errors.data?.error}\r\n                    </h3>\r\n                </div>\r\n            );\r\n        } else if (props.games.data && props.discountedGames.data) {\r\n            //If we enter a search that's not found, our reducer will have games as an empty array\r\n            //It takes time for React to change our reducer after calling props.fetchGames() and props.fetchDiscountedGames()\r\n            if (\r\n                props.games.data.games.length > 0 &&\r\n                props.discountedGames.data.games.length > 0\r\n            ) {\r\n                let specialTabsHoverData =\r\n                    props.discountedGames.data?.games[0].game_id;\r\n                let carouselSplit = _.chunk(props.games.data.games, 4);\r\n                if (carouselSplit[0] && carouselSplit[3])\r\n                    return (\r\n                        <div className=\"homeContainer\">\r\n                            <div className=\"homeFirstSection\">\r\n                                <CartAndSearchbar />\r\n                                <h1 className=\"bannerTitle\">\r\n                                    Featured And Recommended\r\n                                </h1>\r\n\r\n                                <FeaturedCarousel content={carouselSplit[0]} />\r\n                                <h1 className=\"bannerTitle\">Special Offers</h1>\r\n                                <SpecialOfferCarousel\r\n                                    content={props.discountedGames.data.games}\r\n                                />\r\n                                <h1 className=\"bannerTitle\">\r\n                                    The Community Recommends\r\n                                </h1>\r\n                                <CommunityCarousel content={carouselSplit[3]} />\r\n                            </div>\r\n                            <div className=\"chartTabsWrap\">\r\n                                <div\r\n                                    className={`chartTab ${\r\n                                        specialsTabClicked\r\n                                            ? \"\"\r\n                                            : \" chartTabToggled\"\r\n                                    }`}\r\n                                    onClick={() => setSpecialsTabClicked(false)}\r\n                                >\r\n                                    Top Sellers\r\n                                </div>\r\n                                <div\r\n                                    className={`chartTab ${\r\n                                        specialsTabClicked\r\n                                            ? \"chartTabToggled\"\r\n                                            : \"\"\r\n                                    }`}\r\n                                    onClick={() => {\r\n                                        setSpecialsTabClicked(true);\r\n                                        setHoverData(specialTabsHoverData);\r\n                                    }}\r\n                                >\r\n                                    Specials\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"chart\">\r\n                                <div className=\"chartGamesColumn\">\r\n                                    <div className=\"seeMoreWrap\">\r\n                                        <p className=\"seeMoreText\">See More:</p>\r\n                                        <div\r\n                                            className=\"chartSeeMore\"\r\n                                            onClick={() => {\r\n                                                if (specialsTabClicked) {\r\n                                                    history.push({\r\n                                                        pathname: \"/search\",\r\n                                                        search: `?specials`,\r\n                                                    });\r\n                                                } else {\r\n                                                    history.push({\r\n                                                        pathname: \"/search\",\r\n                                                    });\r\n                                                }\r\n                                            }}\r\n                                        >\r\n                                            {specialsTabClicked\r\n                                                ? \"Specials\"\r\n                                                : \"Top Sellers\"}\r\n                                        </div>\r\n                                    </div>\r\n                                    {renderChartGames()}\r\n                                </div>\r\n                                {renderChartGamePreview(hoverData)}\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                else {\r\n                    return (\r\n                        <div className=\"loadingCenter\">\r\n                            <Loading />\r\n                        </div>\r\n                    );\r\n                }\r\n            } else {\r\n                return (\r\n                    <div className=\"loadingCenter\">\r\n                        <Loading />\r\n                    </div>\r\n                );\r\n            }\r\n        } else {\r\n            return (\r\n                <div className=\"loadingCenter\">\r\n                    <Loading />\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderChartGamePreview = (gameId: number) => {\r\n        let filteredContent = _.filter(props.games.data?.games, {\r\n            game_id: gameId,\r\n        });\r\n        if (filteredContent.length > 0)\r\n            return (\r\n                <div\r\n                    className=\"chartGamePreviewHover\"\r\n                    onClick={() => {\r\n                        history.push(`game/${gameId}`);\r\n                    }}\r\n                >\r\n                    <p className=\"chartGamePreviewTitle\">\r\n                        {filteredContent.map((content, index) => {\r\n                            return content.title;\r\n                        })}\r\n                    </p>\r\n\r\n                    <div className=\"chartGamePreviewGenresWrap\">\r\n                        {renderGenresForGameTag(gameId)}\r\n                    </div>\r\n                    <div className=\"chartGamePreviewScreenshots\">\r\n                        {renderScreenshotsForGame(gameId)}\r\n                    </div>\r\n                </div>\r\n            );\r\n    };\r\n    return <React.Fragment>{renderContent()}</React.Fragment>;\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => {\r\n    return {\r\n        games: state.games,\r\n        discountedGames: state.discountedGames,\r\n        errors: state.errors,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchGames,\r\n    fetchDiscountedGames,\r\n})(Home);\r\n","import React, { useEffect } from \"react\";\r\nimport history from \"../browserHistory\";\r\nimport { connect } from \"react-redux\";\r\nimport { signOut } from \"../actions\";\r\nimport { StoreState } from \"../reducers\";\r\ninterface HeaderProps {\r\n    authStatus?: string | null;\r\n    signOut(): void;\r\n}\r\nconst Header: React.FC<HeaderProps> = (props) => {\r\n    return (\r\n        <nav className=\"headerContainer\" data-testid=\"steamHeaderLogo\">\r\n            <div\r\n                className=\"headerLogoImageWrap\"\r\n                onClick={() => {\r\n                    history.push(\"/\");\r\n                }}\r\n            >\r\n                <img\r\n                    src=\"https://store.cloudflare.steamstatic.com/public/shared/images/responsive/header_logo.png\"\r\n                    alt=\"logo\"\r\n                />\r\n            </div>\r\n            <div className=\"headerAuthWrap\">\r\n                {props.authStatus && (\r\n                    <h3\r\n                        className=\"headerProfileText\"\r\n                        onClick={() => history.push(\"/profile\")}\r\n                    >\r\n                        Profile\r\n                    </h3>\r\n                )}\r\n                <h3\r\n                    className=\"headerAuthText\"\r\n                    data-testid=\"signInOrSignOut\"\r\n                    onClick={() => {\r\n                        if (props.authStatus) props.signOut();\r\n                        else {\r\n                            history.push(\"/signin\");\r\n                        }\r\n                    }}\r\n                >\r\n                    {props.authStatus ? \"Sign Out\" : \"Sign In\"}\r\n                </h3>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => {\r\n    return {\r\n        authStatus: state.authStatus.authenticated,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, { signOut })(Header);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {\r\n    CarouselProvider,\r\n    Slider,\r\n    Slide,\r\n    DotGroup,\r\n    ButtonBack,\r\n    ButtonNext,\r\n} from \"pure-react-carousel\";\r\nimport \"pure-react-carousel/dist/react-carousel.es.css\";\r\nimport { RiArrowRightSLine, RiArrowLeftSLine } from \"react-icons/ri\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useWindowDimensions from \"../windowDimensions\";\r\nimport { GameInfoCarouselProps } from \"./GameInfo\";\r\nimport anime from \"animejs/lib/anime.es.js\";\r\nimport { LG_SCREEN_SIZE, MED_SCREEN_SIZE } from \"../constants\";\r\n\r\nconst GameInfoCarousel: React.FC<GameInfoCarouselProps> = (props) => {\r\n    const { width } = useWindowDimensions();\r\n    const [displayImage, setDisplayImage] = useState(props.screenshots[0]);\r\n    const [imageClicked, setImageClicked] = useState(0);\r\n\r\n    useEffect(() => {\r\n        //When user clicks another game in home page after clicking a game\r\n        // displayImage hook was at the previous's displayImage\r\n        //so update it here\r\n        setDisplayImage(props.screenshots[0]);\r\n    }, [props.screenshots]);\r\n\r\n    const renderSlides = () => {\r\n        return props.screenshots.map((screenshot, index) => {\r\n            return (\r\n                <Slide index={index} key={index}>\r\n                    <LazyLoad>\r\n                        <div\r\n                            className={`gameInfoContainerCarousel gameInfoAnime${index}`}\r\n                            // onLoad={() => {\r\n                            //     anime({\r\n                            //         targets: `.gameInfoAnime${index}`,\r\n                            //         // Properties\r\n                            //         // Animation Parameters\r\n\r\n                            //         opacity: [\r\n                            //             {\r\n                            //                 value: [0, 1],\r\n                            //                 duration: 250,\r\n                            //                 easing: \"easeOutQuad\",\r\n                            //             },\r\n                            //         ],\r\n                            //     });\r\n                            // }}\r\n                            onClick={(event) => {\r\n                                setDisplayImage(screenshot);\r\n                                setImageClicked(index);\r\n                                anime({\r\n                                    targets: `.gameInfoDisplayImage`,\r\n                                    // Properties\r\n                                    // Animation Parameters\r\n\r\n                                    opacity: [\r\n                                        {\r\n                                            value: [1, 0],\r\n                                            duration: 0,\r\n                                            easing: \"linear\",\r\n                                        },\r\n                                    ],\r\n                                });\r\n                            }}\r\n                        >\r\n                            <div\r\n                                className={`gameInfoCarouselScreenshots gameInfoScreenshot${index} ${\r\n                                    imageClicked === index\r\n                                        ? `gameInfoCarouselScreenshotsClicked`\r\n                                        : ``\r\n                                } `}\r\n                                onLoad={() => {\r\n                                    anime({\r\n                                        targets: `.gameInfoScreenshot${index}`,\r\n                                        // Properties\r\n                                        // Animation Parameters\r\n\r\n                                        opacity: [\r\n                                            {\r\n                                                value: [0, 1],\r\n                                                duration: 250,\r\n                                                easing: \"easeOutQuad\",\r\n                                            },\r\n                                        ],\r\n                                    });\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    className={`gameInfoScreenshot`}\r\n                                    src={screenshot}\r\n                                    alt=\"screenshot\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </LazyLoad>\r\n                </Slide>\r\n            );\r\n        });\r\n    };\r\n\r\n    const renderCarousel = (): JSX.Element | JSX.Element[] => {\r\n        return (\r\n            <div>\r\n                <CarouselProvider\r\n                    naturalSlideWidth={100}\r\n                    naturalSlideHeight={60}\r\n                    totalSlides={props.screenshots.length}\r\n                    className=\"gameCarouselWrap\"\r\n                    visibleSlides={4}\r\n                    infinite={true}\r\n                    step={1}\r\n                >\r\n                    <div className=\"sliderAndButtonWrap\">\r\n                        <Slider>{renderSlides()}</Slider>\r\n\r\n                        <div className={`showButtonsForSmallScreensWrap`}>\r\n                            <ButtonBack className=\"gameBackButton\">\r\n                                <RiArrowLeftSLine />\r\n                            </ButtonBack>\r\n                            <ButtonNext className=\"gameNextButton\">\r\n                                <RiArrowRightSLine />\r\n                            </ButtonNext>\r\n                        </div>\r\n                    </div>\r\n                </CarouselProvider>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <img\r\n                className=\"gameInfoDisplayImage\"\r\n                src={displayImage}\r\n                onLoad={() => {\r\n                    anime({\r\n                        targets: `.gameInfoDisplayImage`,\r\n                        opacity: [\r\n                            {\r\n                                value: [0, 1],\r\n                                duration: 400,\r\n                                easing: \"linear\",\r\n                            },\r\n                        ],\r\n                    });\r\n                }}\r\n                alt=\"game\"\r\n            ></img>\r\n            {renderCarousel()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GameInfoCarousel;\r\n","import React, { ComponentType, useEffect } from \"react\";\r\nimport {\r\n    Field,\r\n    reduxForm,\r\n    reset,\r\n    change,\r\n    FormErrors,\r\n    InjectedFormProps,\r\n} from \"redux-form\";\r\n//compose is used to make it easier to \"organize\" mapStateToProps and redux form\r\nimport { StoreState } from \"../reducers\";\r\nimport { connect } from \"react-redux\";\r\nimport { WriteReviewFormProps } from \"./GameInfo\";\r\nimport { FiThumbsUp, FiThumbsDown } from \"react-icons/fi\";\r\nimport defaultAvatar from \"../img/defaultAvatar.png\";\r\n//Re-usable component\r\nexport interface WriteReviewFormValues {\r\n    opinion: string;\r\n}\r\n\r\n//Typescriptand redux form:\r\n//https://levelup.gitconnected.com/react-js-typescript-redux-redux-form-jest-e522995ebe36\r\n\r\n//Need to hoist render methods up or else it will give error where it will unfocus after first characther is typed\r\n//https://stackoverflow.com/questions/39839051/using-redux-form-im-losing-focus-after-typing-the-first-character\r\n\r\nconst renderError = ({ error, touched }: any) => {\r\n    if (touched && error) {\r\n        //Touched (for input) will be false at first\r\n        //When clicked and then clicked otuside of the input, it will be true\r\n        return <div className=\"errorText\">{error}</div>;\r\n    }\r\n};\r\n\r\nconst renderTextArea = ({ input, label, meta, placeHolder }: any) => {\r\n    //\"component\" property automatically passes props to argument, it has {input properties and meta properties}\r\n    //\"label\" automatically passes props to arguments\r\n    return (\r\n        <div>\r\n            {/* <label>{label}</label> */}\r\n            <textarea\r\n                data-testid={label}\r\n                className=\"createReviewTextArea\"\r\n                {...input}\r\n                autoComplete=\"off\"\r\n            />\r\n            {renderError(meta)}\r\n        </div>\r\n    );\r\n    //{..input} is shortcut for redux-form; where you take all the input from \"component's\" props and pass it as\r\n    //props to <input>\r\n};\r\n\r\nconst WriteReview: React.FC<\r\n    WriteReviewFormProps & InjectedFormProps<{}, WriteReviewFormProps>\r\n> = (props) => {\r\n    const onSubmit = (formValues: any, dispatch: any) => {\r\n        //onSubmit's default param is any\r\n        //event.preventDefault() is automatically called with handleSubmit, a redux-form property\r\n        //form values are the values from the fields that redux-form automatiacally passes\r\n        //after clicking the submit button\r\n        //dispatch(reset(\"registerForm\"));\r\n        props.onSubmit(formValues);\r\n\r\n        //dispatch(change(\"registerForm\", \"password\", \"\"));\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <form\r\n                className=\"reviewForm\"\r\n                data-testid=\"registerForm\"\r\n                onSubmit={props.handleSubmit(onSubmit)}\r\n            >\r\n                <div className=\"reviewSectionsWrap\">\r\n                    <div className=\"reviewFieldTitleWrap\">\r\n                        <h1 className=\"writeAReviewTitle\">\r\n                            {`Write A Review ${\r\n                                !props.authStatus\r\n                                    ? `(as anonymous; sign-in to remove anonymity)`\r\n                                    : ``\r\n                            }`}\r\n                        </h1>\r\n                        <p className=\"pleaseDescribe\">\r\n                            Please describe what you liked or disliked about\r\n                            this game and whether you recommend it to others.\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* <div className=\"reviewAvatar\">\r\n                            <img src={defaultAvatar} alt=\"avatar\"></img>\r\n                        </div> */}\r\n                    <div className=\"reviewContentExceptAvatarWrap\">\r\n                        <div className=\"myReviewWrap\">\r\n                            <Field\r\n                                name=\"opinion\"\r\n                                label=\"opinion\"\r\n                                type=\"text\"\r\n                                component={renderTextArea}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"reviewButtonsSection\">\r\n                                <p className=\"doYouRecommend\">\r\n                                    Do you recommend this game?{\" \"}\r\n                                </p>\r\n                                <div className=\"reviewButtonsWrap\">\r\n                                    <div className=\"recommendOrNotButtonsWrap\">\r\n                                        {/* https://stackoverflow.com/questions/41590766/redux-form-always-validates-even-on-a-normal-button-press */}\r\n                                        {/* By adding type=\"button\" the button will not be a \"submit\" button */}\r\n                                        <button\r\n                                            className={`recommendOrNotButton ${\r\n                                                props.recommend\r\n                                                    ? `recommendOrNotButtonClicked`\r\n                                                    : ``\r\n                                            }`}\r\n                                            type=\"button\"\r\n                                            onClick={() =>\r\n                                                props.onRecommendorNot(true)\r\n                                            }\r\n                                        >\r\n                                            <FiThumbsUp />\r\n                                            <p> Yes</p>\r\n                                        </button>\r\n                                        <button\r\n                                            className={`recommendOrNotButton ${\r\n                                                !props.recommend\r\n                                                    ? `recommendOrNotButtonClicked`\r\n                                                    : ``\r\n                                            }`}\r\n                                            type=\"button\"\r\n                                            onClick={() =>\r\n                                                props.onRecommendorNot(false)\r\n                                            }\r\n                                        >\r\n                                            <FiThumbsDown />\r\n                                            <p>No</p>\r\n                                        </button>\r\n                                    </div>\r\n                                    <button\r\n                                        className=\"postReviewButton\"\r\n                                        data-testid=\"postReviewButton\"\r\n                                    >\r\n                                        Post Review\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <h3 className=\"authFormFieldTitleEmailInUse\">\r\n                        {props.authStatus}\r\n                    </h3>\r\n                </div>\r\n            </form>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst validate = (\r\n    formValues: WriteReviewFormValues\r\n): FormErrors<WriteReviewFormValues> => {\r\n    //MUST BE NAMED VALIDATE! Other names would be ignored by reduxForm(..)\r\n    const errors: FormErrors<WriteReviewFormValues> = {};\r\n    //If you return an empty object, redux form will assume everything is ok\r\n    if (!formValues.opinion) {\r\n        //user did not enter title, so undefined\r\n        errors.opinion = \"You must enter a review\";\r\n        //Must be the same name as field name! The \"error\" property in {meta} would receive this\r\n    }\r\n\r\n    return errors;\r\n    //Erors is going to be passed to renderInput's meta\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => {\r\n    return {\r\n        //authStatus: state.authStatus.errorMessage,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps)(\r\n    reduxForm<{}, WriteReviewFormProps>({\r\n        form: \"writeReview\",\r\n        validate,\r\n    })(WriteReview)\r\n);\r\n","export default \"data:image/png;base64,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\"","import React, { ComponentType, useEffect } from \"react\";\r\nimport {\r\n    Field,\r\n    reduxForm,\r\n    reset,\r\n    change,\r\n    FormErrors,\r\n    InjectedFormProps,\r\n} from \"redux-form\";\r\n//compose is used to make it easier to \"organize\" mapStateToProps and redux form\r\nimport { StoreState } from \"../reducers\";\r\nimport { connect } from \"react-redux\";\r\nimport { EditReviewFormProps } from \"./GameInfo\";\r\nimport { FiThumbsUp, FiThumbsDown } from \"react-icons/fi\";\r\n//Re-usable component\r\nexport interface EditReviewFormValues {\r\n    opinion: string;\r\n}\r\n\r\n//Typescriptand redux form:\r\n//https://levelup.gitconnected.com/react-js-typescript-redux-redux-form-jest-e522995ebe36\r\n\r\n//Need to hoist render methods up or else it will give error where it will unfocus after first characther is typed\r\n//https://stackoverflow.com/questions/39839051/using-redux-form-im-losing-focus-after-typing-the-first-character\r\n\r\nconst renderError = ({ error, touched }: any) => {\r\n    if (touched && error) {\r\n        //Touched (for input) will be false at first\r\n        //When clicked and then clicked otuside of the input, it will be true\r\n        return <div className=\"errorText\">{error}</div>;\r\n    }\r\n};\r\n\r\nconst renderTextArea = ({ input, label, meta, placeHolder }: any) => {\r\n    //\"component\" property automatically passes props to argument, it has {input properties and meta properties}\r\n    //\"label\" automatically passes props to arguments\r\n    return (\r\n        <div>\r\n            {/* <label>{label}</label> */}\r\n            <textarea\r\n                data-testid={label}\r\n                className=\"createReviewTextArea\"\r\n                {...input}\r\n                autoComplete=\"off\"\r\n            />\r\n            {renderError(meta)}\r\n        </div>\r\n    );\r\n    //{..input} is shortcut for redux-form; where you take all the input from \"component's\" props and pass it as\r\n    //props to <input>\r\n};\r\n\r\nconst EditReview: React.FC<\r\n    EditReviewFormProps & InjectedFormProps<{}, EditReviewFormProps>\r\n> = (props) => {\r\n    const onSubmit = (formValues: any, dispatch: any) => {\r\n        //onSubmit's default param is any\r\n        //event.preventDefault() is automatically called with handleSubmit, a redux-form property\r\n        //form values are the values from the fields that redux-form automatiacally passes\r\n        //after clicking the submit button\r\n        //dispatch(reset(\"registerForm\"));\r\n        props.onSubmit(formValues);\r\n\r\n        //dispatch(change(\"registerForm\", \"password\", \"\"));\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <form\r\n                className=\"reviewForm editForm\"\r\n                data-testid=\"editFOrm\"\r\n                onSubmit={props.handleSubmit(onSubmit)}\r\n            >\r\n                <div className=\"reviewSectionsWrap\">\r\n                    <div className=\"reviewFieldTitleWrap\">\r\n                        <h1 className=\"writeAReviewTitle\">Your Review</h1>\r\n                        <p className=\"pleaseDescribe\">\r\n                            Please describe what you liked or disliked about\r\n                            this game and whether you recommend it to others.\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"myReviewWrap\">\r\n                        <Field\r\n                            name=\"opinion\"\r\n                            label=\"opinion\"\r\n                            type=\"text\"\r\n                            component={renderTextArea}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"reviewButtonsSection\">\r\n                            <p className=\"doYouRecommend\">\r\n                                Do you recommend this game?\r\n                            </p>\r\n                            <div className=\"reviewButtonsWrap\">\r\n                                <div className=\"recommendOrNotButtonsWrap\">\r\n                                    {/* https://stackoverflow.com/questions/41590766/redux-form-always-validates-even-on-a-normal-button-press */}\r\n                                    {/* By adding type=\"button\" the button will not be a \"submit\" button */}\r\n                                    <button\r\n                                        className={`recommendOrNotButton ${\r\n                                            props.recommend\r\n                                                ? `recommendOrNotButtonClicked`\r\n                                                : ``\r\n                                        }`}\r\n                                        type=\"button\"\r\n                                        onClick={() =>\r\n                                            props.onRecommendorNot(true)\r\n                                        }\r\n                                    >\r\n                                        <FiThumbsUp />\r\n                                        <p> Yes</p>\r\n                                    </button>\r\n                                    <button\r\n                                        className={`recommendOrNotButton ${\r\n                                            !props.recommend\r\n                                                ? `recommendOrNotButtonClicked`\r\n                                                : ``\r\n                                        }`}\r\n                                        type=\"button\"\r\n                                        onClick={() =>\r\n                                            props.onRecommendorNot(false)\r\n                                        }\r\n                                    >\r\n                                        <FiThumbsDown />\r\n                                        <p>No</p>\r\n                                    </button>\r\n                                </div>\r\n                                <div>\r\n                                    <button\r\n                                        className=\"editAndDeleteReviewButton deleteReviewButton\"\r\n                                        type=\"button\"\r\n                                        onClick={() => props.onDelete()}\r\n                                    >\r\n                                        Delete Review\r\n                                    </button>\r\n\r\n                                    <button className=\"editAndDeleteReviewButton\">\r\n                                        Edit Review\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <h3 className=\"authFormFieldTitleEmailInUse\">\r\n                        {props.authStatus}\r\n                    </h3>\r\n                </div>\r\n            </form>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst validate = (\r\n    formValues: EditReviewFormValues\r\n): FormErrors<EditReviewFormValues> => {\r\n    //MUST BE NAMED VALIDATE! Other names would be ignored by reduxForm(..)\r\n    const errors: FormErrors<EditReviewFormValues> = {};\r\n    //If you return an empty object, redux form will assume everything is ok\r\n    if (!formValues.opinion) {\r\n        //user did not enter title, so undefined\r\n        errors.opinion = \"You must enter a review\";\r\n        //Must be the same name as field name! The \"error\" property in {meta} would receive this\r\n    }\r\n\r\n    return errors;\r\n    //Erors is going to be passed to renderInput's meta\r\n};\r\n\r\nexport default connect()(\r\n    reduxForm<{}, EditReviewFormProps>({\r\n        form: \"editReview\",\r\n        validate,\r\n        enableReinitialize: true,\r\n    })(EditReview)\r\n);\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport history from \"../browserHistory\";\r\nimport GameInfoCarousel from \"./GameInfoCarousel\";\r\nimport WriteReview, { WriteReviewFormValues } from \"./WriteReview\";\r\nimport { FiThumbsUp, FiThumbsDown } from \"react-icons/fi\";\r\nimport {\r\n    fetchGameInfo,\r\n    Game,\r\n    Reviewer,\r\n    fetchGameInfoReviews,\r\n    postReview,\r\n    editReview,\r\n    deleteReview,\r\n} from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { StoreState } from \"../reducers\";\r\nimport Loading from \"./Loading\";\r\nimport { ErrorStateResponse } from \"reducers/errorReducer\";\r\nimport { GameInfoStateResponse } from \"reducers/gameInfoReducer\";\r\nimport defaultAvatar from \"../img/defaultAvatar.png\";\r\nimport anime from \"animejs/lib/anime.es.js\";\r\nimport moment from \"moment\";\r\nimport { GameInfoReviewsStateResponse } from \"reducers/gameInfoReviewsReducer\";\r\nimport _ from \"lodash\";\r\nimport EditReview from \"./EditReview\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport Cookies from \"js-cookie\";\r\nimport { ACCESS_TOKEN } from \"../constants\";\r\nimport CartAndSearchbar from \"./CartAndSearchbar\";\r\nexport interface WriteReviewFormProps {\r\n    onSubmit(formValues: any): void;\r\n    authStatus?: string | null;\r\n    onRecommendorNot(response: boolean): void;\r\n    recommend: boolean;\r\n}\r\n\r\nexport interface EditReviewFormProps {\r\n    onSubmit(formValues: any): void;\r\n    onDelete(): void;\r\n    authStatus?: string | null;\r\n    onRecommendorNot(response: boolean): void;\r\n    recommend: boolean;\r\n}\r\n\r\nexport interface GameInfoCarouselProps {\r\n    screenshots: string[];\r\n}\r\ninterface GameInfoProps {\r\n    fetchGameInfo(gameId: number): void;\r\n    fetchGameInfoReviews(gameId: number): void;\r\n    postReview(formValues: IPostAndEditReview, gameId: number): void;\r\n    editReview(formValues: IPostAndEditReview, gameId: number): void;\r\n    deleteReview(gameId: number): void;\r\n    errors: ErrorStateResponse;\r\n    gameInfo: GameInfoStateResponse;\r\n    gameInfoReviews: GameInfoReviewsStateResponse;\r\n    match: any;\r\n}\r\n\r\nexport interface IPostAndEditReview {\r\n    opinion: string;\r\n    recommend: boolean;\r\n}\r\nconst GameInfo: React.FC<GameInfoProps> = (props) => {\r\n    //cart: https://javascript.plainenglish.io/creating-a-persistent-cart-in-react-f287ed4b4df0\r\n    let [cart, setCart] = useState<[]>([]);\r\n    let localCart = localStorage.getItem(\"cart\");\r\n\r\n    const addItem = (item: Game) => {\r\n        //create a copy of our cart state, avoid overwritting existing state\r\n        let cartCopy: any = [...cart];\r\n\r\n        //assuming we have an ID field in our item\r\n        let { game_id } = item;\r\n\r\n        //look for item in cart array\r\n        let existingItem = cartCopy.find(\r\n            (cartItem: Game) => cartItem.game_id === game_id\r\n        );\r\n\r\n        //if item already exists\r\n\r\n        if (existingItem) {\r\n        } else {\r\n            //if item doesn't exist, simply add it\r\n            cartCopy.push(item);\r\n        }\r\n\r\n        //update app state\r\n        setCart(cartCopy);\r\n\r\n        //make cart a string and store in local space\r\n        let stringCart = JSON.stringify(cartCopy);\r\n        localStorage.setItem(\"cart\", stringCart);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (localCart != null) {\r\n            let parsedLocalCart = JSON.parse(localCart);\r\n            //load persisted cart into state if it exists\r\n            // console.log(parsedLocalCart);\r\n            setCart(parsedLocalCart);\r\n        }\r\n    }, []);\r\n    const itemEls = useRef(new Array());\r\n    //Using refs when you have a dynamic list: https://mattclaffey.medium.com/adding-react-refs-to-an-array-of-items-96e9a12ab40c\r\n    //normal [] would not wrok.\r\n    useEffect(() => {\r\n        props.fetchGameInfo(props.match.params.gameId);\r\n        props.fetchGameInfoReviews(props.match.params.gameId);\r\n    }, []);\r\n    useEffect(() => {\r\n        //This is used for to control thumbs up or thumbs down button\r\n        if (props.gameInfoReviews.data) {\r\n            if (Cookies.get(ACCESS_TOKEN)) {\r\n                //If user is signed in\r\n                //@ts-ignore\r\n                const email = jwt_decode(Cookies.get(ACCESS_TOKEN)).subject;\r\n                const filteredContent = _.filter(\r\n                    props.gameInfoReviews.data?.reviews,\r\n                    {\r\n                        email: email,\r\n                    }\r\n                );\r\n                if (filteredContent.length > 0) {\r\n                    //@ts-ignore\r\n                    setRecommend(filteredContent[0].recommend);\r\n                }\r\n            }\r\n        }\r\n        // itemEls.current[0]?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, [props.gameInfoReviews.data]);\r\n    const [recommend, setRecommend] = useState(true);\r\n\r\n    const onRecommendorNot = (response: boolean) => {\r\n        if (response) setRecommend(true);\r\n        else setRecommend(false);\r\n    };\r\n\r\n    const renderWriteReview = () => {\r\n        if (Cookies.get(ACCESS_TOKEN)) {\r\n            //If user is signed in\r\n            //@ts-ignore\r\n            const email = jwt_decode(Cookies.get(ACCESS_TOKEN)).subject;\r\n\r\n            const filteredContent = _.filter(\r\n                props.gameInfoReviews.data?.reviews,\r\n                {\r\n                    email: email,\r\n                }\r\n            );\r\n            //If user already wrote a review,\r\n            if (filteredContent.length > 0) {\r\n                return null;\r\n            } else {\r\n                return (\r\n                    <WriteReview\r\n                        recommend={recommend}\r\n                        onRecommendorNot={onRecommendorNot}\r\n                        onSubmit={(formValues: any) =>\r\n                            onSubmitPostReview(formValues)\r\n                        }\r\n                    />\r\n                );\r\n            }\r\n        } else {\r\n            //If user is not signed in\r\n            return (\r\n                <WriteReview\r\n                    recommend={recommend}\r\n                    onRecommendorNot={onRecommendorNot}\r\n                    onSubmit={(formValues: any) =>\r\n                        onSubmitPostReview(formValues)\r\n                    }\r\n                />\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderEditReview = () => {\r\n        if (Cookies.get(ACCESS_TOKEN)) {\r\n            //If user is signed in\r\n            //@ts-ignore\r\n            const email = jwt_decode(Cookies.get(ACCESS_TOKEN)).subject;\r\n            const filteredContent = _.filter(\r\n                props.gameInfoReviews.data?.reviews,\r\n                {\r\n                    email: email,\r\n                }\r\n            );\r\n\r\n            //If user already wrote a review\r\n            if (filteredContent.length > 0) {\r\n                return (\r\n                    <EditReview\r\n                        recommend={recommend}\r\n                        onRecommendorNot={onRecommendorNot}\r\n                        onSubmit={(formValues: any) =>\r\n                            onSubmitEditReview(formValues)\r\n                        }\r\n                        onDelete={onSubmitDeleteReview}\r\n                        initialValues={{\r\n                            //@ts-ignore  typescript has issues with lodash's ._filter because they use flat array\r\n                            opinion: filteredContent[0].opinion,\r\n                        }}\r\n                    />\r\n                );\r\n            }\r\n        }\r\n    };\r\n\r\n    const renderPrice = (game: Game) => {\r\n        if (parseFloat(game.discount_percentage) > 0) {\r\n            return (\r\n                <div className=\"gameInfoAdjustedPriceWrap\">\r\n                    <div className=\"gameInfoDiscount\">\r\n                        <p>-{parseFloat(game.discount_percentage) * 100}%</p>\r\n                    </div>\r\n                    <div className=\"gameInfoPriceStrikedAndPriceWrap\">\r\n                        <p className=\"gameInfoOrigPriceStriked\">\r\n                            ${parseFloat(game.price).toFixed(2)}\r\n                        </p>\r\n                        <p className=\"gameInfoPrice\">\r\n                            ${parseFloat(game.price_after_discount).toFixed(2)}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            //no discount\r\n            return (\r\n                <div className=\"chartGamePriceInnerWrap\">\r\n                    <p className=\"chartGamePrice\">\r\n                        ${parseFloat(game.price).toFixed(2)}\r\n                    </p>\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderThumbIconForReview = (recommend: boolean) => {\r\n        if (recommend) {\r\n            return (\r\n                <React.Fragment>\r\n                    <FiThumbsUp className=\"reviewerThumbIcon\" />\r\n                    <p className=\"reviewerVerdict\">Recommended</p>\r\n                </React.Fragment>\r\n            );\r\n        } else {\r\n            return (\r\n                <React.Fragment>\r\n                    <FiThumbsDown className=\"reviewerThumbIcon\" />\r\n                    <p className=\"reviewerVerdict\">Not Recommended</p>\r\n                </React.Fragment>\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderReviews = (reviews: Reviewer[]) => {\r\n        if (reviews.length === 0) {\r\n            return (\r\n                <h1 className=\"noReviews\">\r\n                    There are no reviews for this game.\r\n                </h1>\r\n            );\r\n        }\r\n        return reviews.map((review, index) => {\r\n            return (\r\n                <div\r\n                    key={index}\r\n                    className=\"reviewBox\"\r\n                    // ref={(element) =>\r\n                    //     index === 0 ? (itemEls.current[index] = element) : null\r\n                    // }\r\n                    ref={(element) => (itemEls.current[index] = element)}\r\n                >\r\n                    <div className=\"reviewerInfoWrap\">\r\n                        <div className=\"reviewerAvatarWrap\">\r\n                            <img\r\n                                src={\r\n                                    review.avatar_url\r\n                                        ? review.avatar_url\r\n                                        : defaultAvatar\r\n                                }\r\n                                alt=\"avatar\"\r\n                                onError={(e: any) => {\r\n                                    e.target.src = defaultAvatar; // some replacement image\r\n                                    // e.target.style = 'padding: 8px; margin: 16px' // inline styles in html format\r\n                                }}\r\n                            ></img>\r\n                        </div>\r\n                        <p className=\"reviewerUsername\">\r\n                            {review.username\r\n                                ? review.username\r\n                                : `Anonymous User`}\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"reviewerReviewWrap\">\r\n                        <div className=\"reviewerVerdictWrap\">\r\n                            {renderThumbIconForReview(review.recommend)}\r\n                        </div>\r\n                        <p className=\"reviewerDesc\">{review.opinion}</p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n    };\r\n\r\n    const onSubmitPostReview = async (formValues: WriteReviewFormValues) => {\r\n        const recommendObj = { recommend: recommend };\r\n        const updatedObj: IPostAndEditReview = Object.assign(\r\n            formValues,\r\n            recommendObj\r\n        );\r\n        //Ignore warning comment by eslint, it actually waits\r\n        await props.postReview(updatedObj, props.match.params.gameId);\r\n        itemEls.current[0]?.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    const onSubmitEditReview = (formValues: WriteReviewFormValues) => {\r\n        const recommendObj = { recommend: recommend };\r\n        const updatedObj: IPostAndEditReview = Object.assign(\r\n            formValues,\r\n            recommendObj\r\n        );\r\n        props.editReview(updatedObj, props.match.params.gameId);\r\n\r\n        if (Cookies.get(ACCESS_TOKEN)) {\r\n            //If user is signed in\r\n            //@ts-ignore\r\n            const email = jwt_decode(Cookies.get(ACCESS_TOKEN)).subject;\r\n            const editedReviewIndex = _.findIndex(\r\n                props.gameInfoReviews.data?.reviews,\r\n                {\r\n                    //@ts-ignore issue with lodash\r\n                    email: email,\r\n                }\r\n            );\r\n\r\n            itemEls.current[editedReviewIndex]?.scrollIntoView({\r\n                behavior: \"smooth\",\r\n            });\r\n        }\r\n    };\r\n\r\n    const onSubmitDeleteReview = () => {\r\n        props.deleteReview(props.match.params.gameId);\r\n    };\r\n\r\n    const renderContent = () => {\r\n        if (props.errors.data?.error) {\r\n            return (\r\n                <div className=\"serverErrorContainer\">\r\n                    <h3 className=\"serverErrorText\">\r\n                        {props.errors.data?.error}\r\n                    </h3>\r\n                </div>\r\n            );\r\n        } else if (props.gameInfo.data && props.gameInfoReviews.data) {\r\n            if (props.gameInfo.data.games.length > 0)\r\n                //A review can be empty but the game info CANNOT be empty\r\n                return (\r\n                    <div className=\"gameInfoContainer\">\r\n                        <CartAndSearchbar />\r\n\r\n                        <h1 className=\"gameInfoTitle\">\r\n                            {props.gameInfo.data.games[0].title}\r\n                        </h1>\r\n                        <div className=\"gameInfoShowcaseContainer\">\r\n                            <div className=\"gameInfoShowcasePreviewWrap\">\r\n                                <img\r\n                                    className=\"gameInfoShowcaseTitleImage\"\r\n                                    src={props.gameInfo.data.games[0].cover_url}\r\n                                    alt=\"\"\r\n                                    onLoad={() => {\r\n                                        anime({\r\n                                            targets: `.gameInfoShowcaseTitleImage`,\r\n\r\n                                            opacity: [\r\n                                                {\r\n                                                    value: [0, 1],\r\n                                                    duration: 250,\r\n                                                    easing: \"easeOutQuad\",\r\n                                                },\r\n                                            ],\r\n                                        });\r\n                                    }}\r\n                                ></img>\r\n                                <div className=\"gameInfoShowcaseTextWrap\">\r\n                                    <p className=\"showcaseAbout\">\r\n                                        {props.gameInfo.data.games[0].about}\r\n                                    </p>\r\n                                    <p className=\"releaseDate\">\r\n                                        {`Release Date -  ${moment(\r\n                                            props.gameInfo.data.games[0]\r\n                                                .release_date\r\n                                        ).format(\"YYYY/MM/DD\")}`}\r\n                                    </p>\r\n                                    <div className=\"gameInfoGenresWrap\">\r\n                                        {props.gameInfo.data.games[0].genres.map(\r\n                                            (genre, index) => {\r\n                                                return (\r\n                                                    <p\r\n                                                        key={index}\r\n                                                        className=\"gameInfoGenreTag\"\r\n                                                    >\r\n                                                        {genre}\r\n                                                    </p>\r\n                                                );\r\n                                            }\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"gameInfoShowcaseCarouselWrap\">\r\n                                <GameInfoCarousel\r\n                                    screenshots={\r\n                                        props.gameInfo.data.games[0].screenshots\r\n                                    }\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {renderWriteReview()}\r\n                        <div className=\"gameInfoBuyContainer\">\r\n                            <h1>Buy {props.gameInfo.data.games[0].title}</h1>\r\n                            <div className=\"gameInfoAddToCartWrap\">\r\n                                <div className=\"gameInfoPriceWrap\">\r\n                                    {renderPrice(props.gameInfo.data.games[0])}\r\n                                </div>\r\n                                <button\r\n                                    className=\"gameInfoAddToCartButton\"\r\n                                    data-testid=\"addToCartbutton\"\r\n                                    onClick={() => {\r\n                                        if (props.gameInfo.data?.games)\r\n                                            addItem(\r\n                                                props.gameInfo.data.games[0]\r\n                                            );\r\n                                        history.push(\"/cart\");\r\n                                    }}\r\n                                >\r\n                                    Add To Cart\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <h1 className=\"gameInfoSectionTitle\">\r\n                            About This Game\r\n                        </h1>\r\n                        <p className=\"gameDescription\">\r\n                            {props.gameInfo.data.games[0].about}\r\n                        </p>\r\n                        <h1 className=\"gameInfoSectionTitle\">Recent Reviews</h1>\r\n                        {renderEditReview()}\r\n                        <div className=\"reviewsContainer\">\r\n                            {renderReviews(props.gameInfoReviews.data.reviews)}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            else {\r\n                return (\r\n                    <div className=\"loadingCenter\">\r\n                        <Loading />\r\n                    </div>\r\n                );\r\n            }\r\n        } else {\r\n            return (\r\n                <div className=\"loadingCenter\">\r\n                    <Loading />\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    return <React.Fragment>{renderContent()}</React.Fragment>;\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => {\r\n    return {\r\n        gameInfo: state.gameInfo,\r\n        gameInfoReviews: state.gameInfoReviews,\r\n        errors: state.errors,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchGameInfo,\r\n    fetchGameInfoReviews,\r\n    postReview,\r\n    editReview,\r\n    deleteReview,\r\n})(GameInfo);\r\n","import { Game } from \"actions\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Router } from \"react-router-dom\";\r\nimport history from \"../browserHistory\";\r\nimport anime from \"animejs/lib/anime.es.js\";\r\nimport CartAndSearchbar from \"./CartAndSearchbar\";\r\nconst Cart: React.FC<{}> = () => {\r\n    let [cart, setCart] = useState<[]>([]);\r\n    let localCart = localStorage.getItem(\"cart\");\r\n    const removeItem = (gameId: number) => {\r\n        //create cartCopy\r\n        let cartCopy: any = [...cart];\r\n\r\n        cartCopy = cartCopy.filter((item: Game) => item.game_id != gameId);\r\n\r\n        //update state and local\r\n        setCart(cartCopy);\r\n\r\n        let cartString = JSON.stringify(cartCopy);\r\n        localStorage.setItem(\"cart\", cartString);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (localCart != null) {\r\n            let parsedLocalCart = JSON.parse(localCart);\r\n            //load persisted cart into state if it exists\r\n            // console.log(parsedLocalCart);\r\n            setCart(parsedLocalCart);\r\n        }\r\n    }, []);\r\n\r\n    const renderPrice = (game: Game) => {\r\n        if (parseFloat(game.discount_percentage) > 0) {\r\n            return (\r\n                <div className=\"gameInfoAdjustedPriceWrap\">\r\n                    <div>\r\n                        <p className=\"gameInfoOrigPriceStriked\">\r\n                            ${parseFloat(game.price).toFixed(2)}\r\n                        </p>\r\n                        <p className=\"cartPrice\">\r\n                            ${parseFloat(game.price_after_discount).toFixed(2)}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            //no discount\r\n            return (\r\n                <p className=\"cartPrice\">\r\n                    ${parseFloat(game.price).toFixed(2)}\r\n                </p>\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderCartRows = () => {\r\n        if (cart.length === 0) {\r\n            <h1 className=\"emptyCart\">Your cart is empty</h1>;\r\n        }\r\n        return cart.map((game: Game, index) => {\r\n            return (\r\n                <div className=\"cartRow\" key={index}>\r\n                    <div className=\"cartImageAndTitleWrap\">\r\n                        <div\r\n                            className={`cartGameImage cartGameImage${index}`}\r\n                            onLoad={() => {\r\n                                anime({\r\n                                    targets: `.cartGameImage${index}`,\r\n                                    // Properties\r\n                                    // Animation Parameters\r\n\r\n                                    opacity: [\r\n                                        {\r\n                                            value: [0, 1],\r\n                                            duration: 250,\r\n                                            easing: \"easeOutQuad\",\r\n                                        },\r\n                                    ],\r\n                                });\r\n                            }}\r\n                        >\r\n                            <img src={game.cover_url} alt=\"game\"></img>\r\n                        </div>\r\n                        <p className=\"cartTitle\">{game.title}</p>\r\n                    </div>\r\n                    <div className=\"cartPriceAndRemoveWrap\">\r\n                        {/* <p className=\"cartPrice\">\r\n                            ${item.price_after_discount}\r\n                        </p> */}\r\n                        {renderPrice(game)}\r\n                        <p\r\n                            className=\"removeFromCart\"\r\n                            data-testid=\"removeCart\"\r\n                            onClick={() => {\r\n                                removeItem(game.game_id);\r\n                            }}\r\n                        >\r\n                            Remove\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"cartHeaderContainer\">\r\n                <CartAndSearchbar />\r\n                <h1 className=\"cartHeader\">Your shopping cart</h1>\r\n            </div>\r\n            <div className=\"cartContainer\">\r\n                {renderCartRows()}\r\n                <div className=\"totalContainer\">\r\n                    <div className=\"totalTextWrap\">\r\n                        <p className=\"estimatedTotal\">Estimated Total</p>\r\n                        <p className=\"totalPrice\">\r\n                            $\r\n                            {cart\r\n                                .reduce((acc: any, curr: Game) => {\r\n                                    console.log(curr);\r\n                                    return (\r\n                                        parseFloat(acc) +\r\n                                        parseFloat(curr.price_after_discount)\r\n                                    );\r\n                                }, 0)\r\n                                .toFixed(2)}\r\n                        </p>\r\n                    </div>\r\n\r\n                    <button\r\n                        className=\"purchaseButton\"\r\n                        onClick={() => {\r\n                            alert(\r\n                                \"Let's pretend that you purchased these items!\"\r\n                            );\r\n                            localStorage.clear();\r\n                            setCart([]);\r\n                        }}\r\n                    >\r\n                        Purchase\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cart;\r\n","import React, { ComponentType, useEffect } from \"react\";\r\nimport {\r\n    Field,\r\n    reduxForm,\r\n    reset,\r\n    change,\r\n    FormErrors,\r\n    InjectedFormProps,\r\n} from \"redux-form\";\r\n//compose is used to make it easier to \"organize\" mapStateToProps and redux form\r\nimport { StoreState } from \"../reducers\";\r\nimport { connect } from \"react-redux\";\r\nimport { RegisterFormProps } from \"./Register\";\r\n//Re-usable component\r\nexport interface RegisterFormValues {\r\n    email: string;\r\n    password: string;\r\n    username: string;\r\n}\r\n\r\n//Typescriptand redux form:\r\n//https://levelup.gitconnected.com/react-js-typescript-redux-redux-form-jest-e522995ebe36\r\n\r\n//Need to hoist render methods up or else it will give error where it will unfocus after first characther is typed\r\n//https://stackoverflow.com/questions/39839051/using-redux-form-im-losing-focus-after-typing-the-first-character\r\n\r\nconst renderError = ({ error, touched }: any) => {\r\n    if (touched && error) {\r\n        //Touched (for input) will be false at first\r\n        //When clicked and then clicked otuside of the input, it will be true\r\n        return <div className=\"errorText\">{error}</div>;\r\n    }\r\n};\r\n\r\nconst renderTextInput = ({ input, label, meta, placeHolder }: any) => {\r\n    //\"component\" property automatically passes props to argument, it has {input properties and meta properties}\r\n    //\"label\" automatically passes props to arguments\r\n    return (\r\n        <div>\r\n            {/* <label>{label}</label> */}\r\n            <input\r\n                data-testid={label}\r\n                className=\"createAuthInputs\"\r\n                {...input}\r\n                autoComplete=\"off\"\r\n            />\r\n            {renderError(meta)}\r\n        </div>\r\n    );\r\n    //{..input} is shortcut for redux-form; where you take all the input from \"component's\" props and pass it as\r\n    //props to <input>\r\n};\r\n\r\nconst renderPasswordInput = ({ input, label, meta, placeHolder }: any) => {\r\n    return (\r\n        <div>\r\n            {/* <label>{label}</label> */}\r\n            <input\r\n                data-testid={label}\r\n                className=\"createAuthInputs\"\r\n                type=\"password\"\r\n                {...input}\r\n                autoComplete=\"off\"\r\n            />\r\n            {renderError(meta)}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RegisterForm: React.FC<\r\n    RegisterFormProps & InjectedFormProps<{}, RegisterFormProps>\r\n> = (props) => {\r\n    const onSubmit = (formValues: any, dispatch: any) => {\r\n        //onSubmit's default param is any\r\n        //event.preventDefault() is automatically called with handleSubmit, a redux-form property\r\n        //form values are the values from the fields that redux-form automatiacally passes\r\n        //after clicking the submit button\r\n        //dispatch(reset(\"registerForm\"));\r\n        props.onSubmit(formValues);\r\n\r\n        //dispatch(change(\"registerForm\", \"password\", \"\"));\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <form\r\n                className=\"authForm\"\r\n                data-testid=\"registerForm\"\r\n                onSubmit={props.handleSubmit(onSubmit)}\r\n            >\r\n                <div className=\"authFieldSection\">\r\n                    <div className=\"authFormFieldTitleWrap\">\r\n                        <h1>Email</h1>\r\n                        <h3 className=\"authFormFieldTitleEmailInUse\">\r\n                            {props.authStatus}\r\n                        </h3>\r\n                    </div>\r\n                    <Field\r\n                        name=\"email\"\r\n                        label=\"email\"\r\n                        type=\"text\"\r\n                        component={renderTextInput}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"authFieldSection\">\r\n                    <div className=\"authFormFieldTitleWrap\">\r\n                        <h1>Password</h1>\r\n                    </div>\r\n                    <Field\r\n                        name=\"password\"\r\n                        label=\"password\"\r\n                        type=\"password\"\r\n                        component={renderPasswordInput}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"authFieldSection\">\r\n                    <div className=\"authFormFieldTitleWrap\">\r\n                        <h1>Username (Will be shown to other users)</h1>\r\n                    </div>\r\n                    <Field\r\n                        name=\"username\"\r\n                        label=\"username\"\r\n                        type=\"text\"\r\n                        component={renderTextInput}\r\n                    />\r\n                </div>\r\n\r\n                <button className=\"authButton\" data-testid=\"registerButton\">\r\n                    Continue\r\n                </button>\r\n            </form>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst validate = (\r\n    formValues: RegisterFormValues\r\n): FormErrors<RegisterFormValues> => {\r\n    //MUST BE NAMED VALIDATE! Other names would be ignored by reduxForm(..)\r\n    const errors: FormErrors<RegisterFormValues> = {};\r\n    //If you return an empty object, redux form will assume everything is ok\r\n    if (!formValues.email) {\r\n        //user did not enter title, so undefined\r\n        errors.email = \"You must enter an email\";\r\n        //Must be the same name as field name! The \"error\" property in {meta} would receive this\r\n    }\r\n    if (!formValues.password) {\r\n        errors.password = \"You must enter a password\";\r\n    }\r\n\r\n    if (!formValues.username) {\r\n        errors.username = \"You must enter a username\";\r\n    }\r\n\r\n    return errors;\r\n    //Erors is going to be passed to renderInput's meta\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => {\r\n    return {\r\n        authStatus: state.authStatus.errorMessage,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps)(\r\n    reduxForm<{}, RegisterFormProps>({\r\n        form: \"registerForm\",\r\n        validate,\r\n    })(RegisterForm)\r\n);\r\n","import React from \"react\";\r\nimport RegisterForm, { RegisterFormValues } from \"./RegisterForm\";\r\nimport { StoreState } from \"../reducers\";\r\nimport { connect } from \"react-redux\";\r\nimport { signUp } from \"../actions\";\r\nexport interface RegisterFormProps {\r\n    onSubmit(formValues: any): void;\r\n    authStatus?: string | null;\r\n}\r\n\r\nexport interface RegisterPlanProps {\r\n    signUp(formValues: any): void;\r\n    authStatus?: string | null;\r\n}\r\n\r\nconst Register: React.FC<RegisterPlanProps> = (props) => {\r\n    const onSubmitRegister = async (formValues: RegisterFormValues) => {\r\n        props.signUp(formValues);\r\n    };\r\n\r\n    return (\r\n        <div className=\"registerContainer\">\r\n            <div className=\"registerContentWrap\">\r\n                <h1 className=\"createYourAccountHeader\">Create your account</h1>\r\n                <RegisterForm\r\n                    onSubmit={(formValues: any) => onSubmitRegister(formValues)}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => {\r\n    return {\r\n        authStatus: state.authStatus.authenticated,\r\n    };\r\n};\r\nexport default connect(mapStateToProps, { signUp })(Register);\r\n","import React, { ComponentType, useEffect } from \"react\";\r\nimport { Field, reduxForm, FormErrors, InjectedFormProps } from \"redux-form\";\r\n//compose is used to make it easier to \"organize\" mapStateToProps and redux form\r\nimport { StoreState } from \"../reducers\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { SignInFormProps } from \"./SignIn\";\r\n//Re-usable component\r\nexport interface SignInFormValues {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\n//Typescriptand redux form:\r\n//https://levelup.gitconnected.com/react-js-typescript-redux-redux-form-jest-e522995ebe36\r\n\r\n//Need to hoist render methods up or else it will give error where it will unfocus after first characther is typed\r\n//https://stackoverflow.com/questions/39839051/using-redux-form-im-losing-focus-after-typing-the-first-character\r\n\r\nconst renderError = ({ error, touched }: any) => {\r\n    if (touched && error) {\r\n        //Touched (for input) will be false at first\r\n        //When clicked and then clicked otuside of the input, it will be true\r\n        return <div className=\"errorText\">{error}</div>;\r\n    }\r\n};\r\n\r\nconst renderTextInput = ({ input, label, meta, placeholder }: any) => {\r\n    //\"component\" property automatically passes props to argument, it has {input properties and meta properties}\r\n    //\"label\" automatically passes props to arguments\r\n\r\n    return (\r\n        <div>\r\n            {/* <label>{input.placeHolder}</label> */}\r\n            <input\r\n                className=\"signInTextInput\"\r\n                data-testid={label}\r\n                placeholder={placeholder}\r\n                {...input}\r\n                autoComplete=\"off\"\r\n            />\r\n            {renderError(meta)}\r\n        </div>\r\n    );\r\n    //{..input} is shortcut for redux-form; where you take all the input from \"component's\" props and pass it as\r\n    //props to <input>\r\n};\r\n\r\nconst renderPasswordInput = ({ input, label, meta, placeholder }: any) => {\r\n    return (\r\n        <div>\r\n            {/* <label>{label}</label> */}\r\n            <input\r\n                className=\"signInTextInput\"\r\n                data-testid={label}\r\n                placeholder={placeholder}\r\n                type=\"password\"\r\n                {...input}\r\n                autoComplete=\"off\"\r\n            />\r\n            {renderError(meta)}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst SignInForm: React.FC<\r\n    SignInFormProps & InjectedFormProps<{}, SignInFormProps>\r\n> = (props) => {\r\n    const onSubmit = (formValues: any, dispatch: any) => {\r\n        props.onSubmit(formValues);\r\n        // dispatch(change(\"signInForm\", \"password\", \"\"));\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <form\r\n                className=\"signInForm\"\r\n                data-testid=\"signInForm\"\r\n                onSubmit={props.handleSubmit(onSubmit)}\r\n            >\r\n                <div className=\"authFieldSection\">\r\n                    <div className=\"signInFormFieldTitleWrap\">\r\n                        <h1>Email</h1>\r\n                        <h3 className=\"authFormFieldTitleEmailInUse\">\r\n                            {props.authStatus}\r\n                        </h3>\r\n                    </div>\r\n                    <Field\r\n                        name=\"email\"\r\n                        label=\"email\"\r\n                        type=\"text\"\r\n                        component={renderTextInput}\r\n                        placeholder=\"Email\"\r\n                    />\r\n                </div>\r\n                <div className=\"authFieldSection\">\r\n                    <div className=\"signInFormFieldTitleWrap\">\r\n                        <h1>Password</h1>\r\n                        <h3 className=\"authFormFieldTitleEmailInUse\">\r\n                            {props.authStatus}\r\n                        </h3>\r\n                    </div>\r\n                    <Field\r\n                        name=\"password\"\r\n                        label=\"password\"\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        component={renderPasswordInput}\r\n                    />\r\n                </div>\r\n\r\n                <button className=\"signInButton\" data-testid=\"signInButton\">\r\n                    Sign In\r\n                </button>\r\n            </form>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst validate = (\r\n    formValues: SignInFormValues\r\n): FormErrors<SignInFormValues> => {\r\n    //MUST BE NAMED VALIDATE! Other names would be ignored by reduxForm(..)\r\n    const errors: FormErrors<SignInFormValues> = {};\r\n    //If you return an empty object, redux form will assume everything is ok\r\n    if (!formValues.email) {\r\n        //user did not enter title, so undefined\r\n        errors.email = \"You must enter an email\";\r\n        //Must be the same name as field name! The \"error\" property in {meta} would receive this\r\n    }\r\n    if (!formValues.password) {\r\n        errors.password = \"You must enter a password\";\r\n    }\r\n    return errors;\r\n    //Erors is going to be passed to renderInput's meta\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => {\r\n    return {\r\n        authStatus: state.authStatus.errorMessage,\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    {}\r\n)(\r\n    reduxForm<{}, SignInFormProps>({\r\n        form: \"signInForm\",\r\n        validate,\r\n    })(SignInForm)\r\n);\r\n","export default __webpack_public_path__ + \"static/media/joinPc.28a2a871.png\";","import React from \"react\";\r\nimport history from \"../browserHistory\";\r\nimport SignInForm, { SignInFormValues } from \"./SignInForm\";\r\nimport { signIn } from \"../actions\";\r\nimport { StoreState } from \"../reducers\";\r\nimport { connect } from \"react-redux\";\r\nimport anime from \"animejs/lib/anime.es.js\";\r\nimport joinPc from \"../img/joinPc.png\";\r\nexport interface SignInFormProps {\r\n    onSubmit(formValues: any): void;\r\n    authStatus?: string | null;\r\n}\r\n\r\nexport interface SignInProps {\r\n    signIn(formValues: any): void;\r\n    authStatus?: string | null;\r\n}\r\n\r\nconst SignIn: React.FC<SignInProps> = (props) => {\r\n    const onSubmitSignIn = async (formValues: SignInFormValues) => {\r\n        props.signIn(formValues);\r\n    };\r\n\r\n    return (\r\n        <div className=\"signInContainer\">\r\n            <div className=\"signInSectionsWrap\">\r\n                <div className=\"signInFormSection\">\r\n                    <h1 className=\"signInTitle\">Sign In</h1>\r\n                    <SignInForm\r\n                        onSubmit={(formValues: any) =>\r\n                            onSubmitSignIn(formValues)\r\n                        }\r\n                    />\r\n                </div>\r\n                <div className=\"joinSection\">\r\n                    <p className=\"joinSteamText\">\r\n                        Join Steam and discover thousands of games to play.\r\n                    </p>\r\n                    <div className=\"joinImageWrap\">\r\n                        <img\r\n                            className=\"joinImage\"\r\n                            src={joinPc}\r\n                            alt=\"\"\r\n                            onLoad={() => {\r\n                                anime({\r\n                                    targets: `.joinImage`,\r\n                                    // Properties\r\n                                    // Animation Parameters\r\n\r\n                                    opacity: [\r\n                                        {\r\n                                            value: [0, 1],\r\n                                            duration: 100,\r\n                                            easing: \"easeOutQuad\",\r\n                                        },\r\n                                    ],\r\n                                });\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <p>It's free and easy to use.</p>\r\n                    <button\r\n                        className=\"joinSteamButton\"\r\n                        onClick={() => {\r\n                            history.push(\"/register\");\r\n                        }}\r\n                    >\r\n                        Join Steam\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nconst mapStateToProps = (state: StoreState) => {\r\n    return {\r\n        authStatus: state.authStatus.authenticated,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, { signIn })(SignIn);\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport {\r\n    Field,\r\n    reduxForm,\r\n    change,\r\n    FormErrors,\r\n    InjectedFormProps,\r\n} from \"redux-form\";\r\n//compose is used to make it easier to \"organize\" mapStateToProps and redux form\r\nimport { StoreState } from \"../reducers\";\r\nimport { connect } from \"react-redux\";\r\nimport Loading from \"./Loading\";\r\nimport { SERVER_ERROR_MESSAGE } from \"../constants\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport history from \"../browserHistory\";\r\nimport defaultAvatar from \"../img/defaultAvatar.png\";\r\nimport { EditProfileFormProps } from \"./Profile\";\r\nexport interface EditProfileFormValues {\r\n    username: string;\r\n    imagePreview: string;\r\n    image: any;\r\n}\r\n\r\nconst renderError = ({ error, touched }: any) => {\r\n    if (touched && error) {\r\n        //Touched (for input) will be false at first\r\n        //When clicked and then clicked otuside of the input, it will be true\r\n        return <div className=\"errorText\">{error}</div>;\r\n    }\r\n};\r\n\r\nconst renderAutoFocusTextInput = ({ input, label, meta, placeHolder }: any) => {\r\n    //I think there's a bug with the librrary\r\n    //If we have initialValues set for the form and then we don't have an autofocs on for a field\r\n    //refs such as openFileExplorer will not be generated until a text is actualy focused.\r\n    //If we remove the initialValues, refs will be rendered.\r\n    return (\r\n        <div className=\"editProfileInputsWrap\">\r\n            {/* <label>{label}</label> */}\r\n            <input\r\n                className=\"editProfileInputs\"\r\n                {...input}\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n            />\r\n            {renderError(meta)}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst renderFieldSectionLayout = (title: string, children: JSX.Element) => {\r\n    return (\r\n        <div className=\"editProfileFieldSection\">\r\n            <div className=\"editProfileFieldTitleWrap\">\r\n                <h1>{title}</h1>\r\n            </div>\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\nconst EditProfileForm: React.FC<\r\n    EditProfileFormProps & InjectedFormProps<{}, EditProfileFormProps>\r\n> = (props) => {\r\n    const location = useLocation();\r\n    const openFileExplorer = useRef(null);\r\n    const [listingImage, setListingImage] = useState<string | null>(null);\r\n    const [cloudinaryImage, setCloudinaryImage] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (props.cloudinaryImage) setCloudinaryImage(props.cloudinaryImage);\r\n    }, []);\r\n\r\n    const onSubmit = (formValues: any, dispatch: any) => {\r\n        props.onSubmit(formValues);\r\n    };\r\n\r\n    const renderImageUpload = ({\r\n        input,\r\n        label,\r\n        meta,\r\n        placeHolder,\r\n        optionValues,\r\n    }: any) => {\r\n        //We cannot pass in {...input} (so that the input is submited when onSubmit button is clicked) like our other renders because <input> has type=\"file\"\r\n        //Must do this instead: https://github.com/redux-form/redux-form/issues/3686\r\n        //We do not have a name in <input> so that redux won't complain with validate (thus making this input optional)\r\n\r\n        return (\r\n            <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                style={{ display: \"none\" }}\r\n                ref={openFileExplorer}\r\n                onChange={(...args) => {\r\n                    //The input's text dosen't change but the input is actually inserted (do formValues.image below)\r\n                    //  let event = args.map((val) => val.nativeEvent)[0];\r\n                    input.onChange(...args);\r\n                    //@ts-ignore\r\n                    // setListingImage(URL.createObjectURL(event.target.files[0]));\r\n                    //chagne also dosen't change the textbox input\r\n                    // props.dispatch(\r\n                    //     change(\"postAdForm\", \"image\", event.target.files[0])\r\n                    // );\r\n                }}\r\n            />\r\n        );\r\n    };\r\n\r\n    const renderImageUploadPreview = ({\r\n        input,\r\n        label,\r\n        meta,\r\n        placeHolder,\r\n        optionValues,\r\n    }: any) => {\r\n        //We cannot pass in {...input} (so that the input is submited when onSubmit button is clicked) like our other renders because <input> has type=\"file\"\r\n        //Must do this instead: https://github.com/redux-form/redux-form/issues/3686\r\n        //We do not have a name in <input> so that redux won't complain with validate (thus making this input optional)\r\n\r\n        return (\r\n            <input\r\n                type=\"button\"\r\n                {...input}\r\n                className=\"editProfileAvatar\"\r\n                onClick={() => {\r\n                    // @ts-ignore\r\n                    openFileExplorer.current.click();\r\n                }}\r\n                style={renderImage()}\r\n            />\r\n        );\r\n    };\r\n\r\n    const renderImage = () => {\r\n        if (cloudinaryImage) {\r\n            return {\r\n                backgroundImage: `url(${cloudinaryImage}), url(${defaultAvatar})`,\r\n                backgroundPosition: \"center\",\r\n                backgroundSize: \"cover\",\r\n                backgroundColor: \"rgba(58, 62, 71, 0.5);\",\r\n            };\r\n        } else if (!cloudinaryImage && listingImage) {\r\n            return {\r\n                backgroundImage: `url(${listingImage}), url(${defaultAvatar})`,\r\n                backgroundPosition: \"center\",\r\n                backgroundSize: \"cover\",\r\n                backgroundColor: \"rgba(58, 62, 71, 0.5);\",\r\n            };\r\n        } else {\r\n            return {\r\n                backgroundImage: `url(${defaultAvatar})`,\r\n            };\r\n        }\r\n    };\r\n\r\n    const renderFields = (): JSX.Element => {\r\n        return (\r\n            <form\r\n                className=\"editProfileForm\"\r\n                onSubmit={props.handleSubmit(onSubmit)}\r\n            >\r\n                {renderFieldSectionLayout(\r\n                    \"Username\",\r\n                    <Field\r\n                        name=\"username\"\r\n                        type=\"text\"\r\n                        // label=\"Ad Title\"\r\n\r\n                        component={renderAutoFocusTextInput}\r\n                    />\r\n                )}\r\n\r\n                {renderFieldSectionLayout(\r\n                    \"Avatar\",\r\n                    <React.Fragment>\r\n                        <Field\r\n                            name=\"image\"\r\n                            type=\"file\"\r\n                            component={renderImageUpload}\r\n                            //@ts-ignore dont worry\r\n                            value={listingImage}\r\n                            ref={openFileExplorer}\r\n                            withRef\r\n                            onChange={(event: any) => {\r\n                                //For some reason,\r\n                                //The input's text dosen't change but the input is actually inserted (do formValues.image below)\r\n                                setCloudinaryImage(null);\r\n                                setListingImage(\r\n                                    URL.createObjectURL(event.target.files[0])\r\n                                );\r\n                                props.change(\"imagePreview\", null);\r\n\r\n                                // console.log(\r\n                                //     `Selected file - ${event.target.files[0].name}`\r\n                                // );\r\n                                //https://medium.com/@650egor/react-30-day-challenge-day-2-image-upload-preview-2d534f8eaaa\r\n                            }}\r\n                        />\r\n                        <div className=\"imageUploadWrapper\">\r\n                            <Field\r\n                                name=\"imagePreview\"\r\n                                type=\"button\"\r\n                                component={renderImageUploadPreview}\r\n                            />\r\n\r\n                            {(listingImage || cloudinaryImage) && (\r\n                                <h3\r\n                                    className=\"removeUploadedImage\"\r\n                                    onClick={() => {\r\n                                        setListingImage(null);\r\n                                        setCloudinaryImage(null);\r\n                                        props.dispatch(\r\n                                            change(\r\n                                                \"editProfileForm\",\r\n                                                \"image\",\r\n                                                null\r\n                                            )\r\n                                        );\r\n                                        props.change(\"imagePreview\", null);\r\n                                    }}\r\n                                >\r\n                                    Remove\r\n                                </h3>\r\n                            )}\r\n                        </div>\r\n                    </React.Fragment>\r\n                )}\r\n                <div className=\"editProfileSubmitWrap\">\r\n                    <button className=\"editProfileSubmit\">Edit Profile</button>\r\n                </div>\r\n            </form>\r\n        );\r\n    };\r\n\r\n    return <React.Fragment>{renderFields()}</React.Fragment>;\r\n};\r\n\r\nconst validate = (\r\n    formValues: EditProfileFormValues\r\n): FormErrors<EditProfileFormValues> => {\r\n    //MUST BE NAMED VALIDATE! Other names would be ignored by reduxForm(..)\r\n    const errors: FormErrors<EditProfileFormValues> = {};\r\n    //If you return an empty object, redux form will assume everything is ok\r\n    // console.log(\"FILE UPLOAD VALUE\", formValues.image);\r\n    if (!formValues.username) {\r\n        //user did not enter title, so undefined\r\n        errors.username = \"You must enter a username\";\r\n        //Must be the same name as field name! The \"error\" property in {meta} would receive this\r\n    }\r\n\r\n    return errors;\r\n    //Erors is going to be passed to renderInput's meta\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => {\r\n    return {\r\n        // listingDetail: state.listingInfo.data,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n    // fetchCategoriesForListing\r\n})(\r\n    reduxForm<{}, EditProfileFormProps>({\r\n        form: \"editProfileForm\",\r\n        validate,\r\n        enableReinitialize: true,\r\n    })(EditProfileForm)\r\n);\r\n\r\n//enableReinitialize: true is fo:\r\n//initialState does not re-render unless we eable enableReinitialize: true (pretty sure it has to do with the current redux version because\r\n//our music video stream project work without it)\r\n//https://stackoverflow.com/questions/38881324/redux-form-initialvalues-not-updating-with-state\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { StoreState } from \"../reducers\";\r\nimport { History } from \"history\";\r\nimport { validateToken } from \"../actions\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport history from \"../browserHistory\";\r\n\r\nexport interface IHoc {\r\n    authStatus?: string | null;\r\n    history: History;\r\n    validateToken(path: string, retriedCalling: boolean): void;\r\n}\r\n\r\nconst hoc = (ChildComponent: any) => {\r\n    class ComposedComponent extends Component<IHoc> {\r\n        // Our component just got rendered\r\n        //Check for redux store's authStatus\r\n        componentDidMount() {\r\n            this.shouldNavigateAway();\r\n        }\r\n\r\n        // Our component just got updated\r\n        //If our redux store's authStatus changes\r\n        componentDidUpdate() {\r\n            this.shouldNavigateAway();\r\n        }\r\n\r\n        shouldNavigateAway() {\r\n            if (!this.props.authStatus) {\r\n                //if authStatus is empty string\r\n                //history is automatically passed due to React-router\r\n                //If done loading\r\n                this.props.history.push(\"/\");\r\n            } else {\r\n                //When user enter a page,\r\n                //validate access token, if it's not valid, redux's authStatus would be empty\r\n\r\n                this.props.validateToken(\r\n                    `/api/${history.location.pathname}`,\r\n                    false\r\n                );\r\n            }\r\n        }\r\n\r\n        render() {\r\n            return <ChildComponent {...this.props} />;\r\n        }\r\n    }\r\n\r\n    function mapStateToProps(state: StoreState) {\r\n        return {\r\n            authStatus: state.authStatus.authenticated,\r\n        };\r\n    }\r\n\r\n    return connect(mapStateToProps, { validateToken })(ComposedComponent);\r\n};\r\n\r\nexport default hoc;\r\n","import { Profiler } from \"inspector\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport defaultAvatar from \"../img/defaultAvatar.png\";\r\nimport EditProfileForm from \"./EditProfileForm\";\r\nimport { fetchProfile, editProfile } from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport Loading from \"./Loading\";\r\nimport { StoreState } from \"../reducers\";\r\nimport { ProfileStateResponse } from \"../reducers/profileReducer\";\r\nimport { ErrorStateResponse } from \"../reducers/errorReducer\";\r\nimport requireAuth from \"./requireAuth\";\r\n\r\nexport interface EditProfileFormProps {\r\n    onSubmit(formValues: any): void;\r\n    initialValues?: any;\r\n    dispatch?: any;\r\n    listingDetail?: any;\r\n    cloudinaryImage: string;\r\n}\r\n\r\nexport interface ProfileProps {\r\n    fetchProfile(): void;\r\n    editProfile(\r\n        formValues: any,\r\n        cloudinaryPublicId: string | null,\r\n        existingCloudinaryImagePath: string | null\r\n    ): void;\r\n    profile: ProfileStateResponse;\r\n    errors: ErrorStateResponse;\r\n}\r\n\r\nconst Profile: React.FC<ProfileProps> = (props) => {\r\n    const onSubmitEditProfile = (formValues: any) => {\r\n        // console.log(formValues);\r\n        if (props.profile.data?.profile[0].avatar_url) {\r\n            let cloudinaryPaths = props.profile.data?.profile[0].avatar_url.split(\r\n                \"/\"\r\n            );\r\n            let cloudinaryLastPath = cloudinaryPaths.pop();\r\n            //@ts-ignore\r\n            let cloudinaryPublicId = cloudinaryLastPath.split(\".\")[0];\r\n\r\n            if (formValues.image) {\r\n                //Replace existing picture with new picture\r\n                props.editProfile(formValues, cloudinaryPublicId, null);\r\n            } else {\r\n                if (formValues.imagePreview === null) {\r\n                    //user removed picture.\r\n                    //Replace existing picture with nothing\r\n\r\n                    props.editProfile(formValues, cloudinaryPublicId, null);\r\n                } else {\r\n                    //If user has an existing image already, but they did not modify  <input type=\"file\"/>\r\n                    //formValue.image will be empty. So we are going to prevent the user from\r\n                    //updating an the list with an empty image by using the cloudinary image link\r\n                    props.editProfile(\r\n                        formValues,\r\n                        cloudinaryPublicId,\r\n                        props.profile.data?.profile[0].avatar_url\r\n                    );\r\n                }\r\n            }\r\n        } else {\r\n            //If listing does not have initial cloudinary image link (because they made a listing without a picture beforehand\r\n            //or they removed their picture and want to edit their listing picture again)\r\n            //Upload cloudinary image\r\n\r\n            props.editProfile(formValues, null, null);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        props.fetchProfile();\r\n    }, []);\r\n\r\n    const renderContent = () => {\r\n        if (props.errors.data?.error) {\r\n            return (\r\n                <div className=\"serverErrorContainer\">\r\n                    <h3 className=\"serverErrorText\">\r\n                        {props.errors.data?.error}\r\n                    </h3>\r\n                </div>\r\n            );\r\n        } else if (props.profile.data) {\r\n            const { username, avatar_url } = props.profile.data.profile[0];\r\n            return (\r\n                <div className=\"profileContainer\">\r\n                    <div className=\"profileHeader\">\r\n                        <div className=\"profileHeaderAvatar\">\r\n                            <img\r\n                                src={avatar_url ? avatar_url : defaultAvatar}\r\n                                onError={(e: any) => {\r\n                                    e.target.src = defaultAvatar; // some replacement image\r\n                                }}\r\n                                alt=\"avatar\"\r\n                            />\r\n                        </div>\r\n                        <h1>{username}</h1>\r\n                    </div>\r\n                    <div className=\"profileTextAndFormWrap\">\r\n                        <h1 className=\"profileAboutTitle\">About</h1>\r\n                        <div className=\"profileTextWrap\">\r\n                            <p>\r\n                                Set your profile name and avatar. This will help\r\n                                other people identify you on the Steam\r\n                                Community.\r\n                            </p>\r\n                            <p>\r\n                                Your profile name and avatar represent you\r\n                                throughout Steam, and must be appropriate for\r\n                                all audiences.\r\n                            </p>\r\n                        </div>\r\n                        <EditProfileForm\r\n                            onSubmit={onSubmitEditProfile}\r\n                            cloudinaryImage={avatar_url}\r\n                            initialValues={{\r\n                                username: username,\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div className=\"loadingCenter\">\r\n                    <Loading />\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n    return <React.Fragment>{renderContent()}</React.Fragment>;\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => {\r\n    return {\r\n        profile: state.profile,\r\n        errors: state.errors,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchProfile,\r\n    editProfile,\r\n})(requireAuth(Profile));\r\n","import { ActionTypes } from \"./types\";\r\nimport axios from \"./axiosConfig\";\r\nimport { Dispatch } from \"redux\";\r\n\r\nimport { SERVER_ERROR_MESSAGE } from \"../constants\";\r\nimport { GamesErrorAction } from \"./games\";\r\n\r\nexport interface FetchProfileAction {\r\n    type: ActionTypes.FETCH_PROFILE;\r\n    payload: ProfileResponse;\r\n}\r\n\r\nexport interface EditProfileAction {\r\n    type: ActionTypes.EDIT_PROFILE;\r\n    payload: ProfileResponse;\r\n}\r\n\r\nexport interface Profile {\r\n    username: string;\r\n    avatar_url: string;\r\n}\r\nexport interface ProfileResponse {\r\n    profile: Profile[];\r\n}\r\n\r\nexport interface CloudinaryImagePath {\r\n    cloudinaryImagePath: string;\r\n}\r\nexport interface CloudinaryImageDelete {\r\n    result: string;\r\n}\r\n\r\nexport const fetchProfile = () => async (dispatch: Dispatch) => {\r\n    try {\r\n        const response = await axios.get<ProfileResponse>(`/api/get-profile`);\r\n        dispatch<FetchProfileAction>({\r\n            type: ActionTypes.FETCH_PROFILE,\r\n            payload: response.data,\r\n        });\r\n    } catch (error) {\r\n        dispatch<GamesErrorAction>({\r\n            type: ActionTypes.GAME_ERROR,\r\n            payload: { error: SERVER_ERROR_MESSAGE },\r\n        });\r\n    }\r\n};\r\n\r\nexport const editProfile = (\r\n    formValues: any,\r\n    cloudinaryPublicId: string | null,\r\n    existingCloudinaryImagePath: string | null\r\n) => async (dispatch: Dispatch) => {\r\n    //Distributed transaction takes place here, if an error occurs in uploading to one of the storage systems,\r\n    // we haven't handle it (i.e an image may be uploaded, but the data failed to be inserted; the image wouldn't be deleted)\r\n\r\n    //Form data is used to POST a file (image in our case)\r\n    //https://stackoverflow.com/questions/43013858/how-to-post-a-file-from-a-form-with-axios\r\n    try {\r\n        let cloudinaryImagePath = {};\r\n\r\n        if (\r\n            formValues.image instanceof FileList &&\r\n            cloudinaryPublicId != null\r\n        ) {\r\n            //A cloudinary image already exists, ovveride current cloudinary image\r\n            let formData = new FormData();\r\n            formData.append(\"image\", formValues.image[0]);\r\n            //overrides current image with the current publicid\r\n            const imagePathResponse = await axios.put<CloudinaryImagePath>(\r\n                `/api/edit-image/${cloudinaryPublicId}`,\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        \"Content-Type\": \"multipart/form-data\",\r\n                    },\r\n                }\r\n            );\r\n            cloudinaryImagePath = imagePathResponse.data;\r\n        } else if (\r\n            formValues.image instanceof FileList &&\r\n            cloudinaryPublicId === null\r\n        ) {\r\n            //cloudinary image does not exist because user did not create a listing with an image or\r\n            //has removed an image in their lisitng\r\n\r\n            let formData = new FormData();\r\n            formData.append(\"image\", formValues.image[0]);\r\n\r\n            const imagePathResponse = await axios.post<CloudinaryImagePath>(\r\n                \"/api/upload-image\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        \"Content-Type\": \"multipart/form-data\",\r\n                    },\r\n                }\r\n            );\r\n\r\n            cloudinaryImagePath = imagePathResponse.data;\r\n        } else if (\r\n            existingCloudinaryImagePath &&\r\n            Object.keys(cloudinaryImagePath).length === 0\r\n        ) {\r\n            cloudinaryImagePath = {\r\n                cloudinaryImagePath: existingCloudinaryImagePath,\r\n            };\r\n        } else if (formValues.image === null) {\r\n            //User wants to remove image\r\n            await axios.delete<CloudinaryImageDelete>(\r\n                `/api/delete-image/${cloudinaryPublicId}`\r\n            );\r\n        }\r\n\r\n        const response = await axios.patch<ProfileResponse>(\r\n            `/api/edit-profile`,\r\n            {\r\n                ...cloudinaryImagePath,\r\n                ...formValues,\r\n            }\r\n        );\r\n\r\n        dispatch<EditProfileAction>({\r\n            type: ActionTypes.EDIT_PROFILE,\r\n            payload: response.data,\r\n        });\r\n        alert(\"Success! Profile is updated.\");\r\n    } catch (error) {\r\n        console.log(\"error\", error);\r\n        alert(SERVER_ERROR_MESSAGE);\r\n        dispatch<GamesErrorAction>({\r\n            type: ActionTypes.GAME_ERROR,\r\n            payload: { error: SERVER_ERROR_MESSAGE },\r\n        });\r\n    }\r\n};\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport {\r\n    fetchGames,\r\n    fetchDiscountedGames,\r\n    Game,\r\n    fetchGamesByKeyword,\r\n} from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { StoreState } from \"../reducers\";\r\nimport { GamesStateResponse } from \"../reducers/gamesReducer\";\r\nimport { ErrorStateResponse } from \"reducers/errorReducer\";\r\nimport Loading from \"./Loading\";\r\nimport history from \"../browserHistory\";\r\nimport moment from \"moment\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport queryString from \"query-string\";\r\nimport _ from \"lodash\";\r\nimport Searchbar from \"./Searchbar\";\r\nimport anime from \"animejs/lib/anime.es.js\";\r\nimport CartAndSearchbar from \"./CartAndSearchbar\";\r\ninterface SearchProps {\r\n    games: GamesStateResponse;\r\n    discountedGames: GamesStateResponse;\r\n    errors: ErrorStateResponse;\r\n    fetchGames(): void;\r\n    fetchDiscountedGames(): void;\r\n    fetchGamesByKeyword(query: string | string[]): void;\r\n}\r\n\r\nconst Search: React.FC<SearchProps> = (props) => {\r\n    //For Query Strings:\r\n    const { search } = useLocation();\r\n    const queryValues = queryString.parse(search);\r\n\r\n    const [hoverData, setHoverData] = useState(1);\r\n    let localCart = localStorage.getItem(\"cart\");\r\n    useEffect(() => {\r\n        if (queryValues.q) {\r\n            props.fetchGamesByKeyword(queryValues.q);\r\n        } else if (queryValues.specials !== undefined) {\r\n            props.fetchDiscountedGames();\r\n        } else {\r\n            props.fetchGames();\r\n        }\r\n\r\n        //Search is used in the case the person presses a back button after an empty search\r\n    }, [search]);\r\n\r\n    useEffect(() => {\r\n        if (props.discountedGames.data) {\r\n            if (props.discountedGames.data.games.length > 0)\r\n                setHoverData(props.discountedGames.data.games[0].game_id);\r\n        } else if (props.games.data)\r\n            if (props.games.data.games.length > 0)\r\n                setHoverData(props.games.data.games[0].game_id);\r\n    }, [props.games.data, props.discountedGames.data]);\r\n\r\n    const renderScreenshotsForGame = (gameId: number) => {\r\n        let game = _.filter(props.games.data?.games, {\r\n            game_id: gameId,\r\n        });\r\n\r\n        if (game.length === 0)\r\n            game = _.filter(props.discountedGames.data?.games, {\r\n                game_id: gameId,\r\n            });\r\n        let maxScreenshotToShow = 1;\r\n        if (game.length > 0)\r\n            return game[0].screenshots.map((screenshot, index) => {\r\n                if (index < maxScreenshotToShow)\r\n                    return (\r\n                        <img\r\n                            className={`searchScreenshotImage searchScreenshotImage${index}`}\r\n                            onLoad={() => {\r\n                                anime({\r\n                                    targets: `.searchScreenshotImage${index}`,\r\n                                    // Properties\r\n                                    // Animation Parameters\r\n                                    opacity: [\"0\", \"1\"],\r\n\r\n                                    duration: 750,\r\n                                    easing: \"easeOutQuad\",\r\n                                });\r\n                            }}\r\n                            key={index}\r\n                            src={screenshot}\r\n                            alt=\"preview\"\r\n                        ></img>\r\n                    );\r\n            });\r\n    };\r\n\r\n    const renderGenresForGameText = (gameId: number) => {\r\n        let filteredContent = _.filter(props.games.data?.games, {\r\n            game_id: gameId,\r\n        });\r\n        if (filteredContent.length === 0)\r\n            filteredContent = _.filter(props.discountedGames.data?.games, {\r\n                game_id: gameId,\r\n            });\r\n        if (filteredContent.length > 0)\r\n            return filteredContent.map((content, index) => {\r\n                return content.genres.map((genre, index) => {\r\n                    return (\r\n                        <p key={index} className=\"searchGameGenres\">\r\n                            {genre}\r\n                        </p>\r\n                    );\r\n                });\r\n            });\r\n    };\r\n\r\n    const renderChartGamePreview = (gameId: number) => {\r\n        let filteredContent = _.filter(props.games.data?.games, {\r\n            game_id: gameId,\r\n        });\r\n\r\n        if (filteredContent.length === 0)\r\n            filteredContent = _.filter(props.discountedGames.data?.games, {\r\n                game_id: gameId,\r\n            });\r\n\r\n        if (filteredContent.length > 0)\r\n            return (\r\n                <div\r\n                    className={`searchPreviewHover ${\r\n                        hoverData === gameId ? \"\" : \"hideSearchPreviewHover\"\r\n                    }`}\r\n                >\r\n                    <p className=\"searchGamePreviewTitle\">\r\n                        {filteredContent.map((content, index) => {\r\n                            return content.title;\r\n                        })}\r\n                    </p>\r\n\r\n                    <div className=\"chartGamePreviewScreenshots\">\r\n                        {renderScreenshotsForGame(gameId)}\r\n                        <div className=\"searchGameGenresWrap\">\r\n                            {renderGenresForGameText(gameId)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n    };\r\n\r\n    const renderPrice = (content: Game) => {\r\n        if (parseFloat(content.discount_percentage) > 0) {\r\n            return (\r\n                <div className=\"searchGameAdjustedPriceWrap\">\r\n                    <div className=\"searchGameDiscount\">\r\n                        -{parseFloat(content.discount_percentage) * 100}%\r\n                    </div>\r\n                    <div className=\"searchGamePriceTextWrap\">\r\n                        <p className=\"searchGamePriceStriked\">\r\n                            ${parseFloat(content.price).toFixed(2)}\r\n                        </p>\r\n                        <p className=\"searchGamePrice\">\r\n                            $\r\n                            {parseFloat(content.price_after_discount).toFixed(\r\n                                2\r\n                            )}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            //no discount\r\n            return (\r\n                <p className=\"searchGamePrice\">\r\n                    ${parseFloat(content.price).toFixed(2)}\r\n                </p>\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderChartGames = () => {\r\n        let contentToRender = props.games.data?.games;\r\n        if (queryValues.specials !== undefined) {\r\n            contentToRender = props.discountedGames.data?.games;\r\n        }\r\n        if (contentToRender) {\r\n            if (contentToRender.length > 0)\r\n                return contentToRender.map((content, index) => {\r\n                    return (\r\n                        <div\r\n                            key={index}\r\n                            className={`searchGameContainer ${\r\n                                hoverData === content.game_id\r\n                                    ? \"searchGameContainerToggled\"\r\n                                    : \"\"\r\n                            }`}\r\n                            onClick={() => {\r\n                                history.push(`game/${content.game_id}`);\r\n                            }}\r\n                            onMouseOver={() => {\r\n                                setHoverData(content.game_id);\r\n                            }}\r\n                        >\r\n                            <div className=\"searchGameImageAndTitleWrap\">\r\n                                <img\r\n                                    className={`searchGameImage searchGameImage${index}`}\r\n                                    src={content.cover_url}\r\n                                    onLoad={() => {\r\n                                        anime({\r\n                                            targets: `.searchGameImage${index}`,\r\n                                            opacity: [\r\n                                                {\r\n                                                    value: [0, 1],\r\n                                                    duration: 250,\r\n                                                    easing: \"easeOutQuad\",\r\n                                                },\r\n                                            ],\r\n                                        });\r\n                                    }}\r\n                                    alt=\"game\"\r\n                                ></img>\r\n                                <p className=\"searchGameTitle\">\r\n                                    {content.title}\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"searchGameDateAndPriceWrap\">\r\n                                <p className=\"searchGameDate\">\r\n                                    {moment(content.release_date).format(\r\n                                        \"YYYY/MM/DD\"\r\n                                    )}\r\n                                </p>\r\n                                {renderPrice(content)}\r\n                            </div>\r\n                            {renderChartGamePreview(content.game_id)}\r\n                        </div>\r\n                    );\r\n                });\r\n            else {\r\n                return (\r\n                    <div className=\"noResultsWrap\">\r\n                        <p>There are no matches to your search. </p>\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n    };\r\n\r\n    const renderContent = () => {\r\n        if (props.errors.data?.error) {\r\n            return (\r\n                <div className=\"serverErrorContainer\">\r\n                    <h3 className=\"serverErrorText\">\r\n                        {props.errors.data?.error}\r\n                    </h3>\r\n                </div>\r\n            );\r\n        } else if (\r\n            props.games.data?.games ||\r\n            props.discountedGames.data?.games\r\n        ) {\r\n            // if (\r\n            //     props.games.data?.games.length === 0 ||\r\n            //     props.discountedGames.data?.games.length === 0\r\n            // ) {\r\n            //     return (\r\n            //         <React.Fragment>\r\n            //             <div className={`searchContainer`}>\r\n            //                 <CartAndSearchbar />\r\n\r\n            //                 <div className=\"searchColumnsWrap\">\r\n            //                     <div className=\"noResultsWrap\">\r\n            //                         <p>There are no matches to your search. </p>\r\n            //                     </div>\r\n            //                 </div>\r\n            //             </div>\r\n            //         </React.Fragment>\r\n            //     );\r\n            // }\r\n            return (\r\n                <React.Fragment>\r\n                    <div className={`searchContainer`}>\r\n                        <CartAndSearchbar />\r\n                        <div className=\"searchColumnsWrap\">\r\n                            <div className=\"searchGamesColumn\">\r\n                                {renderChartGames()}\r\n                            </div>\r\n\r\n                            {/* {renderChartGamePreview(hoverData)} */}\r\n                        </div>\r\n                    </div>\r\n                </React.Fragment>\r\n            );\r\n        } else {\r\n            return (\r\n                <div className=\"loadingCenter\">\r\n                    <Loading />\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    return <React.Fragment>{renderContent()}</React.Fragment>;\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => {\r\n    return {\r\n        games: state.games,\r\n        discountedGames: state.discountedGames,\r\n        errors: state.errors,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchGames,\r\n    fetchDiscountedGames,\r\n    fetchGamesByKeyword,\r\n})(Search);\r\n","import React, { Fragment } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport Home from \"./Home\";\r\nimport Header from \"./Header\";\r\nimport GameInfo from \"./GameInfo\";\r\nimport Cart from \"./Cart\";\r\nimport Register from \"./Register\";\r\nimport SignIn from \"./SignIn\";\r\nimport Profile from \"./Profile\";\r\nimport Search from \"./Search\";\r\nconst Routes: React.FC<{}> = () => {\r\n    return (\r\n        <React.Fragment>\r\n            <Header />\r\n            <Switch>\r\n                <Route path=\"/\" exact component={Home} />\r\n                <Route path=\"/game/:gameId\" exact component={GameInfo} />\r\n                <Route path=\"/cart\" exact component={Cart} />\r\n                <Route path=\"/signin\" exact component={SignIn} />\r\n                <Route path=\"/register\" exact component={Register} />\r\n                <Route path=\"/profile\" exact component={Profile} />\r\n                <Route path=\"/search\" exact component={Search} />\r\n            </Switch>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\r\nimport { Router } from \"react-router-dom\";\r\nimport history from \"../browserHistory\";\r\nimport Routes from \"./Routes\";\r\nconst App: React.FC<{}> = () => {\r\n    history.listen((_) => {\r\n        window.scrollTo(0, 0);\r\n    });\r\n    return (\r\n        <Router history={history}>\r\n            <Routes />\r\n        </Router>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./css/main.css\";\nimport Root from \"./Root\";\nReactDOM.render(\n    <React.StrictMode>\n        <Root>\n            <App />\n        </Root>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}