(this.webpackJsonpsteam=this.webpackJsonpsteam||[]).push([[0],{342:function(e,t,a){},343:function(e,t,a){"use strict";a.r(t);var c,n=a(2),r=a.n(n),s=a(49),i=a.n(s),o=a(344),l=a(36),d=Object(l.a)(),u=a(9),m=a(12),j=(a(69),a(21)),h=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},p=function(){var e=Object(n.useState)(h()),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){function e(){c(h())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a},b=a(16),O="Uh oh...something went wrong. Check your internet connection and try again.",f="ACCESS_TOKEN",v=992,g=a(15),x=a.n(g),N=a(102),S=a(1),y=function(e){var t=p().width,a=Object(n.useState)(""),c=Object(u.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(!1),o=Object(u.a)(i,2),l=o[0],h=o[1],O=Object(N.useTransition)(r,{from:{opacity:0},enter:{opacity:1},leave:{opacity:1},config:{duration:1e3}}),f=function(e){return parseFloat(e.discount_percentage)>0?Object(S.jsxs)("div",{className:"featuredAdjustedPriceWrap",children:[Object(S.jsx)("div",{className:"featuredDiscount",children:Object(S.jsxs)("p",{children:["-",100*parseFloat(e.discount_percentage),"%"]})}),Object(S.jsxs)("div",{className:"featuredPriceStrikedAndPriceWrap",children:[Object(S.jsxs)("p",{className:"featuredOrigPriceStriked",children:["$",parseFloat(e.price).toFixed(2)]}),Object(S.jsxs)("p",{className:"featuredGamePrice",children:["$",parseFloat(e.price_after_discount).toFixed(2)]})]})]}):Object(S.jsx)("div",{className:"featuredGamePriceInnerWrap",children:Object(S.jsxs)("p",{className:"featuredGamePrice",children:["$",parseFloat(e.price).toFixed(2)]})})},g=function(t){var a=x.a.filter(e.content,{game_id:t});if(a.length>0)return a[0].screenshots.map((function(e,t){if(t<4)return Object(S.jsx)("img",{src:e,onMouseEnter:function(t){s(e)},alt:"preview"},t)}))};return Object(S.jsx)("div",{children:Object(S.jsx)("div",{onMouseEnter:function(e){h(!1)},onMouseLeave:function(e){h(!0)},children:Object(S.jsxs)(m.c,{naturalSlideWidth:100,naturalSlideHeight:t<v?45:31,totalSlides:e.content.length,className:"gameCarouselWrap",visibleSlides:1,infinite:!0,step:1,isPlaying:l,interval:5e3,children:[Object(S.jsxs)("div",{className:"sliderAndButtonWrap",children:[Object(S.jsx)(m.f,{children:e.content.map((function(e,t){return Object(S.jsx)(m.e,{index:t,onClick:function(){d.push("game/".concat(e.game_id))},className:"test",children:Object(S.jsx)("div",{className:"featuredContainerCarousel featuredAnime".concat(t),onLoad:function(){Object(b.a)({targets:".featuredAnime".concat(t),opacity:[{value:[0,1],duration:0,easing:"easeOutQuad"}]})},children:Object(S.jsxs)("div",{className:"featuredCarouselSectionWrap",children:[Object(S.jsxs)("div",{className:"featuredCarouselImageSection",children:[O((function(t,a){return Object(S.jsx)(N.animated.img,{style:t,src:""===r?e.cover_url:r,alt:"game cover"})})),Object(S.jsx)("div",{className:"featuredCarouselGamePrice",children:f(e)})]}),Object(S.jsxs)("div",{className:"featuredCarouselScreenshotSection",children:[Object(S.jsx)("h1",{className:"featuredCarouselGameTitle",children:e.title}),Object(S.jsx)("div",{className:"featuredCarouselGameScreenshotsWrap",onMouseLeave:function(e){s("")},children:g(e.game_id)})]})]})})},t)}))}),Object(S.jsx)(m.a,{className:"gameBackButton ".concat(t<v?"hideFeaturedCarouselButton":""),onClick:function(){s("")},children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(m.b,{className:"gameNextButton ".concat(t<v?"hideFeaturedCarouselButton":""),onClick:function(){s("")},children:Object(S.jsx)(j.b,{})}),Object(S.jsxs)("div",{className:"showButtonsForSmallScreensWrap ".concat(t>v?"hideFeaturedCarouselButtonsWrap":""),children:[Object(S.jsx)(m.a,{className:"gameBackButton",children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(m.b,{className:"gameNextButton",children:Object(S.jsx)(j.b,{})})]})]}),Object(S.jsx)("div",{className:"carouselDotGroupWrap ".concat(t<v?"hideCarouselDotGroup":""),children:Object(S.jsx)(m.d,{})})]})})})},E=a(53),w=a.n(E),I=function(e){var t=p().width,a=x.a.chunk(e.content,6);return Object(S.jsx)("div",{children:Object(S.jsx)("div",{onMouseEnter:function(e){},onMouseLeave:function(e){},children:Object(S.jsxs)(m.c,{naturalSlideWidth:100,naturalSlideHeight:t<520?78:t<768?76:t<v?33:t>=v?30:1,totalSlides:a.length,className:"gameCarouselWrap",visibleSlides:1,infinite:!0,step:1,isPlaying:!1,interval:5e3,children:[Object(S.jsxs)("div",{className:"sliderAndButtonWrap",children:[Object(S.jsx)(m.f,{children:a.map((function(e,t){return Object(S.jsx)(m.e,{index:t,children:Object(S.jsx)(w.a,{children:Object(S.jsx)("div",{className:"specialOfferContainerCarousel specialAnime".concat(t),onLoad:function(){Object(b.a)({targets:".specialAnime".concat(t),opacity:[{value:[0,1],duration:250,easing:"easeOutQuad"}]})},children:Object(S.jsx)("div",{className:"specialOfferCarouselSectionContainer",children:e.map((function(e,t){return Object(S.jsxs)("div",{onClick:function(){d.push("game/".concat(e.game_id))},className:"specialOfferGameContainer",children:[Object(S.jsx)("img",{src:e.cover_url,alt:"game"}),Object(S.jsx)("div",{className:"specialOfferGameTextWrap",children:Object(S.jsxs)("div",{className:"highlightedGamePriceWrap",children:[Object(S.jsxs)("div",{className:"discountGamePrice",children:["-",100*parseFloat(e.discount_percentage),"%"]}),Object(S.jsxs)("div",{className:"adjustedPriceWrap",children:[Object(S.jsxs)("p",{className:"gameOrigPrice",children:["$",parseFloat(e.price).toFixed(2)]}),Object(S.jsxs)("p",{className:"gameAdjustedPrice",children:["$",parseFloat(e.price_after_discount).toFixed(2)]})]})]})})]},t)}))})})})},t)}))}),Object(S.jsx)(m.a,{className:"gameBackButton ".concat(t<v?"hideFeaturedCarouselButton":""),children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(m.b,{className:"gameNextButton ".concat(t<v?"hideFeaturedCarouselButton":""),children:Object(S.jsx)(j.b,{})}),Object(S.jsxs)("div",{className:"showButtonsForSmallScreensWrap ".concat(t>v?"hideFeaturedCarouselButtonsWrap":""),children:[Object(S.jsx)(m.a,{className:"gameBackButton",children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(m.b,{className:"gameNextButton",children:Object(S.jsx)(j.b,{})})]})]}),Object(S.jsx)("div",{className:"carouselDotGroupWrap ".concat(t<v?"hideCarouselDotGroup":""),children:Object(S.jsx)(m.d,{})})]})})})},C=["https://cdn.akamai.steamstatic.com/steam/apps/256767815/movie480.webm?t=1583175736","https://cdn.cloudflare.steamstatic.com/steam/apps/81958/movie480.webm?t=1554409259","https://cdn.cloudflare.steamstatic.com/steam/apps/256694830/movie480.webm?t=1561485484","https://cdn.akamai.steamstatic.com/steam/apps/2028471/movie480.webm?t=1447357639"],F=function(e){var t=p().width,a=Object(n.useState)({opacity:"1"}),c=Object(u.a)(a,2),r=c[0],s=c[1],i=function(e){return parseFloat(e.discount_percentage)>0?Object(S.jsxs)("div",{className:"communityAdjustedPriceWrap",children:[Object(S.jsxs)("div",{className:"communityDiscount",children:["-",100*parseFloat(e.discount_percentage),"%"]}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("p",{className:"communityOrigPriceStriked",children:["$",parseFloat(e.price).toFixed(2)]}),Object(S.jsxs)("p",{className:"communityGamePrice",children:["$",parseFloat(e.price_after_discount).toFixed(2)]})]})]}):Object(S.jsxs)("p",{className:"chartGamePrice",children:["$",parseFloat(e.price).toFixed(2)]})};return Object(S.jsx)("div",{children:Object(S.jsx)("div",{onMouseEnter:function(e){},onMouseLeave:function(e){},children:Object(S.jsxs)(m.c,{naturalSlideWidth:100,naturalSlideHeight:t<v?45:31,totalSlides:e.content.length,className:"gameCarouselWrap",visibleSlides:1,infinite:!0,step:1,interval:5e3,children:[Object(S.jsxs)("div",{className:"sliderAndButtonWrap",children:[Object(S.jsx)(m.f,{children:e.content.map((function(e,t){return Object(S.jsx)(m.e,{index:t,onClick:function(){d.push("/game/".concat(e.game_id))},children:Object(S.jsx)(w.a,{children:Object(S.jsx)("div",{className:"communityContainerCarousel communityAnime".concat(t),onLoad:function(){Object(b.a)({targets:".communityAnime".concat(t),opacity:[{value:[0,1],duration:250,easing:"easeOutQuad"}]})},children:Object(S.jsxs)("div",{className:"communityCarouselSectionWrap",children:[Object(S.jsxs)("div",{className:"communityCarouselImageSection",onMouseEnter:function(e){s({opacity:"1"})},onMouseLeave:function(e){s({opacity:"0"})},children:[Object(S.jsx)("img",{src:e.cover_url,alt:"game"}),Object(S.jsx)("video",{className:"communityCarouselVid",autoPlay:!0,playsInline:!1,muted:!0,loop:!0,style:r,children:Object(S.jsx)("source",{src:C[t],type:"video/mp4"})}),Object(S.jsx)("div",{className:"communityPrice",children:i(e)})]}),Object(S.jsxs)("div",{className:"communityCarouselAboutSection",children:[Object(S.jsx)("p",{className:"communityCarouselGameAbout",children:e.about}),Object(S.jsx)("p",{className:"communityCarouselVisitGame",children:"Visit Game Page"})]})]})},t)})},t)}))}),Object(S.jsx)(m.a,{className:"gameBackButton ".concat(t<v?"hideCommunityCarouselButton":""),children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(m.b,{className:"gameNextButton ".concat(t<v?"hideCommunityCarouselButton":""),children:Object(S.jsx)(j.b,{})}),Object(S.jsxs)("div",{className:"showButtonsForSmallScreensWrap ".concat(t>v?"hideCommunityCarouselButtonsWrap":""),children:[Object(S.jsx)(m.a,{className:"gameBackButton",children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(m.b,{className:"gameNextButton",children:Object(S.jsx)(j.b,{})})]})]}),Object(S.jsx)("div",{className:"carouselDotGroupWrap ".concat(t<v?"hideCarouselDotGroup":""),children:Object(S.jsx)(m.d,{})})]})})})};!function(e){e[e.AUTH_USER=0]="AUTH_USER",e[e.AUTH_ERROR=1]="AUTH_ERROR",e[e.FETCH_GAMES=2]="FETCH_GAMES",e[e.FETCH_GAMES_DISCOUNTED=3]="FETCH_GAMES_DISCOUNTED",e[e.FETCH_GAME_INFO=4]="FETCH_GAME_INFO",e[e.FETCH_GAME_INFO_REVIEWS=5]="FETCH_GAME_INFO_REVIEWS",e[e.POST_REVIEW=6]="POST_REVIEW",e[e.EDIT_REVIEW=7]="EDIT_REVIEW",e[e.DELETE_REVIEW=8]="DELETE_REVIEW",e[e.FETCH_PROFILE=9]="FETCH_PROFILE",e[e.EDIT_PROFILE=10]="EDIT_PROFILE",e[e.FETCH_GAMES_BY_KEYWORD=11]="FETCH_GAMES_BY_KEYWORD",e[e.ADD_TO_CART=12]="ADD_TO_CART",e[e.GAME_ERROR=13]="GAME_ERROR"}(c||(c={}));var R=a(7),A=a.n(R),T=a(13),_=a(146),G=a.n(_),k=a(29),P=a.n(k),W=a(11),B=a(19),D=a(145),U=a(4),M={authenticated:"",errorMessage:""},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.AUTH_USER:return Object(U.a)(Object(U.a)({},e),{},{authenticated:t.payload.token,errorMessage:""});case c.AUTH_ERROR:return Object(U.a)(Object(U.a)({},e),{},{authenticated:"",errorMessage:t.payload});default:return e}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.FETCH_GAMES:case c.FETCH_GAMES_BY_KEYWORD:return Object(U.a)(Object(U.a)({},e),{},{data:t.payload});default:return e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.FETCH_GAMES_DISCOUNTED:return Object(U.a)(Object(U.a)({},e),{},{data:t.payload});default:return e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.FETCH_GAME_INFO:return Object(U.a)(Object(U.a)({},e),{},{data:t.payload});default:return e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.GAME_ERROR:return Object(U.a)(Object(U.a)({},e),{},{data:t.payload});default:return e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.FETCH_GAME_INFO_REVIEWS:case c.POST_REVIEW:case c.EDIT_REVIEW:case c.DELETE_REVIEW:return Object(U.a)(Object(U.a)({},e),{},{data:t.payload});default:return e}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.FETCH_PROFILE:case c.EDIT_PROFILE:return Object(U.a)(Object(U.a)({},e),{},{data:t.payload});default:return e}},q=Object(B.combineReducers)({authStatus:H,games:Q,discountedGames:L,gameInfo:V,gameInfoReviews:Y,profile:J,errors:K,form:D.a}),X=a(149),Z=a(150),z=Object(B.createStore)(q,{authStatus:{authenticated:P.a.get(f)}},Object(X.composeWithDevTools)(Object(B.applyMiddleware)(Z.a))),$=function(e){e.initialState;var t=e.children;return Object(S.jsx)(W.a,{store:z,children:t})},ee=G.a.create({withCredentials:!0});ee.interceptors.request.use((function(e){var t=P.a.get(f);return t&&(e.headers.authorization=t),e}),(function(e){Promise.reject(e)})),ee.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;403!==e.response.status||t._retry||(t._retry=!0,ee.post("/api/token").then((function(e){z.dispatch(ce("/api/".concat(t.url),t._retry))})).catch((function(e){return Promise.reject(e)})))}));var te=ee,ae=function(){return function(){var e=Object(T.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.post("/api/signout");case 3:a=e.sent,t({type:c.AUTH_USER,payload:a.data}),d.push("/"),alert("Signed out succesfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("Signed out failed, try again");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},ce=function(e,t){return function(){var a=Object(T.a)(A.a.mark((function a(n){var r;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,te.post(e,{});case 3:r=a.sent,n({type:c.AUTH_USER,payload:r.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),!0===t&&n(ae());case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},ne=function(){return function(){var e=Object(T.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get("/api/games");case 3:a=e.sent,t({type:c.FETCH_GAMES,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:c.GAME_ERROR,payload:{error:O}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},re=function(){return function(){var e=Object(T.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get("/api/games-discounted");case 3:a=e.sent,t({type:c.FETCH_GAMES_DISCOUNTED,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:c.GAME_ERROR,payload:{error:O}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},se=function(e){return function(){var t=Object(T.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.get("/api/search?q=".concat(e));case 3:n=t.sent,a({type:c.FETCH_GAMES_BY_KEYWORD,payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:c.GAME_ERROR,payload:{error:O}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},ie=a(151),oe=a.n(ie),le=(a(289),function(){var e=p().width;return Object(S.jsx)(oe.a,{type:"ThreeDots",color:"white",height:e<768?50:75,width:e<768?50:75,timeout:3e4})}),de=a(28),ue=a(152);var me=Object(W.b)((function(e){return{}}),{fetchGamesByKeyword:se})((function(e){var t=function(e){var t=Object(n.useState)(e),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Object(n.useRef)(null),i=function(e){s.current&&!s.current.contains(e.target)&&r(!1)};return Object(n.useEffect)((function(){return document.addEventListener("click",i,!0),function(){document.removeEventListener("click",i,!0)}})),{ref:s,isComponentVisible:c,setIsComponentVisible:r}}(!0),a=t.ref,c=t.isComponentVisible,s=t.setIsComponentVisible,i=Object(n.useRef)(null),o=Object(n.useState)(""),l=Object(u.a)(o,2),m=l[0],j=l[1],h=Object(n.useState)(null),p=Object(u.a)(h,2),O=p[0],f=p[1];Object(n.useEffect)((function(){function t(){return(t=Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.get("/api/search?q=".concat(m));case 2:t=e.sent,f(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var a=setTimeout((function(){e.fetchGamesByKeyword&&(""===m||function(){t.apply(this,arguments)}())}),550);return function(){return clearTimeout(a)}}),[m]);return Object(S.jsx)(r.a.Fragment,{children:Object(S.jsxs)("form",{className:"searchBarForm",children:[Object(S.jsx)("input",{autoFocus:!1,"data-testid":"searchBarInput",className:"searchBarInput",type:"search",placeholder:"Search games",name:"search",onChange:function(e){return j(e.target.value)},onKeyDown:function(t){"Enter"===t.key&&(t.preventDefault(),""===m?d.push("/search"):(e.fetchGamesByKeyword&&e.fetchGamesByKeyword(m),d.push("/search?q=".concat(m))))},autoComplete:"off",ref:i,onClick:function(){return s(!0)}}),Object(S.jsx)(ue.a,{className:"searchBarIcons","data-testid":"searchIcon",onClick:function(){d.push("/search?q=".concat(m))}}),Object(S.jsx)("div",{className:"matchContainer ".concat(c?"":"hideMatchContainer"),ref:a,children:function(){if(O&&O.games&&O.games.length>0)return O.games.map((function(e,t){return Object(S.jsxs)("div",{className:"matchRow",onClick:function(){return d.push("/game/".concat(e.game_id))},children:[Object(S.jsx)("img",{className:"matchRowImage matchRowImage".concat(t),src:e.cover_url,onLoad:function(){Object(b.a)({targets:".matchRowImage".concat(t),opacity:["0","1"],duration:750,easing:"easeOutQuad"})},alt:"game"}),Object(S.jsxs)("div",{className:"matchTextWrap",children:[Object(S.jsx)("p",{className:"matchTitle",children:e.title}),Object(S.jsxs)("p",{className:"matchPrice",children:["$",parseFloat(e.price_after_discount).toFixed(2)]})]})]})}))}()})]})})})),je=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=(t[0],t[1],localStorage.getItem("cart"));return Object(S.jsxs)("div",{className:"cartAndSearchWrap",children:[Object(S.jsx)("button",{className:"cart",onClick:function(){d.push("/cart")},children:"Cart(".concat(null!==a?JSON.parse(a).length:"0",")")}),Object(S.jsx)(me,{})]})},he=Object(W.b)((function(e){return{games:e.games,discountedGames:e.discountedGames,errors:e.errors}}),{fetchGames:ne,fetchDiscountedGames:re})((function(e){localStorage.getItem("cart");var t=Object(n.useState)(-9),a=Object(u.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),o=Object(u.a)(i,2),l=o[0],m=o[1];Object(n.useEffect)((function(){e.fetchGames(),e.fetchDiscountedGames()}),[]),Object(n.useEffect)((function(){e.games.data&&e.games.data.games.length>0&&s(e.games.data.games[0].game_id)}),[e.games.data]);p().width;var j=function(t){var a,c,n=x.a.filter(null===(a=e.games.data)||void 0===a?void 0:a.games,{game_id:t});if(0===n.length&&(n=x.a.filter(null===(c=e.discountedGames.data)||void 0===c?void 0:c.games,{game_id:t})),n.length>0)return n.map((function(e,t){return e.genres.map((function(t,a){return e.genres.length===a+1?" ".concat(t):" ".concat(t,",")}))}))},h=function(t){var a,c,n=x.a.filter(null===(a=e.games.data)||void 0===a?void 0:a.games,{game_id:t});if(0===n.length&&(n=x.a.filter(null===(c=e.discountedGames.data)||void 0===c?void 0:c.games,{game_id:t})),n.length>0)return n.map((function(e,t){return e.genres.map((function(e,t){return Object(S.jsx)("p",{className:"chartGamePreviewGenres",children:e},t)}))}))},O=function(t){var a,c,n=x.a.filter(null===(a=e.games.data)||void 0===a?void 0:a.games,{game_id:t});0===n.length&&(n=x.a.filter(null===(c=e.discountedGames.data)||void 0===c?void 0:c.games,{game_id:t}));if(n.length>0)return n[0].screenshots.map((function(e,t){if(t<4)return Object(S.jsx)("img",{className:"gameChartScreenshotPreview gameChartScreenshotPreview".concat(t),onLoad:function(){Object(b.a)({targets:".gameChartScreenshotPreview".concat(t),opacity:[{value:[0,1],duration:250,easing:"easeOutQuad"}]})},src:e,alt:"preview"},t)}))},f=function(e){return parseFloat(e.discount_percentage)>0?Object(S.jsxs)("div",{className:"chartAdjustedPriceWrap",children:[Object(S.jsxs)("div",{className:"chartDiscount",children:["-",100*parseFloat(e.discount_percentage),"%"]}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("p",{className:"chartOrigPriceStriked",children:["$",parseFloat(e.price).toFixed(2)]}),Object(S.jsxs)("p",{className:"chartGamePrice",children:["$",parseFloat(e.price_after_discount).toFixed(2)]})]})]}):Object(S.jsxs)("p",{className:"chartGamePrice",children:["$",parseFloat(e.price).toFixed(2)]})},v=function(){var t,a,n=null===(t=e.games.data)||void 0===t?void 0:t.games;!0===l&&(n=null===(a=e.discountedGames.data)||void 0===a?void 0:a.games);if(n)return n.map((function(e,t){if(t<11)return Object(S.jsxs)("div",{onClick:function(){d.push("game/".concat(e.game_id))},className:"chartGameContainer ".concat(c===e.game_id?"chartGameContainerToggled":""),onMouseOver:function(){s(e.game_id)},children:[Object(S.jsx)("div",{className:"chartGameImage chartGameImage".concat(t),onLoad:function(){Object(b.a)({targets:".chartGameImage".concat(t),opacity:[{value:[0,1],duration:250,easing:"easeOutQuad"}]})},children:Object(S.jsx)("img",{src:e.cover_url,alt:"game"})}),Object(S.jsxs)("div",{className:"chartGameInfo",children:[Object(S.jsxs)("div",{className:"chartGameGenreAndTitle",children:[Object(S.jsx)("p",{className:"chartGameTitle",children:e.title}),Object(S.jsx)("p",{className:"chartGameGenres",children:j(e.game_id)})]}),f(e)]})]},t)}))},g=function(t){var a,c=x.a.filter(null===(a=e.games.data)||void 0===a?void 0:a.games,{game_id:t});if(c.length>0)return Object(S.jsxs)("div",{className:"chartGamePreviewHover",onClick:function(){d.push("game/".concat(t))},children:[Object(S.jsx)("p",{className:"chartGamePreviewTitle",children:c.map((function(e,t){return e.title}))}),Object(S.jsx)("div",{className:"chartGamePreviewGenresWrap",children:h(t)}),Object(S.jsx)("div",{className:"chartGamePreviewScreenshots",children:O(t)})]})};return Object(S.jsx)(r.a.Fragment,{children:function(){var t,a;if(null===(t=e.errors.data)||void 0===t?void 0:t.error)return Object(S.jsx)("div",{className:"serverErrorContainer",children:Object(S.jsx)("h3",{className:"serverErrorText",children:null===(a=e.errors.data)||void 0===a?void 0:a.error})});if(e.games.data&&e.discountedGames.data){if(e.games.data.games.length>0&&e.discountedGames.data.games.length>0){var n,r=null===(n=e.discountedGames.data)||void 0===n?void 0:n.games[0].game_id,i=x.a.chunk(e.games.data.games,4);return i[0]&&i[3]?Object(S.jsxs)("div",{className:"homeContainer",children:[Object(S.jsxs)("div",{className:"homeFirstSection",children:[Object(S.jsx)(je,{}),Object(S.jsx)("h1",{className:"bannerTitle",children:"Featured And Recommended"}),Object(S.jsx)(y,{content:i[0]}),Object(S.jsx)("h1",{className:"bannerTitle",children:"Special Offers"}),Object(S.jsx)(I,{content:e.discountedGames.data.games}),Object(S.jsx)("h1",{className:"bannerTitle",children:"The Community Recommends"}),Object(S.jsx)(F,{content:i[3]})]}),Object(S.jsxs)("div",{className:"chartTabsWrap",children:[Object(S.jsx)("div",{className:"chartTab ".concat(l?"":" chartTabToggled"),onClick:function(){return m(!1)},children:"Top Sellers"}),Object(S.jsx)("div",{className:"chartTab ".concat(l?"chartTabToggled":""),onClick:function(){m(!0),s(r)},children:"Specials"})]}),Object(S.jsxs)("div",{className:"chart",children:[Object(S.jsxs)("div",{className:"chartGamesColumn",children:[Object(S.jsxs)("div",{className:"seeMoreWrap",children:[Object(S.jsx)("p",{className:"seeMoreText",children:"See More:"}),Object(S.jsx)("div",{className:"chartSeeMore",onClick:function(){l?d.push({pathname:"/search",search:"?specials"}):d.push({pathname:"/search"})},children:l?"Specials":"Top Sellers"})]}),v()]}),g(c)]})]}):Object(S.jsx)("div",{className:"loadingCenter",children:Object(S.jsx)(le,{})})}return Object(S.jsx)("div",{className:"loadingCenter",children:Object(S.jsx)(le,{})})}return Object(S.jsx)("div",{className:"loadingCenter",children:Object(S.jsx)(le,{})})}()})})),pe=Object(W.b)((function(e){return{authStatus:e.authStatus.authenticated}}),{signOut:ae})((function(e){return Object(S.jsxs)("nav",{className:"headerContainer","data-testid":"steamHeaderLogo",children:[Object(S.jsx)("div",{className:"headerLogoImageWrap",onClick:function(){d.push("/")},children:Object(S.jsx)("img",{src:"https://store.cloudflare.steamstatic.com/public/shared/images/responsive/header_logo.png",alt:"logo"})}),Object(S.jsxs)("div",{className:"headerAuthWrap",children:[e.authStatus&&Object(S.jsx)("h3",{className:"headerProfileText",onClick:function(){return d.push("/profile")},children:"Profile"}),Object(S.jsx)("h3",{className:"headerAuthText","data-testid":"signInOrSignOut",onClick:function(){e.authStatus?e.signOut():d.push("/signin")},children:e.authStatus?"Sign Out":"Sign In"})]})]})})),be=function(e){p().width;var t=Object(n.useState)(e.screenshots[0]),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(0),i=Object(u.a)(s,2),o=i[0],l=i[1];Object(n.useEffect)((function(){r(e.screenshots[0])}),[e.screenshots]);return Object(S.jsxs)("div",{children:[Object(S.jsx)("img",{className:"gameInfoDisplayImage",src:c,onLoad:function(){Object(b.a)({targets:".gameInfoDisplayImage",opacity:[{value:[0,1],duration:400,easing:"linear"}]})},alt:"game"}),Object(S.jsx)("div",{children:Object(S.jsx)(m.c,{naturalSlideWidth:100,naturalSlideHeight:60,totalSlides:e.screenshots.length,className:"gameCarouselWrap",visibleSlides:4,infinite:!0,step:1,children:Object(S.jsxs)("div",{className:"sliderAndButtonWrap",children:[Object(S.jsx)(m.f,{children:e.screenshots.map((function(e,t){return Object(S.jsx)(m.e,{index:t,children:Object(S.jsx)(w.a,{children:Object(S.jsx)("div",{className:"gameInfoContainerCarousel gameInfoAnime".concat(t),onClick:function(a){r(e),l(t),Object(b.a)({targets:".gameInfoDisplayImage",opacity:[{value:[1,0],duration:0,easing:"linear"}]})},children:Object(S.jsx)("div",{className:"gameInfoCarouselScreenshots gameInfoScreenshot".concat(t," ").concat(o===t?"gameInfoCarouselScreenshotsClicked":""," "),onLoad:function(){Object(b.a)({targets:".gameInfoScreenshot".concat(t),opacity:[{value:[0,1],duration:250,easing:"easeOutQuad"}]})},children:Object(S.jsx)("img",{className:"gameInfoScreenshot",src:e,alt:"screenshot"})})})})},t)}))}),Object(S.jsxs)("div",{className:"showButtonsForSmallScreensWrap",children:[Object(S.jsx)(m.a,{className:"gameBackButton",children:Object(S.jsx)(j.a,{})}),Object(S.jsx)(m.b,{className:"gameNextButton",children:Object(S.jsx)(j.b,{})})]})]})})})]})},Oe=a(143),fe=a(144),ve=a(38),ge=function(e){var t=e.error;if(e.touched&&t)return Object(S.jsx)("div",{className:"errorText",children:t})},xe=function(e){var t=e.input,a=e.label,c=e.meta;e.placeHolder;return Object(S.jsxs)("div",{children:[Object(S.jsx)("textarea",Object(U.a)(Object(U.a)({"data-testid":a,className:"createReviewTextArea"},t),{},{autoComplete:"off"})),ge(c)]})},Ne=Object(W.b)((function(e){return{}}))(Object(fe.a)({form:"writeReview",validate:function(e){var t={};return e.opinion||(t.opinion="You must enter a review"),t}})((function(e){return Object(S.jsx)(r.a.Fragment,{children:Object(S.jsx)("form",{className:"reviewForm","data-testid":"registerForm",onSubmit:e.handleSubmit((function(t,a){e.onSubmit(t)})),children:Object(S.jsxs)("div",{className:"reviewSectionsWrap",children:[Object(S.jsxs)("div",{className:"reviewFieldTitleWrap",children:[Object(S.jsx)("h1",{className:"writeAReviewTitle",children:"Write A Review ".concat(e.authStatus?"":"(as anonymous; sign-in to remove anonymity)")}),Object(S.jsx)("p",{className:"pleaseDescribe",children:"Please describe what you liked or disliked about this game and whether you recommend it to others."})]}),Object(S.jsxs)("div",{className:"reviewContentExceptAvatarWrap",children:[Object(S.jsx)("div",{className:"myReviewWrap",children:Object(S.jsx)(Oe.a,{name:"opinion",label:"opinion",type:"text",component:xe})}),Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"reviewButtonsSection",children:[Object(S.jsxs)("p",{className:"doYouRecommend",children:["Do you recommend this game?"," "]}),Object(S.jsxs)("div",{className:"reviewButtonsWrap",children:[Object(S.jsxs)("div",{className:"recommendOrNotButtonsWrap",children:[Object(S.jsxs)("button",{className:"recommendOrNotButton ".concat(e.recommend?"recommendOrNotButtonClicked":""),type:"button",onClick:function(){return e.onRecommendorNot(!0)},children:[Object(S.jsx)(ve.b,{}),Object(S.jsx)("p",{children:" Yes"})]}),Object(S.jsxs)("button",{className:"recommendOrNotButton ".concat(e.recommend?"":"recommendOrNotButtonClicked"),type:"button",onClick:function(){return e.onRecommendorNot(!1)},children:[Object(S.jsx)(ve.a,{}),Object(S.jsx)("p",{children:"No"})]})]}),Object(S.jsx)("button",{className:"postReviewButton","data-testid":"postReviewButton",children:"Post Review"})]})]})})]}),Object(S.jsx)("h3",{className:"authFormFieldTitleEmailInUse",children:e.authStatus})]})})})}))),Se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALgAAAC4CAIAAADfUbGQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAF4UlEQVR4Xu3dsUtjWRTH8f1bBLsUglVKqzRCKgMprAzYipDCTkiRKkXAzkJIZyHYWQh2gpBSECwDgqUQsBPcu/ib3WFZx3Pee+vk3vP9FAPDcK8h52teEuOdP9YAA0KBCaHAhFBgQigwIRSYEApMCAUmhAITQoEJocCEUGBCKDAhFJgQCkwIBSaEAhNCgQmhwIRQYEIoMCEUmBAKTAgFJoQCE0KBCaHAhFBgQigwIRSYEApMCAUmhAITQoEJocCEUGBCKDAhFJgQCkwIBSaEAhNCgQmhwCR0KOvr6/1+fzQanZyc3P2wXC7f39/Tn/r73V361+FwuL29rWUhRQyl2+2m2c/n8xSEy+vr683NzXg83tra0l5hBAql0+nMZrM0bI29nsfHx1RMq9XS7qULEcre3l6aqybctMvLy52dHX2lchUeSq/X+/8S+Vm6lrXbbX3VEhUbSrooTCYTjfFbvLy8DAYDffnilBlKeiBZLBYa4Pc6PT3VjShLgaEcHh5qaL/J/f19eZeh0kL55svNZ9JlKD2q6TYVoahQ0sO+BrUCUislPa6UE8pKVfIhXYN04/JXSCi//XnJZ87Pz3UTM1dCKOnZgMayksp4zVxCKN/zllplZTxZyT6U4+NjDWSFnZyc6OZmK+9Q0neqRrHycn9QyTuU9J2qOdTz8aGT0WjU/2F3d3c6nZ6dnTV1Xcv9QSXjUNbX1zWEqp6fn4+OjjY3N7XjJ7a2tuoX+fr6qu3ylHEoacYaQiWTycT1aZL6P4hON1h7ZSjjUOqM7fDwULs43d/fawu/m5sb7ZKhXENJlwPd/X6VK/lQOdCsrz65hlL5ulP/rdI67+91u13tkptcQ7m4uNB979TIy9TZbKbtnMbjsbbITa6hPDw86L73aOo1aqfT0Y5O19fX2iI3WYZS+YVxg79mUe2Zynw+1/rcZBlKv9/XHe+RRqv1Tah89dH63GQZyv7+vu51j2bfG51Op9rXSetzk2Uo1YaU8tL6JgyHQ+3rpPW5CRRKumBpfRN2d3e1r5PW5ybLUKq9Nk5PgbW+CVx6MnB3d6d73UOLG0IoMDk7O9PknbQ+N4RSUbX3UZ6enrQ+N4RSxc7OjibvlC6a2iI3hFLF5eWlJu+U7+fcCMVtMBho7H7pRbV2yQ2h+PR6vbe3N43dic+jRNFqteqcppEuWNooQ4TiUOdzkEm+152EUKxub2818Eqa/dn19yMUk/pHJezt7WmvPBHK1+pXcnV1pb2yRShfqF9JepXU6XS0XbYI5VcaOZyn5m+HrAhC+VQjlaRNtF3mCOW/NVIJR3MVrpGDvhaLRUkn5RPKvzVSSXoCy/GhJaOSzxDKP+r8wO9vRVaSEIq02+2XlxdNu6pSK0kIRWr+KCcpuJKEUP5S/2jJsitJCKWB84yLryQhlLrnGUeoJIkeysHBgQZeSZBKkuihPD8/a+Z+cSpJQodS5wDSUJUkoUOp/OwkWiVJ3FB+4wGkOYobyng81tidJpOJtogkbijz+VyT90hPfuP8N/s/CxpK5XMlsz7Pvo6goVQ7VzI9nGh9PEFDGY1GGr7HbDbT+niChlLtvKSsfye0pqChVDsFbmNjQ+vjCRpKhZc8y+VSi0MKGoqG75HvqVqNIBQrQolIw/cglIg0fI/0QkmLQyIUq+l0qsUhEYoVoUSk4XsQSkQavgehRKThexAK8DVCgQmhwIRQYEIoMCEUmBAKTIKGovdGnLQ4JEJx0OKQCMVBi0MiFActDolQHLQ4JEJx0OKQCMVBi0MiFActDolQHLQ4JEJx0OKQCMVBi0MiFActDolQHLQ4JEJx0OKQCMVBi0MiFActDolQHLQ4JEJx0OKQgoYCL0KBCaHAhFBgQigwIRSYEApMCAUmhAITQoEJocCEUGBCKDAhFJgQCkwIBSaEAhNCgQmhwIRQYEIoMCEUmBAKTAgFJoQCE0KBCaHAhFBgQigwIRSYEApMCAUmhAITQoEJocCEUGBCKDAhFJgQCgzW1v4EZzXuuzS1nLIAAAAASUVORK5CYII=",ye=a(84),Ee=a.n(ye),we=function(e){var t=e.error;if(e.touched&&t)return Object(S.jsx)("div",{className:"errorText",children:t})},Ie=function(e){var t=e.input,a=e.label,c=e.meta;e.placeHolder;return Object(S.jsxs)("div",{children:[Object(S.jsx)("textarea",Object(U.a)(Object(U.a)({"data-testid":a,className:"createReviewTextArea"},t),{},{autoComplete:"off"})),we(c)]})},Ce=Object(W.b)()(Object(fe.a)({form:"editReview",validate:function(e){var t={};return e.opinion||(t.opinion="You must enter a review"),t},enableReinitialize:!0})((function(e){return Object(S.jsx)(r.a.Fragment,{children:Object(S.jsx)("form",{className:"reviewForm editForm","data-testid":"editFOrm",onSubmit:e.handleSubmit((function(t,a){e.onSubmit(t)})),children:Object(S.jsxs)("div",{className:"reviewSectionsWrap",children:[Object(S.jsxs)("div",{className:"reviewFieldTitleWrap",children:[Object(S.jsx)("h1",{className:"writeAReviewTitle",children:"Your Review"}),Object(S.jsx)("p",{className:"pleaseDescribe",children:"Please describe what you liked or disliked about this game and whether you recommend it to others."})]}),Object(S.jsx)("div",{className:"myReviewWrap",children:Object(S.jsx)(Oe.a,{name:"opinion",label:"opinion",type:"text",component:Ie})}),Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"reviewButtonsSection",children:[Object(S.jsx)("p",{className:"doYouRecommend",children:"Do you recommend this game?"}),Object(S.jsxs)("div",{className:"reviewButtonsWrap",children:[Object(S.jsxs)("div",{className:"recommendOrNotButtonsWrap",children:[Object(S.jsxs)("button",{className:"recommendOrNotButton ".concat(e.recommend?"recommendOrNotButtonClicked":""),type:"button",onClick:function(){return e.onRecommendorNot(!0)},children:[Object(S.jsx)(ve.b,{}),Object(S.jsx)("p",{children:" Yes"})]}),Object(S.jsxs)("button",{className:"recommendOrNotButton ".concat(e.recommend?"":"recommendOrNotButtonClicked"),type:"button",onClick:function(){return e.onRecommendorNot(!1)},children:[Object(S.jsx)(ve.a,{}),Object(S.jsx)("p",{children:"No"})]})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{className:"editAndDeleteReviewButton deleteReviewButton",type:"button",onClick:function(){return e.onDelete()},children:"Delete Review"}),Object(S.jsx)("button",{className:"editAndDeleteReviewButton",children:"Edit Review"})]})]})]})}),Object(S.jsx)("h3",{className:"authFormFieldTitleEmailInUse",children:e.authStatus})]})})})}))),Fe=a(68),Re=Object(W.b)((function(e){return{gameInfo:e.gameInfo,gameInfoReviews:e.gameInfoReviews,errors:e.errors}}),{fetchGameInfo:function(e){return function(){var t=Object(T.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.get("/api/game-info/".concat(e));case 3:n=t.sent,a({type:c.FETCH_GAME_INFO,payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:c.GAME_ERROR,payload:{error:O}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},fetchGameInfoReviews:function(e){return function(){var t=Object(T.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.get("/api/reviews/".concat(e));case 3:n=t.sent,a({type:c.FETCH_GAME_INFO_REVIEWS,payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:c.GAME_ERROR,payload:{error:O}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},postReview:function(e,t){return function(){var a=Object(T.a)(A.a.mark((function a(n){var r;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,te.post("/api/review/".concat(t),e);case 3:r=a.sent,n({type:c.POST_REVIEW,payload:r.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:c.GAME_ERROR,payload:{error:O}});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},editReview:function(e,t){return function(){var a=Object(T.a)(A.a.mark((function a(n){var r;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,te.patch("/api/edit/".concat(t),e);case 3:r=a.sent,n({type:c.EDIT_REVIEW,payload:r.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:c.GAME_ERROR,payload:{error:O}});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},deleteReview:function(e){return function(){var t=Object(T.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.delete("/api/delete/".concat(e));case 3:n=t.sent,a({type:c.DELETE_REVIEW,payload:n.data}),alert("Success! You have deleted your review."),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:c.GAME_ERROR,payload:{error:O}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],s=a[1],i=localStorage.getItem("cart");Object(n.useEffect)((function(){if(null!=i){var e=JSON.parse(i);s(e)}}),[]);var o=Object(n.useRef)(new Array);Object(n.useEffect)((function(){e.fetchGameInfo(e.match.params.gameId),e.fetchGameInfoReviews(e.match.params.gameId)}),[]),Object(n.useEffect)((function(){if(e.gameInfoReviews.data&&P.a.get(f)){var t,a=Object(Fe.a)(P.a.get(f)).subject,c=x.a.filter(null===(t=e.gameInfoReviews.data)||void 0===t?void 0:t.reviews,{email:a});c.length>0&&h(c[0].recommend)}}),[e.gameInfoReviews.data]);var l=Object(n.useState)(!0),m=Object(u.a)(l,2),j=m[0],h=m[1],p=function(e){h(!!e)},O=function(){if(P.a.get(f)){var t,a=Object(Fe.a)(P.a.get(f)).subject;return x.a.filter(null===(t=e.gameInfoReviews.data)||void 0===t?void 0:t.reviews,{email:a}).length>0?null:Object(S.jsx)(Ne,{recommend:j,onRecommendorNot:p,onSubmit:function(e){return N(e)}})}return Object(S.jsx)(Ne,{recommend:j,onRecommendorNot:p,onSubmit:function(e){return N(e)}})},v=function(){if(P.a.get(f)){var t,a=Object(Fe.a)(P.a.get(f)).subject,c=x.a.filter(null===(t=e.gameInfoReviews.data)||void 0===t?void 0:t.reviews,{email:a});if(c.length>0)return Object(S.jsx)(Ce,{recommend:j,onRecommendorNot:p,onSubmit:function(e){return y(e)},onDelete:E,initialValues:{opinion:c[0].opinion}})}},g=function(e){return e?Object(S.jsxs)(r.a.Fragment,{children:[Object(S.jsx)(ve.b,{className:"reviewerThumbIcon"}),Object(S.jsx)("p",{className:"reviewerVerdict",children:"Recommended"})]}):Object(S.jsxs)(r.a.Fragment,{children:[Object(S.jsx)(ve.a,{className:"reviewerThumbIcon"}),Object(S.jsx)("p",{className:"reviewerVerdict",children:"Not Recommended"})]})},N=function(){var t=Object(T.a)(A.a.mark((function t(a){var c,n,r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={recommend:j},r=Object.assign(a,n),t.next=4,e.postReview(r,e.match.params.gameId);case 4:null===(c=o.current[0])||void 0===c||c.scrollIntoView({behavior:"smooth"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(t){var a={recommend:j},c=Object.assign(t,a);if(e.editReview(c,e.match.params.gameId),P.a.get(f)){var n,r,s=Object(Fe.a)(P.a.get(f)).subject,i=x.a.findIndex(null===(n=e.gameInfoReviews.data)||void 0===n?void 0:n.reviews,{email:s});null===(r=o.current[i])||void 0===r||r.scrollIntoView({behavior:"smooth"})}},E=function(){e.deleteReview(e.match.params.gameId)};return Object(S.jsx)(r.a.Fragment,{children:function(){var t,a,n,r;return(null===(t=e.errors.data)||void 0===t?void 0:t.error)?Object(S.jsx)("div",{className:"serverErrorContainer",children:Object(S.jsx)("h3",{className:"serverErrorText",children:null===(a=e.errors.data)||void 0===a?void 0:a.error})}):e.gameInfo.data&&e.gameInfoReviews.data&&e.gameInfo.data.games.length>0?Object(S.jsxs)("div",{className:"gameInfoContainer",children:[Object(S.jsx)(je,{}),Object(S.jsx)("h1",{className:"gameInfoTitle",children:e.gameInfo.data.games[0].title}),Object(S.jsxs)("div",{className:"gameInfoShowcaseContainer",children:[Object(S.jsxs)("div",{className:"gameInfoShowcasePreviewWrap",children:[Object(S.jsx)("img",{className:"gameInfoShowcaseTitleImage",src:e.gameInfo.data.games[0].cover_url,alt:"",onLoad:function(){Object(b.a)({targets:".gameInfoShowcaseTitleImage",opacity:[{value:[0,1],duration:250,easing:"easeOutQuad"}]})}}),Object(S.jsxs)("div",{className:"gameInfoShowcaseTextWrap",children:[Object(S.jsx)("p",{className:"showcaseAbout",children:e.gameInfo.data.games[0].about}),Object(S.jsx)("p",{className:"releaseDate",children:"Release Date -  ".concat(Ee()(e.gameInfo.data.games[0].release_date).format("YYYY/MM/DD"))}),Object(S.jsx)("div",{className:"gameInfoGenresWrap",children:e.gameInfo.data.games[0].genres.map((function(e,t){return Object(S.jsx)("p",{className:"gameInfoGenreTag",children:e},t)}))})]})]}),Object(S.jsx)("div",{className:"gameInfoShowcaseCarouselWrap",children:Object(S.jsx)(be,{screenshots:e.gameInfo.data.games[0].screenshots})})]}),O(),Object(S.jsxs)("div",{className:"gameInfoBuyContainer",children:[Object(S.jsxs)("h1",{children:["Buy ",e.gameInfo.data.games[0].title]}),Object(S.jsxs)("div",{className:"gameInfoAddToCartWrap",children:[Object(S.jsx)("div",{className:"gameInfoPriceWrap",children:(r=e.gameInfo.data.games[0],parseFloat(r.discount_percentage)>0?Object(S.jsxs)("div",{className:"gameInfoAdjustedPriceWrap",children:[Object(S.jsx)("div",{className:"gameInfoDiscount",children:Object(S.jsxs)("p",{children:["-",100*parseFloat(r.discount_percentage),"%"]})}),Object(S.jsxs)("div",{className:"gameInfoPriceStrikedAndPriceWrap",children:[Object(S.jsxs)("p",{className:"gameInfoOrigPriceStriked",children:["$",parseFloat(r.price).toFixed(2)]}),Object(S.jsxs)("p",{className:"gameInfoPrice",children:["$",parseFloat(r.price_after_discount).toFixed(2)]})]})]}):Object(S.jsx)("div",{className:"chartGamePriceInnerWrap",children:Object(S.jsxs)("p",{className:"chartGamePrice",children:["$",parseFloat(r.price).toFixed(2)]})}))}),Object(S.jsx)("button",{className:"gameInfoAddToCartButton","data-testid":"addToCartbutton",onClick:function(){var t;(null===(t=e.gameInfo.data)||void 0===t?void 0:t.games)&&function(e){var t=Object(de.a)(c),a=e.game_id;t.find((function(e){return e.game_id===a}))||t.push(e),s(t);var n=JSON.stringify(t);localStorage.setItem("cart",n)}(e.gameInfo.data.games[0]),d.push("/cart")},children:"Add To Cart"})]})]}),Object(S.jsx)("h1",{className:"gameInfoSectionTitle",children:"About This Game"}),Object(S.jsx)("p",{className:"gameDescription",children:e.gameInfo.data.games[0].about}),Object(S.jsx)("h1",{className:"gameInfoSectionTitle",children:"Recent Reviews"}),v(),Object(S.jsx)("div",{className:"reviewsContainer",children:(n=e.gameInfoReviews.data.reviews,0===n.length?Object(S.jsx)("h1",{className:"noReviews",children:"There are no reviews for this game."}):n.map((function(e,t){return Object(S.jsxs)("div",{className:"reviewBox",ref:function(e){return o.current[t]=e},children:[Object(S.jsxs)("div",{className:"reviewerInfoWrap",children:[Object(S.jsx)("div",{className:"reviewerAvatarWrap",children:Object(S.jsx)("img",{src:e.avatar_url?e.avatar_url:Se,alt:"avatar",onError:function(e){e.target.src=Se}})}),Object(S.jsx)("p",{className:"reviewerUsername",children:e.username?e.username:"Anonymous User"})]}),Object(S.jsxs)("div",{className:"reviewerReviewWrap",children:[Object(S.jsx)("div",{className:"reviewerVerdictWrap",children:g(e.recommend)}),Object(S.jsx)("p",{className:"reviewerDesc",children:e.opinion})]})]},t)})))})]}):Object(S.jsx)("div",{className:"loadingCenter",children:Object(S.jsx)(le,{})})}()})})),Ae=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],r=localStorage.getItem("cart");Object(n.useEffect)((function(){if(null!=r){var e=JSON.parse(r);c(e)}}),[]);var s=function(e){return parseFloat(e.discount_percentage)>0?Object(S.jsx)("div",{className:"gameInfoAdjustedPriceWrap",children:Object(S.jsxs)("div",{children:[Object(S.jsxs)("p",{className:"gameInfoOrigPriceStriked",children:["$",parseFloat(e.price).toFixed(2)]}),Object(S.jsxs)("p",{className:"cartPrice",children:["$",parseFloat(e.price_after_discount).toFixed(2)]})]})}):Object(S.jsxs)("p",{className:"cartPrice",children:["$",parseFloat(e.price).toFixed(2)]})};return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"cartHeaderContainer",children:[Object(S.jsx)(je,{}),Object(S.jsx)("h1",{className:"cartHeader",children:"Your shopping cart"})]}),Object(S.jsxs)("div",{className:"cartContainer",children:[(a.length,a.map((function(e,t){return Object(S.jsxs)("div",{className:"cartRow",children:[Object(S.jsxs)("div",{className:"cartImageAndTitleWrap",children:[Object(S.jsx)("div",{className:"cartGameImage cartGameImage".concat(t),onLoad:function(){Object(b.a)({targets:".cartGameImage".concat(t),opacity:[{value:[0,1],duration:250,easing:"easeOutQuad"}]})},children:Object(S.jsx)("img",{src:e.cover_url,alt:"game"})}),Object(S.jsx)("p",{className:"cartTitle",children:e.title})]}),Object(S.jsxs)("div",{className:"cartPriceAndRemoveWrap",children:[s(e),Object(S.jsx)("p",{className:"removeFromCart","data-testid":"removeCart",onClick:function(){!function(e){var t=Object(de.a)(a);t=t.filter((function(t){return t.game_id!=e})),c(t);var n=JSON.stringify(t);localStorage.setItem("cart",n)}(e.game_id)},children:"Remove"})]})]},t)}))),Object(S.jsxs)("div",{className:"totalContainer",children:[Object(S.jsxs)("div",{className:"totalTextWrap",children:[Object(S.jsx)("p",{className:"estimatedTotal",children:"Estimated Total"}),Object(S.jsxs)("p",{className:"totalPrice",children:["$",a.reduce((function(e,t){return console.log(t),parseFloat(e)+parseFloat(t.price_after_discount)}),0).toFixed(2)]})]}),Object(S.jsx)("button",{className:"purchaseButton",onClick:function(){alert("Let's pretend that you purchased these items!"),localStorage.clear(),c([])},children:"Purchase"})]})]})]})},Te=function(e){var t=e.error;if(e.touched&&t)return Object(S.jsx)("div",{className:"errorText",children:t})},_e=function(e){var t=e.input,a=e.label,c=e.meta;e.placeHolder;return Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(U.a)(Object(U.a)({"data-testid":a,className:"createAuthInputs"},t),{},{autoComplete:"off"})),Te(c)]})},Ge=function(e){var t=e.input,a=e.label,c=e.meta;e.placeHolder;return Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(U.a)(Object(U.a)({"data-testid":a,className:"createAuthInputs",type:"password"},t),{},{autoComplete:"off"})),Te(c)]})},ke=Object(W.b)((function(e){return{authStatus:e.authStatus.errorMessage}}))(Object(fe.a)({form:"registerForm",validate:function(e){var t={};return e.email||(t.email="You must enter an email"),e.password||(t.password="You must enter a password"),e.username||(t.username="You must enter a username"),t}})((function(e){return Object(S.jsx)(r.a.Fragment,{children:Object(S.jsxs)("form",{className:"authForm","data-testid":"registerForm",onSubmit:e.handleSubmit((function(t,a){e.onSubmit(t)})),children:[Object(S.jsxs)("div",{className:"authFieldSection",children:[Object(S.jsxs)("div",{className:"authFormFieldTitleWrap",children:[Object(S.jsx)("h1",{children:"Email"}),Object(S.jsx)("h3",{className:"authFormFieldTitleEmailInUse",children:e.authStatus})]}),Object(S.jsx)(Oe.a,{name:"email",label:"email",type:"text",component:_e})]}),Object(S.jsxs)("div",{className:"authFieldSection",children:[Object(S.jsx)("div",{className:"authFormFieldTitleWrap",children:Object(S.jsx)("h1",{children:"Password"})}),Object(S.jsx)(Oe.a,{name:"password",label:"password",type:"password",component:Ge})]}),Object(S.jsxs)("div",{className:"authFieldSection",children:[Object(S.jsx)("div",{className:"authFormFieldTitleWrap",children:Object(S.jsx)("h1",{children:"Username (Will be shown to other users)"})}),Object(S.jsx)(Oe.a,{name:"username",label:"username",type:"text",component:_e})]}),Object(S.jsx)("button",{className:"authButton","data-testid":"registerButton",children:"Continue"})]})})}))),Pe=Object(W.b)((function(e){return{authStatus:e.authStatus.authenticated}}),{signUp:function(e){return function(){var t=Object(T.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.post("/api/signup",e);case 3:n=t.sent,a({type:c.AUTH_USER,payload:n.data}),d.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:c.AUTH_ERROR,payload:"- Email is in use"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=function(){var t=Object(T.a)(A.a.mark((function t(a){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.signUp(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"registerContainer",children:Object(S.jsxs)("div",{className:"registerContentWrap",children:[Object(S.jsx)("h1",{className:"createYourAccountHeader",children:"Create your account"}),Object(S.jsx)(ke,{onSubmit:function(e){return t(e)}})]})})})),We=function(e){var t=e.error;if(e.touched&&t)return Object(S.jsx)("div",{className:"errorText",children:t})},Be=function(e){var t=e.input,a=e.label,c=e.meta,n=e.placeholder;return Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(U.a)(Object(U.a)({className:"signInTextInput","data-testid":a,placeholder:n},t),{},{autoComplete:"off"})),We(c)]})},De=function(e){var t=e.input,a=e.label,c=e.meta,n=e.placeholder;return Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(U.a)(Object(U.a)({className:"signInTextInput","data-testid":a,placeholder:n,type:"password"},t),{},{autoComplete:"off"})),We(c)]})},Ue=Object(W.b)((function(e){return{authStatus:e.authStatus.errorMessage}}),{})(Object(fe.a)({form:"signInForm",validate:function(e){var t={};return e.email||(t.email="You must enter an email"),e.password||(t.password="You must enter a password"),t}})((function(e){return Object(S.jsx)(r.a.Fragment,{children:Object(S.jsxs)("form",{className:"signInForm","data-testid":"signInForm",onSubmit:e.handleSubmit((function(t,a){e.onSubmit(t)})),children:[Object(S.jsxs)("div",{className:"authFieldSection",children:[Object(S.jsxs)("div",{className:"signInFormFieldTitleWrap",children:[Object(S.jsx)("h1",{children:"Email"}),Object(S.jsx)("h3",{className:"authFormFieldTitleEmailInUse",children:e.authStatus})]}),Object(S.jsx)(Oe.a,{name:"email",label:"email",type:"text",component:Be,placeholder:"Email"})]}),Object(S.jsxs)("div",{className:"authFieldSection",children:[Object(S.jsxs)("div",{className:"signInFormFieldTitleWrap",children:[Object(S.jsx)("h1",{children:"Password"}),Object(S.jsx)("h3",{className:"authFormFieldTitleEmailInUse",children:e.authStatus})]}),Object(S.jsx)(Oe.a,{name:"password",label:"password",type:"password",placeholder:"Password",component:De})]}),Object(S.jsx)("button",{className:"signInButton","data-testid":"signInButton",children:"Sign In"})]})})}))),Me=a.p+"static/media/joinPc.28a2a871.png",He=Object(W.b)((function(e){return{authStatus:e.authStatus.authenticated}}),{signIn:function(e){return function(){var t=Object(T.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.post("/api/signin",e);case 3:n=t.sent,a({type:c.AUTH_USER,payload:n.data}),d.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:c.AUTH_ERROR,payload:"- Invalid login credentials"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=function(){var t=Object(T.a)(A.a.mark((function t(a){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.signIn(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsx)("div",{className:"signInContainer",children:Object(S.jsxs)("div",{className:"signInSectionsWrap",children:[Object(S.jsxs)("div",{className:"signInFormSection",children:[Object(S.jsx)("h1",{className:"signInTitle",children:"Sign In"}),Object(S.jsx)(Ue,{onSubmit:function(e){return t(e)}})]}),Object(S.jsxs)("div",{className:"joinSection",children:[Object(S.jsx)("p",{className:"joinSteamText",children:"Join Steam and discover thousands of games to play."}),Object(S.jsx)("div",{className:"joinImageWrap",children:Object(S.jsx)("img",{className:"joinImage",src:Me,alt:"",onLoad:function(){Object(b.a)({targets:".joinImage",opacity:[{value:[0,1],duration:100,easing:"easeOutQuad"}]})}})}),Object(S.jsx)("p",{children:"It's free and easy to use."}),Object(S.jsx)("button",{className:"joinSteamButton",onClick:function(){d.push("/register")},children:"Join Steam"})]})]})})})),Qe=a(46),Le=function(e){var t=e.error;if(e.touched&&t)return Object(S.jsx)("div",{className:"errorText",children:t})},Ve=function(e){var t=e.input,a=(e.label,e.meta);e.placeHolder;return Object(S.jsxs)("div",{className:"editProfileInputsWrap",children:[Object(S.jsx)("input",Object(U.a)(Object(U.a)({className:"editProfileInputs"},t),{},{autoComplete:"off",autoFocus:!0})),Le(a)]})},Ke=function(e,t){return Object(S.jsxs)("div",{className:"editProfileFieldSection",children:[Object(S.jsx)("div",{className:"editProfileFieldTitleWrap",children:Object(S.jsx)("h1",{children:e})}),t]})},Ye=Object(W.b)((function(e){return{}}),{})(Object(fe.a)({form:"editProfileForm",validate:function(e){var t={};return e.username||(t.username="You must enter a username"),t},enableReinitialize:!0})((function(e){Object(o.d)();var t=Object(n.useRef)(null),a=Object(n.useState)(null),c=Object(u.a)(a,2),s=c[0],i=c[1],l=Object(n.useState)(null),d=Object(u.a)(l,2),m=d[0],j=d[1];Object(n.useEffect)((function(){e.cloudinaryImage&&j(e.cloudinaryImage)}),[]);var h=function(t,a){e.onSubmit(t)},p=function(e){var a=e.input;e.label,e.meta,e.placeHolder,e.optionValues;return Object(S.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},ref:t,onChange:function(){a.onChange.apply(a,arguments)}})},b=function(e){var a=e.input;e.label,e.meta,e.placeHolder,e.optionValues;return Object(S.jsx)("input",Object(U.a)(Object(U.a)({type:"button"},a),{},{className:"editProfileAvatar",onClick:function(){t.current.click()},style:O()}))},O=function(){return m?{backgroundImage:"url(".concat(m,"), url(").concat(Se,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundColor:"rgba(58, 62, 71, 0.5);"}:!m&&s?{backgroundImage:"url(".concat(s,"), url(").concat(Se,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundColor:"rgba(58, 62, 71, 0.5);"}:{backgroundImage:"url(".concat(Se,")")}};return Object(S.jsx)(r.a.Fragment,{children:Object(S.jsxs)("form",{className:"editProfileForm",onSubmit:e.handleSubmit(h),children:[Ke("Username",Object(S.jsx)(Oe.a,{name:"username",type:"text",component:Ve})),Ke("Avatar",Object(S.jsxs)(r.a.Fragment,{children:[Object(S.jsx)(Oe.a,{name:"image",type:"file",component:p,value:s,ref:t,withRef:!0,onChange:function(t){j(null),i(URL.createObjectURL(t.target.files[0])),e.change("imagePreview",null)}}),Object(S.jsxs)("div",{className:"imageUploadWrapper",children:[Object(S.jsx)(Oe.a,{name:"imagePreview",type:"button",component:b}),(s||m)&&Object(S.jsx)("h3",{className:"removeUploadedImage",onClick:function(){i(null),j(null),e.dispatch(Object(Qe.a)("editProfileForm","image",null)),e.change("imagePreview",null)},children:"Remove"})]})]})),Object(S.jsx)("div",{className:"editProfileSubmitWrap",children:Object(S.jsx)("button",{className:"editProfileSubmit",children:"Edit Profile"})})]})})}))),Je=a(20),qe=a(22),Xe=a(24),Ze=a(25),ze=function(e){var t=function(t){Object(Xe.a)(c,t);var a=Object(Ze.a)(c);function c(){return Object(Je.a)(this,c),a.apply(this,arguments)}return Object(qe.a)(c,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.authStatus?this.props.validateToken("/api/".concat(d.location.pathname),!1):this.props.history.push("/")}},{key:"render",value:function(){return Object(S.jsx)(e,Object(U.a)({},this.props))}}]),c}(n.Component);return Object(W.b)((function(e){return{authStatus:e.authStatus.authenticated}}),{validateToken:ce})(t)},$e=Object(W.b)((function(e){return{profile:e.profile,errors:e.errors}}),{fetchProfile:function(){return function(){var e=Object(T.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.get("/api/get-profile");case 3:a=e.sent,t({type:c.FETCH_PROFILE,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:c.GAME_ERROR,payload:{error:O}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},editProfile:function(e,t,a){return function(){var n=Object(T.a)(A.a.mark((function n(r){var s,i,o,l,d,u;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,s={},!(e.image instanceof FileList&&null!=t)){n.next=11;break}return(i=new FormData).append("image",e.image[0]),n.next=7,te.put("/api/edit-image/".concat(t),i,{headers:{"Content-Type":"multipart/form-data"}});case 7:o=n.sent,s=o.data,n.next=27;break;case 11:if(!(e.image instanceof FileList&&null===t)){n.next=20;break}return(l=new FormData).append("image",e.image[0]),n.next=16,te.post("/api/upload-image",l,{headers:{"Content-Type":"multipart/form-data"}});case 16:d=n.sent,s=d.data,n.next=27;break;case 20:if(!a||0!==Object.keys(s).length){n.next=24;break}s={cloudinaryImagePath:a},n.next=27;break;case 24:if(null!==e.image){n.next=27;break}return n.next=27,te.delete("/api/delete-image/".concat(t));case 27:return n.next=29,te.patch("/api/edit-profile",Object(U.a)(Object(U.a)({},s),e));case 29:u=n.sent,r({type:c.EDIT_PROFILE,payload:u.data}),alert("Success! Profile is updated."),n.next=39;break;case 34:n.prev=34,n.t0=n.catch(0),console.log("error",n.t0),alert(O),r({type:c.GAME_ERROR,payload:{error:O}});case 39:case"end":return n.stop()}}),n,null,[[0,34]])})));return function(e){return n.apply(this,arguments)}}()}})(ze((function(e){var t=function(t){var a;if(null===(a=e.profile.data)||void 0===a?void 0:a.profile[0].avatar_url){var c,n,r=(null===(c=e.profile.data)||void 0===c?void 0:c.profile[0].avatar_url.split("/")).pop().split(".")[0];if(t.image)e.editProfile(t,r,null);else if(null===t.imagePreview)e.editProfile(t,r,null);else e.editProfile(t,r,null===(n=e.profile.data)||void 0===n?void 0:n.profile[0].avatar_url)}else e.editProfile(t,null,null)};Object(n.useEffect)((function(){e.fetchProfile()}),[]);return Object(S.jsx)(r.a.Fragment,{children:function(){var a,c;if(null===(a=e.errors.data)||void 0===a?void 0:a.error)return Object(S.jsx)("div",{className:"serverErrorContainer",children:Object(S.jsx)("h3",{className:"serverErrorText",children:null===(c=e.errors.data)||void 0===c?void 0:c.error})});if(e.profile.data){var n=e.profile.data.profile[0],r=n.username,s=n.avatar_url;return Object(S.jsxs)("div",{className:"profileContainer",children:[Object(S.jsxs)("div",{className:"profileHeader",children:[Object(S.jsx)("div",{className:"profileHeaderAvatar",children:Object(S.jsx)("img",{src:s||Se,onError:function(e){e.target.src=Se},alt:"avatar"})}),Object(S.jsx)("h1",{children:r})]}),Object(S.jsxs)("div",{className:"profileTextAndFormWrap",children:[Object(S.jsx)("h1",{className:"profileAboutTitle",children:"About"}),Object(S.jsxs)("div",{className:"profileTextWrap",children:[Object(S.jsx)("p",{children:"Set your profile name and avatar. This will help other people identify you on the Steam Community."}),Object(S.jsx)("p",{children:"Your profile name and avatar represent you throughout Steam, and must be appropriate for all audiences."})]}),Object(S.jsx)(Ye,{onSubmit:t,cloudinaryImage:s,initialValues:{username:r}})]})]})}return Object(S.jsx)("div",{className:"loadingCenter",children:Object(S.jsx)(le,{})})}()})}))),et=a(153),tt=a.n(et),at=Object(W.b)((function(e){return{games:e.games,discountedGames:e.discountedGames,errors:e.errors}}),{fetchGames:ne,fetchDiscountedGames:re,fetchGamesByKeyword:se})((function(e){var t=Object(o.d)().search,a=tt.a.parse(t),c=Object(n.useState)(1),s=Object(u.a)(c,2),i=s[0],l=s[1];localStorage.getItem("cart");Object(n.useEffect)((function(){a.q?e.fetchGamesByKeyword(a.q):void 0!==a.specials?e.fetchDiscountedGames():e.fetchGames()}),[t]),Object(n.useEffect)((function(){e.discountedGames.data?e.discountedGames.data.games.length>0&&l(e.discountedGames.data.games[0].game_id):e.games.data&&e.games.data.games.length>0&&l(e.games.data.games[0].game_id)}),[e.games.data,e.discountedGames.data]);var m=function(t){var a,c,n=x.a.filter(null===(a=e.games.data)||void 0===a?void 0:a.games,{game_id:t});0===n.length&&(n=x.a.filter(null===(c=e.discountedGames.data)||void 0===c?void 0:c.games,{game_id:t}));if(n.length>0)return n[0].screenshots.map((function(e,t){if(t<1)return Object(S.jsx)("img",{className:"searchScreenshotImage searchScreenshotImage".concat(t),onLoad:function(){Object(b.a)({targets:".searchScreenshotImage".concat(t),opacity:["0","1"],duration:750,easing:"easeOutQuad"})},src:e,alt:"preview"},t)}))},j=function(t){var a,c,n=x.a.filter(null===(a=e.games.data)||void 0===a?void 0:a.games,{game_id:t});if(0===n.length&&(n=x.a.filter(null===(c=e.discountedGames.data)||void 0===c?void 0:c.games,{game_id:t})),n.length>0)return n.map((function(e,t){return e.genres.map((function(e,t){return Object(S.jsx)("p",{className:"searchGameGenres",children:e},t)}))}))},h=function(t){var a,c,n=x.a.filter(null===(a=e.games.data)||void 0===a?void 0:a.games,{game_id:t});if(0===n.length&&(n=x.a.filter(null===(c=e.discountedGames.data)||void 0===c?void 0:c.games,{game_id:t})),n.length>0)return Object(S.jsxs)("div",{className:"searchPreviewHover ".concat(i===t?"":"hideSearchPreviewHover"),children:[Object(S.jsx)("p",{className:"searchGamePreviewTitle",children:n.map((function(e,t){return e.title}))}),Object(S.jsxs)("div",{className:"chartGamePreviewScreenshots",children:[m(t),Object(S.jsx)("div",{className:"searchGameGenresWrap",children:j(t)})]})]})},p=function(e){return parseFloat(e.discount_percentage)>0?Object(S.jsxs)("div",{className:"searchGameAdjustedPriceWrap",children:[Object(S.jsxs)("div",{className:"searchGameDiscount",children:["-",100*parseFloat(e.discount_percentage),"%"]}),Object(S.jsxs)("div",{className:"searchGamePriceTextWrap",children:[Object(S.jsxs)("p",{className:"searchGamePriceStriked",children:["$",parseFloat(e.price).toFixed(2)]}),Object(S.jsxs)("p",{className:"searchGamePrice",children:["$",parseFloat(e.price_after_discount).toFixed(2)]})]})]}):Object(S.jsxs)("p",{className:"searchGamePrice",children:["$",parseFloat(e.price).toFixed(2)]})},O=function(){var t,c,n=null===(t=e.games.data)||void 0===t?void 0:t.games;void 0!==a.specials&&(n=null===(c=e.discountedGames.data)||void 0===c?void 0:c.games);if(n)return n.length>0?n.map((function(e,t){return Object(S.jsxs)("div",{className:"searchGameContainer ".concat(i===e.game_id?"searchGameContainerToggled":""),onClick:function(){d.push("game/".concat(e.game_id))},onMouseOver:function(){l(e.game_id)},children:[Object(S.jsxs)("div",{className:"searchGameImageAndTitleWrap",children:[Object(S.jsx)("img",{className:"searchGameImage searchGameImage".concat(t),src:e.cover_url,onLoad:function(){Object(b.a)({targets:".searchGameImage".concat(t),opacity:[{value:[0,1],duration:250,easing:"easeOutQuad"}]})},alt:"game"}),Object(S.jsx)("p",{className:"searchGameTitle",children:e.title})]}),Object(S.jsxs)("div",{className:"searchGameDateAndPriceWrap",children:[Object(S.jsx)("p",{className:"searchGameDate",children:Ee()(e.release_date).format("YYYY/MM/DD")}),p(e)]}),h(e.game_id)]},t)})):Object(S.jsx)("div",{className:"noResultsWrap",children:Object(S.jsx)("p",{children:"There are no matches to your search. "})})};return Object(S.jsx)(r.a.Fragment,{children:function(){var t,a,c,n;return(null===(t=e.errors.data)||void 0===t?void 0:t.error)?Object(S.jsx)("div",{className:"serverErrorContainer",children:Object(S.jsx)("h3",{className:"serverErrorText",children:null===(n=e.errors.data)||void 0===n?void 0:n.error})}):(null===(a=e.games.data)||void 0===a?void 0:a.games)||(null===(c=e.discountedGames.data)||void 0===c?void 0:c.games)?Object(S.jsx)(r.a.Fragment,{children:Object(S.jsxs)("div",{className:"searchContainer",children:[Object(S.jsx)(je,{}),Object(S.jsx)("div",{className:"searchColumnsWrap",children:Object(S.jsx)("div",{className:"searchGamesColumn",children:O()})})]})}):Object(S.jsx)("div",{className:"loadingCenter",children:Object(S.jsx)(le,{})})}()})})),ct=function(){return Object(S.jsxs)(r.a.Fragment,{children:[Object(S.jsx)(pe,{}),Object(S.jsxs)(o.c,{children:[Object(S.jsx)(o.a,{path:"/",exact:!0,component:he}),Object(S.jsx)(o.a,{path:"/game/:gameId",exact:!0,component:Re}),Object(S.jsx)(o.a,{path:"/cart",exact:!0,component:Ae}),Object(S.jsx)(o.a,{path:"/signin",exact:!0,component:He}),Object(S.jsx)(o.a,{path:"/register",exact:!0,component:Pe}),Object(S.jsx)(o.a,{path:"/profile",exact:!0,component:$e}),Object(S.jsx)(o.a,{path:"/search",exact:!0,component:at})]})]})},nt=function(){return d.listen((function(e){window.scrollTo(0,0)})),Object(S.jsx)(o.b,{history:d,children:Object(S.jsx)(ct,{})})};a(342);i.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)($,{children:Object(S.jsx)(nt,{})})}),document.getElementById("root"))}},[[343,1,2]]]);
//# sourceMappingURL=main.49705d3f.chunk.js.map